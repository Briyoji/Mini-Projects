{"version":3,"file":"rudder-analytics.min.js","sources":["../../node_modules/component-emitter/index.js","../../node_modules/ramda/es/internal/_isPlaceholder.js","../../node_modules/ramda/es/internal/_curry1.js","../../node_modules/ramda/es/internal/_curry2.js","../../node_modules/ramda/es/internal/_curry3.js","../../node_modules/ramda/es/internal/_has.js","../../node_modules/ramda/es/type.js","../../node_modules/ramda/es/internal/_isObject.js","../../node_modules/ramda/es/internal/_clone.js","../../node_modules/ramda/es/internal/_cloneRegExp.js","../../node_modules/ramda/es/clone.js","../../node_modules/ramda/es/mergeWithKey.js","../../node_modules/ramda/es/mergeDeepWithKey.js","../../node_modules/ramda/es/mergeDeepWith.js","../../node_modules/get-value/index.js","../../node_modules/isobject/index.js","../../node_modules/@lukeed/uuid/dist/index.mjs","../../node_modules/@lukeed/uuid/secure/index.mjs","../../node_modules/@lukeed/csprng/browser/index.mjs","../../src/utils/logUtil.js","../../src/integrations/AdobeAnalytics/constants.js","../../src/integrations/Amplitude/constants.js","../../src/integrations/BingAds/constants.js","../../src/integrations/Bugsnag/constants.js","../../src/integrations/Clevertap/constants.js","../../src/integrations/Comscore/constants.js","../../src/integrations/Drip/constants.js","../../src/integrations/Fullstory/constants.js","../../src/integrations/GA4/constants.js","../../src/integrations/GoogleAds/constants.js","../../src/integrations/GoogleOptimize/constants.js","../../src/integrations/HubSpot/constants.js","../../src/integrations/INTERCOM/constants.js","../../src/integrations/Kissmetrics/constants.js","../../src/integrations/Klaviyo/constants.js","../../src/integrations/LinkedInInsightTag/constants.js","../../src/integrations/Lotame/constants.js","../../src/integrations/Lytics/constants.js","../../src/integrations/Mixpanel/constants.js","../../src/integrations/MoEngage/constants.js","../../src/integrations/Optimizely/constants.js","../../src/integrations/Pendo/constants.js","../../src/integrations/PostAffiliatePro/constants.js","../../src/integrations/Posthog/constants.js","../../src/integrations/ProfitWell/constants.js","../../src/integrations/Qualtrics/constants.js","../../src/integrations/QuantumMetric/constants.js","../../src/integrations/RedditPixel/constants.js","../../src/integrations/Sentry/constants.js","../../src/integrations/SnapPixel/constants.js","../../src/integrations/TVSquared/constants.js","../../src/integrations/VWO/constants.js","../../src/integrations/GA360/constants.js","../../src/integrations/DCMFloodlight/constants.js","../../src/integrations/Matomo/constants.js","../../src/integrations/Vero/constants.js","../../src/integrations/Mouseflow/constants.js","../../src/integrations/Rockerbox/constants.js","../../src/integrations/ConvertFlow/constants.js","../../src/integrations/SnapEngage/constants.js","../../src/integrations/LiveChat/constants.js","../../src/integrations/Shynet/constants.js","../../src/integrations/Woopra/constants.js","../../src/integrations/RollBar/constants.js","../../src/integrations/QuoraPixel/constants.js","../../src/integrations/June/constants.js","../../src/integrations/Iterable/constants.js","../../src/integrations/Refiner/constants.js","../../src/integrations/Qualaroo/constants.js","../../src/integrations/Podsights/constants.js","../../src/integrations/Axeptio/constants.js","../../src/integrations/Satismeter/constants.js","../../src/integrations/MicrosoftClarity/constants.js","../../src/integrations/Sendinblue/constants.js","../../src/integrations/Olark/constants.js","../../src/integrations/Lemnisk/constants.js","../../src/integrations/TiktokAds/constants.js","../../src/integrations/Appcues/constants.js","../../src/integrations/Braze/constants.js","../../src/integrations/Chartbeat/constants.js","../../src/integrations/Criteo/constants.js","../../src/integrations/CustomerIO/constants.js","../../src/integrations/FacebookPixel/constants.js","../../src/integrations/GA/constants.js","../../src/integrations/GoogleTagManager/constants.js","../../src/integrations/Heap/constants.js","../../src/integrations/Hotjar/constants.js","../../src/integrations/Keen/constants.js","../../src/integrations/LaunchDarkly/constants.js","../../src/integrations/PinterestTag/constants.js","../../src/integrations/Adroll/constants.js","../../src/integrations/Engage/constants.js","../../src/integrations/YandexMetrica/constants.js","../../src/utils/integration_cname.js","../../src/utils/client_server_name.js","../../src/utils/constants.js","../../src/utils/notifyError.js","../../src/utils/ObjectUtils.js","../../src/utils/errorHandler.js","../../src/utils/utils.js","../../node_modules/crypto-js/core.js","../../node_modules/crypto-js/enc-base64.js","../../node_modules/crypto-js/md5.js","../../node_modules/crypto-js/sha1.js","../../node_modules/crypto-js/evpkdf.js","../../node_modules/crypto-js/hmac.js","../../node_modules/crypto-js/cipher-core.js","../../node_modules/crypto-js/aes.js","../../node_modules/crypto-js/enc-utf8.js","../../node_modules/debug/node_modules/ms/index.js","../../node_modules/debug/src/common.js","../../node_modules/debug/src/browser.js","../../node_modules/rudder-component-cookie/index.js","../../node_modules/@ndhoule/drop/index.js","../../node_modules/@ndhoule/rest/index.js","../../node_modules/@ndhoule/defaults/index.js","../../node_modules/component-cookie/index.js","../../node_modules/@segment/top-domain/lib/index.js","../../src/utils/storage/cookie.js","../../node_modules/storejs/dist/store.js","../../src/utils/storage/store.js","../../src/utils/storage/storage.js","../../src/utils/storage/index.js","../../src/utils/pageProperties.js","../../node_modules/@lukeed/uuid/dist/index.js","../../src/utils/RudderApp.js","../../src/utils/RudderInfo.js","../../src/utils/RudderContext.js","../../src/utils/screenDetails.js","../../src/utils/navigator.js","../../src/utils/RudderMessage.js","../../src/utils/RudderElement.js","../../src/utils/RudderElementBuilder.js","../../node_modules/@ndhoule/keys/index.js","../../node_modules/@segment/localstorage-retry/lib/engine.js","../../node_modules/@ndhoule/each/index.js","../../node_modules/@segment/localstorage-retry/lib/store.js","../../node_modules/@segment/localstorage-retry/lib/schedule.js","../../node_modules/@segment/localstorage-retry/lib/index.js","../../src/utils/xhrModule.js","../../src/utils/beaconQueue.js","../../src/utils/EventRepository.js","../../src/utils/PreProcessQueue.js","../../src/utils/ScriptLoader.js","../../src/utils/linker/userLib.js","../../src/utils/linker/base64decoder.js","../../src/utils/linker/index.js","../../src/utils/linker/crc32.js","../../src/utils/config_to_integration_names.js","../../src/features/core/cookieConsent/OneTrust/browser.js","../../src/features/core/cookieConsent/CookieConsentFactory.js","../../src/features/core/session/index.js","../../src/utils/eventProcessorUtils.js","../../src/features/core/metrics/errorReporting/providers/Bugsnag.js","../../src/features/core/metrics/errorReporting/ErrorReportingService.js","../../src/features/core/deviceModeTransformation/transformationHandler.js","../../src/features/core/deviceModeTransformation/util.js","../../src/core/analytics.js","../../src/utils/IntegrationsData.js","../../src/utils/clientHint.js","../../src/utils/cdnPaths.js"],"sourcesContent":["\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","export default function _isPlaceholder(a) {\n  return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n}","import _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n}","import _curry1 from \"./_curry1.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}","import _curry1 from \"./_curry1.js\";\nimport _curry2 from \"./_curry2.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal three-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry3(fn) {\n  return function f3(a, b, c) {\n    switch (arguments.length) {\n      case 0:\n        return f3;\n\n      case 1:\n        return _isPlaceholder(a) ? f3 : _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        });\n\n      case 2:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f3 : _isPlaceholder(a) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _curry1(function (_c) {\n          return fn(a, b, _c);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) && _isPlaceholder(c) ? f3 : _isPlaceholder(a) && _isPlaceholder(b) ? _curry2(function (_a, _b) {\n          return fn(_a, _b, c);\n        }) : _isPlaceholder(a) && _isPlaceholder(c) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) && _isPlaceholder(c) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b, c);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b, c);\n        }) : _isPlaceholder(c) ? _curry1(function (_c) {\n          return fn(a, b, _c);\n        }) : fn(a, b, c);\n    }\n  };\n}","export default function _has(prop, obj) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}","import _curry1 from \"./internal/_curry1.js\";\n/**\n * Gives a single-word string description of the (native) type of a value,\n * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not\n * attempt to distinguish user Object types any further, reporting them all as\n * 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig * -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n *      R.type(() => {}); //=> \"Function\"\n *      R.type(undefined); //=> \"Undefined\"\n */\n\nvar type =\n/*#__PURE__*/\n_curry1(function type(val) {\n  return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);\n});\n\nexport default type;","export default function _isObject(x) {\n  return Object.prototype.toString.call(x) === '[object Object]';\n}","import _cloneRegExp from \"./_cloneRegExp.js\";\nimport type from \"../type.js\";\n/**\n * Copies an object.\n *\n * @private\n * @param {*} value The value to be copied\n * @param {Boolean} deep Whether or not to perform deep cloning.\n * @return {*} The copied value.\n */\n\nexport default function _clone(value, deep, map) {\n  map || (map = new _ObjectMap()); // this avoids the slower switch with a quick if decision removing some milliseconds in each run.\n\n  if (_isPrimitive(value)) {\n    return value;\n  }\n\n  var copy = function copy(copiedValue) {\n    // Check for circular and same references on the object graph and return its corresponding clone.\n    var cachedCopy = map.get(value);\n\n    if (cachedCopy) {\n      return cachedCopy;\n    }\n\n    map.set(value, copiedValue);\n\n    for (var key in value) {\n      if (Object.prototype.hasOwnProperty.call(value, key)) {\n        copiedValue[key] = deep ? _clone(value[key], true, map) : value[key];\n      }\n    }\n\n    return copiedValue;\n  };\n\n  switch (type(value)) {\n    case 'Object':\n      return copy(Object.create(Object.getPrototypeOf(value)));\n\n    case 'Array':\n      return copy([]);\n\n    case 'Date':\n      return new Date(value.valueOf());\n\n    case 'RegExp':\n      return _cloneRegExp(value);\n\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'BigInt64Array':\n    case 'BigUint64Array':\n      return value.slice();\n\n    default:\n      return value;\n  }\n}\n\nfunction _isPrimitive(param) {\n  var type = typeof param;\n  return param == null || type != 'object' && type != 'function';\n}\n\nvar _ObjectMap =\n/*#__PURE__*/\nfunction () {\n  function _ObjectMap() {\n    this.map = {};\n    this.length = 0;\n  }\n\n  _ObjectMap.prototype.set = function (key, value) {\n    const hashedKey = this.hash(key);\n    let bucket = this.map[hashedKey];\n\n    if (!bucket) {\n      this.map[hashedKey] = bucket = [];\n    }\n\n    bucket.push([key, value]);\n    this.length += 1;\n  };\n\n  _ObjectMap.prototype.hash = function (key) {\n    let hashedKey = [];\n\n    for (var value in key) {\n      hashedKey.push(Object.prototype.toString.call(key[value]));\n    }\n\n    return hashedKey.join();\n  };\n\n  _ObjectMap.prototype.get = function (key) {\n    /**\n     * depending on the number of objects to be cloned is faster to just iterate over the items in the map just because the hash function is so costly,\n     * on my tests this number is 180, anything above that using the hash function is faster.\n     */\n    if (this.length <= 180) {\n      for (const p in this.map) {\n        const bucket = this.map[p];\n\n        for (let i = 0; i < bucket.length; i += 1) {\n          const element = bucket[i];\n\n          if (element[0] === key) {\n            return element[1];\n          }\n        }\n      }\n\n      return;\n    }\n\n    const hashedKey = this.hash(key);\n    const bucket = this.map[hashedKey];\n\n    if (!bucket) {\n      return;\n    }\n\n    for (let i = 0; i < bucket.length; i += 1) {\n      const element = bucket[i];\n\n      if (element[0] === key) {\n        return element[1];\n      }\n    }\n  };\n\n  return _ObjectMap;\n}();","export default function _cloneRegExp(pattern) {\n  return new RegExp(pattern.source, pattern.flags ? pattern.flags : (pattern.global ? 'g' : '') + (pattern.ignoreCase ? 'i' : '') + (pattern.multiline ? 'm' : '') + (pattern.sticky ? 'y' : '') + (pattern.unicode ? 'u' : '') + (pattern.dotAll ? 's' : ''));\n}","import _clone from \"./internal/_clone.js\";\nimport _curry1 from \"./internal/_curry1.js\";\n/**\n * Creates a deep copy of the source that can be used in place of the source\n * object without retaining any references to it.\n * The source object may contain (nested) `Array`s and `Object`s,\n * `Number`s, `String`s, `Boolean`s and `Date`s.\n * `Function`s are assigned by reference rather than copied.\n *\n * Dispatches to a `clone` method if present.\n *\n * Note that if the source object has multiple nodes that share a reference,\n * the returned object will have the same structure, but the references will\n * be pointed to the location within the cloned value.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {*} -> {*}\n * @param {*} value The object or array to clone\n * @return {*} A deeply cloned copy of `val`\n * @example\n *\n *      const objects = [{}, {}, {}];\n *      const objectsClone = R.clone(objects);\n *      objects === objectsClone; //=> false\n *      objects[0] === objectsClone[0]; //=> false\n */\n\nvar clone =\n/*#__PURE__*/\n_curry1(function clone(value) {\n  return value != null && typeof value.clone === 'function' ? value.clone() : _clone(value, true);\n});\n\nexport default clone;","import _curry3 from \"./internal/_curry3.js\";\nimport _has from \"./internal/_has.js\";\n/**\n * Creates a new object with the own properties of the two provided objects. If\n * a key exists in both objects, the provided function is applied to the key\n * and the values associated with the key in each object, with the result being\n * used as the value associated with the key in the returned object.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} l\n * @param {Object} r\n * @return {Object}\n * @see R.mergeDeepWithKey, R.merge, R.mergeWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeWithKey(concatValues,\n *                     { a: true, thing: 'foo', values: [10, 20] },\n *                     { b: true, thing: 'bar', values: [15, 35] });\n *      //=> { a: true, b: true, thing: 'bar', values: [10, 20, 15, 35] }\n * @symb R.mergeWithKey(f, { x: 1, y: 2 }, { y: 5, z: 3 }) = { x: 1, y: f('y', 2, 5), z: 3 }\n */\n\nvar mergeWithKey =\n/*#__PURE__*/\n_curry3(function mergeWithKey(fn, l, r) {\n  var result = {};\n  var k;\n  l = l || {};\n  r = r || {};\n\n  for (k in l) {\n    if (_has(k, l)) {\n      result[k] = _has(k, r) ? fn(k, l[k], r[k]) : l[k];\n    }\n  }\n\n  for (k in r) {\n    if (_has(k, r) && !_has(k, result)) {\n      result[k] = r[k];\n    }\n  }\n\n  return result;\n});\n\nexport default mergeWithKey;","import _curry3 from \"./internal/_curry3.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport mergeWithKey from \"./mergeWithKey.js\";\n/**\n * Creates a new object with the own properties of the two provided objects.\n * If a key exists in both objects:\n * - and both associated values are also objects then the values will be\n *   recursively merged.\n * - otherwise the provided function is applied to the key and associated values\n *   using the resulting value as the new value associated with the key.\n * If a key only exists in one object, the value will be associated with the key\n * of the resulting object.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.mergeWithKey, R.mergeDeepWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeDeepWithKey(concatValues,\n *                         { a: true, c: { thing: 'foo', values: [10, 20] }},\n *                         { b: true, c: { thing: 'bar', values: [15, 35] }});\n *      //=> { a: true, b: true, c: { thing: 'bar', values: [10, 20, 15, 35] }}\n */\n\nvar mergeDeepWithKey =\n/*#__PURE__*/\n_curry3(function mergeDeepWithKey(fn, lObj, rObj) {\n  return mergeWithKey(function (k, lVal, rVal) {\n    if (_isObject(lVal) && _isObject(rVal)) {\n      return mergeDeepWithKey(fn, lVal, rVal);\n    } else {\n      return fn(k, lVal, rVal);\n    }\n  }, lObj, rObj);\n});\n\nexport default mergeDeepWithKey;","import _curry3 from \"./internal/_curry3.js\";\nimport mergeDeepWithKey from \"./mergeDeepWithKey.js\";\n/**\n * Creates a new object with the own properties of the two provided objects.\n * If a key exists in both objects:\n * - and both associated values are also objects then the values will be\n *   recursively merged.\n * - otherwise the provided function is applied to associated values using the\n *   resulting value as the new value associated with the key.\n * If a key only exists in one object, the value will be associated with the key\n * of the resulting object.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig ((a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.mergeWith, R.mergeDeepWithKey\n * @example\n *\n *      R.mergeDeepWith(R.concat,\n *                      { a: true, c: { values: [10, 20] }},\n *                      { b: true, c: { values: [15, 35] }});\n *      //=> { a: true, b: true, c: { values: [10, 20, 15, 35] }}\n */\n\nvar mergeDeepWith =\n/*#__PURE__*/\n_curry3(function mergeDeepWith(fn, lObj, rObj) {\n  return mergeDeepWithKey(function (k, lVal, rVal) {\n    return fn(lVal, rVal);\n  }, lObj, rObj);\n});\n\nexport default mergeDeepWith;","/*!\n * get-value <https://github.com/jonschlinkert/get-value>\n *\n * Copyright (c) 2014-2018, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nconst isObject = require('isobject');\n\nmodule.exports = function(target, path, options) {\n  if (!isObject(options)) {\n    options = { default: options };\n  }\n\n  if (!isValidObject(target)) {\n    return typeof options.default !== 'undefined' ? options.default : target;\n  }\n\n  if (typeof path === 'number') {\n    path = String(path);\n  }\n\n  const isArray = Array.isArray(path);\n  const isString = typeof path === 'string';\n  const splitChar = options.separator || '.';\n  const joinChar = options.joinChar || (typeof splitChar === 'string' ? splitChar : '.');\n\n  if (!isString && !isArray) {\n    return target;\n  }\n\n  if (isString && path in target) {\n    return isValid(path, target, options) ? target[path] : options.default;\n  }\n\n  let segs = isArray ? path : split(path, splitChar, options);\n  let len = segs.length;\n  let idx = 0;\n\n  do {\n    let prop = segs[idx];\n    if (typeof prop === 'number') {\n      prop = String(prop);\n    }\n\n    while (prop && prop.slice(-1) === '\\\\') {\n      prop = join([prop.slice(0, -1), segs[++idx] || ''], joinChar, options);\n    }\n\n    if (prop in target) {\n      if (!isValid(prop, target, options)) {\n        return options.default;\n      }\n\n      target = target[prop];\n    } else {\n      let hasProp = false;\n      let n = idx + 1;\n\n      while (n < len) {\n        prop = join([prop, segs[n++]], joinChar, options);\n\n        if ((hasProp = prop in target)) {\n          if (!isValid(prop, target, options)) {\n            return options.default;\n          }\n\n          target = target[prop];\n          idx = n - 1;\n          break;\n        }\n      }\n\n      if (!hasProp) {\n        return options.default;\n      }\n    }\n  } while (++idx < len && isValidObject(target));\n\n  if (idx === len) {\n    return target;\n  }\n\n  return options.default;\n};\n\nfunction join(segs, joinChar, options) {\n  if (typeof options.join === 'function') {\n    return options.join(segs);\n  }\n  return segs[0] + joinChar + segs[1];\n}\n\nfunction split(path, splitChar, options) {\n  if (typeof options.split === 'function') {\n    return options.split(path);\n  }\n  return path.split(splitChar);\n}\n\nfunction isValid(key, target, options) {\n  if (typeof options.isValid === 'function') {\n    return options.isValid(key, target);\n  }\n  return true;\n}\n\nfunction isValidObject(val) {\n  return isObject(val) || Array.isArray(val) || typeof val === 'function';\n}\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","var IDX=256, HEX=[], BUFFER;\nwhile (IDX--) HEX[IDX] = (IDX + 256).toString(16).substring(1);\n\nexport function v4() {\n\tvar i=0, num, out='';\n\n\tif (!BUFFER || ((IDX + 16) > 256)) {\n\t\tBUFFER = Array(i=256);\n\t\twhile (i--) BUFFER[i] = 256 * Math.random() | 0;\n\t\ti = IDX = 0;\n\t}\n\n\tfor (; i < 16; i++) {\n\t\tnum = BUFFER[IDX + i];\n\t\tif (i==6) out += HEX[num & 15 | 64];\n\t\telse if (i==8) out += HEX[num & 63 | 128];\n\t\telse out += HEX[num];\n\n\t\tif (i & 1 && i > 1 && i < 11) out += '-';\n\t}\n\n\tIDX++;\n\treturn out;\n}\n","import { random } from '@lukeed/csprng';\n\nvar SIZE=4096, HEX=[], IDX=0, BUFFER;\n\nfor (; IDX < 256; IDX++) {\n\tHEX[IDX] = (IDX + 256).toString(16).substring(1);\n}\n\nexport function v4() {\n\tif (!BUFFER || ((IDX + 16) > SIZE)) {\n\t\tBUFFER = random(SIZE);\n\t\tIDX = 0;\n\t}\n\n\tvar i=0, tmp, out='';\n\tfor (; i < 16; i++) {\n\t\ttmp = BUFFER[IDX + i];\n\t\tif (i==6) out += HEX[tmp & 15 | 64];\n\t\telse if (i==8) out += HEX[tmp & 63 | 128];\n\t\telse out += HEX[tmp];\n\n\t\tif (i & 1 && i > 1 && i < 11) out += '-';\n\t}\n\n\tIDX += 16;\n\treturn out;\n}\n","export function random(len) {\n\treturn crypto.getRandomValues(new Uint8Array(len));\n}\n","const LOG_LEVEL_INFO = 1;\nconst LOG_LEVEL_DEBUG = 2;\nconst LOG_LEVEL_WARN = 3;\nconst LOG_LEVEL_ERROR = 4;\nconst DEF_LOG_LEVEL = LOG_LEVEL_ERROR;\nlet LOG_LEVEL = DEF_LOG_LEVEL;\n\nconst logger = {\n  setLogLevel(logLevel) {\n    switch (logLevel.toUpperCase()) {\n      case 'INFO':\n        LOG_LEVEL = LOG_LEVEL_INFO;\n        break;\n      case 'DEBUG':\n        LOG_LEVEL = LOG_LEVEL_DEBUG;\n        break;\n      case 'WARN':\n        LOG_LEVEL = LOG_LEVEL_WARN;\n        break;\n      default:\n        LOG_LEVEL = DEF_LOG_LEVEL;\n        break;\n    }\n  },\n\n  info(...args) {\n    if (LOG_LEVEL <= LOG_LEVEL_INFO) {\n      console.info(...args);\n    }\n  },\n\n  debug(...args) {\n    if (LOG_LEVEL <= LOG_LEVEL_DEBUG) {\n      console.log(...args);\n    }\n  },\n\n  warn(...args) {\n    if (LOG_LEVEL <= LOG_LEVEL_WARN) {\n      console.warn(...args);\n    }\n  },\n\n  error(...args) {\n    if (LOG_LEVEL <= LOG_LEVEL_ERROR) {\n      console.error(...args);\n    }\n  },\n};\n\nexport default logger;\n","const NAME = 'ADOBE_ANALYTICS';\nconst CNameMapping = {\n  'Adobe Analytics': NAME,\n  ADOBEANALYTICS: NAME,\n  'ADOBE ANALYTICS': NAME,\n  [NAME]: NAME,\n  AdobeAnalytics: NAME,\n  adobeanalytics: NAME,\n  'adobe analytics': NAME,\n  'Adobe analytics': NAME,\n  'adobe Analytics': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'AM';\nconst CNameMapping = {\n  [NAME]: NAME,\n  AMPLITUDE: NAME,\n  Amplitude: NAME,\n  am: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'BINGADS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  BingAds: NAME,\n  bingads: NAME,\n  'Bing Ads': NAME,\n  'Bing ads': NAME,\n  'bing Ads': NAME,\n  'bing ads': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'BUGSNAG';\nconst CNameMapping = {\n  [NAME]: NAME,\n  bugsnag: NAME,\n  Bugsnag: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'CLEVERTAP';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Clevertap: NAME,\n  clevertap: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'COMSCORE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Comscore: NAME,\n  'Com Score': NAME,\n  'com Score': NAME,\n  'com score': NAME,\n  'Com score': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'DRIP';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Drip: NAME,\n  drip: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'FULLSTORY';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Fullstory: NAME,\n  FullStory: NAME,\n  'full Story': NAME,\n  'Full Story': NAME,\n  'Full story': NAME,\n  'full story': NAME,\n  fullstory: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'GA4';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Google Analytics 4': NAME,\n  'Google analytics 4': NAME,\n  'google analytics 4': NAME,\n  'Google Analytics4': NAME,\n  'Google analytics4': NAME,\n  'google analytics4': NAME,\n  GoogleAnalytics4: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'GOOGLEADS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Google Ads': NAME,\n  GoogleAds: NAME,\n  'GOOGLE ADS': NAME,\n  'google ads': NAME,\n  googleads: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'GOOGLE_OPTIMIZE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Google Optimize': NAME,\n  GoogleOptimize: NAME,\n  Googleoptimize: NAME,\n  GOOGLEOPTIMIZE: NAME,\n  'google optimize': NAME,\n  'Google optimize': NAME,\n  'GOOGLE OPTIMIZE': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'HS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Hubspot: NAME,\n  HUBSPOT: NAME,\n  'hub spot': NAME,\n  'Hub Spot': NAME,\n  'Hub spot': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'INTERCOM';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Intercom: NAME,\n  intercom: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'KISSMETRICS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Kissmetrics: NAME,\n  kissmetrics: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'KLAVIYO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Klaviyo: NAME,\n  klaviyo: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'LINKEDIN_INSIGHT_TAG';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'LinkedIn Insight Tag': NAME,\n  'LinkedIn insight tag': NAME,\n  'linkedIn insight tag': NAME,\n  Linkedin_insight_tag: NAME,\n  LinkedinInsighttag: NAME,\n  LinkedinInsightTag: NAME,\n  LinkedInInsightTag: NAME,\n  Linkedininsighttag: NAME,\n  LINKEDININSIGHTTAG: NAME,\n  linkedininsighttag: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'LOTAME';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Lotame: NAME,\n  lotame: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'LYTICS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Lytics: NAME,\n  lytics: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'MP';\nconst CNameMapping = {\n  [NAME]: NAME,\n  MIXPANEL: NAME,\n  Mixpanel: NAME,\n  'MIX PANEL': NAME,\n  'Mix panel': NAME,\n  'Mix Panel': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'MOENGAGE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  MoEngage: NAME,\n  moengage: NAME,\n  Moengage: NAME,\n  'Mo Engage': NAME,\n  'mo engage': NAME,\n  'Mo engage': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'OPTIMIZELY';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Optimizely: NAME,\n  optimizely: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'PENDO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Pendo: NAME,\n  pendo: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'POST_AFFILIATE_PRO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  PostAffiliatePro: NAME,\n  Post_affiliate_pro: NAME,\n  'Post Affiliate Pro': NAME,\n  'Post affiliate pro': NAME,\n  'post affiliate pro': NAME,\n  postaffiliatepro: NAME,\n  POSTAFFILIATEPRO: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'POSTHOG';\nconst CNameMapping = {\n  [NAME]: NAME,\n  PostHog: NAME,\n  Posthog: NAME,\n  posthog: NAME,\n  'Post Hog': NAME,\n  'Post hog': NAME,\n  'post hog': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'PROFITWELL';\nconst CNameMapping = {\n  [NAME]: NAME,\n  ProfitWell: NAME,\n  profitwell: NAME,\n  Profitwell: NAME,\n  'Profit Well': NAME,\n  'profit well': NAME,\n  'Profit well': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'QUALTRICS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Qualtrics: NAME,\n  qualtrics: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'QUANTUMMETRIC';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Quantum Metric': NAME,\n  'quantum Metric': NAME,\n  'quantum metric': NAME,\n  QuantumMetric: NAME,\n  quantumMetric: NAME,\n  quantummetric: NAME,\n  Quantum_Metric: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'REDDIT_PIXEL';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Reddit_Pixel: NAME,\n  RedditPixel: NAME,\n  REDDITPIXEL: NAME,\n  redditpixel: NAME,\n  'Reddit Pixel': NAME,\n  'REDDIT PIXEL': NAME,\n  'reddit pixel': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'SENTRY';\nconst CNameMapping = {\n  [NAME]: NAME,\n  sentry: NAME,\n  Sentry: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'SNAP_PIXEL';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Snap_Pixel: NAME,\n  SnapPixel: NAME,\n  SNAPPIXEL: NAME,\n  snappixel: NAME,\n  'Snap Pixel': NAME,\n  'SNAP PIXEL': NAME,\n  'snap pixel': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'TVSQUARED';\nconst CNameMapping = {\n  [NAME]: NAME,\n  TVSquared: NAME,\n  tvsquared: NAME,\n  tvSquared: NAME,\n  TvSquared: NAME,\n  Tvsquared: NAME,\n  'TV Squared': NAME,\n  'tv squared': NAME,\n  'tv Squared': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'VWO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  VisualWebsiteOptimizer: NAME,\n  Visualwebsiteoptimizer: NAME,\n  visualwebsiteoptimizer: NAME,\n  vwo: NAME,\n  'Visual Website Optimizer': NAME,\n  'Visual website optimizer': NAME,\n  'visual website optimizer': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'GA360';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Google Analytics 360': NAME,\n  'Google analytics 360': NAME,\n  'google analytics 360': NAME,\n  'Google Analytics360': NAME,\n  'Google analytics360': NAME,\n  'google analytics360': NAME,\n  GoogleAnalytics360: NAME,\n  'GA 360': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'DCM_FLOODLIGHT';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'DCM Floodlight': NAME,\n  'dcm floodlight': NAME,\n  'Dcm Floodlight': NAME,\n  DCMFloodlight: NAME,\n  dcmfloodlight: NAME,\n  DcmFloodlight: NAME,\n  dcm_floodlight: NAME,\n  DCM_Floodlight: NAME,\n};\nconst GTAG = 'globalSiteTag';\n\nexport { NAME, CNameMapping, GTAG };\n","const NAME = 'MATOMO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Matomo: NAME,\n  matomo: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'VERO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Vero: NAME,\n  vero: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'MOUSEFLOW';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Mouseflow: NAME,\n  mouseflow: NAME,\n  mouseFlow: NAME,\n  MouseFlow: NAME,\n  'Mouse flow': NAME,\n  'mouse flow': NAME,\n  'mouse Flow': NAME,\n  'Mouse Flow': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'ROCKERBOX';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Rockerbox: NAME,\n  rockerbox: NAME,\n  RockerBox: NAME,\n  'Rocker box': NAME,\n  'rocker box': NAME,\n  'Rocker Box': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'CONVERTFLOW';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Convertflow: NAME,\n  convertflow: NAME,\n  convertFlow: NAME,\n  ConvertFlow: NAME,\n  'Convert flow': NAME,\n  'convert flow': NAME,\n  'convert Flow': NAME,\n  'Convert Flow': NAME,\n  'CONVERT FLOW': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'SNAPENGAGE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  SnapEngage: NAME,\n  Snap_Engage: NAME,\n  snapengage: NAME,\n  'SNAP ENGAGE': NAME,\n  'Snap Engage': NAME,\n  'snap engage': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'LIVECHAT';\nconst CNameMapping = {\n  [NAME]: NAME,\n  LiveChat: NAME,\n  Live_Chat: NAME,\n  livechat: NAME,\n  'LIVE CHAT': NAME,\n  'Live Chat': NAME,\n  'live chat': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'SHYNET';\n\nconst CNameMapping = {\n  [NAME]: NAME,\n  shynet: NAME,\n  ShyNet: NAME,\n  shyNet: NAME,\n  Shynet: NAME,\n  'shy net': NAME,\n  'Shy Net': NAME,\n  'shy Net': NAME,\n  'Shy net': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'WOOPRA';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Woopra: NAME,\n  woopra: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'ROLLBAR';\nconst CNameMapping = {\n  [NAME]: NAME,\n  RollBar: NAME,\n  Roll_Bar: NAME,\n  rollbar: NAME,\n  Rollbar: NAME,\n  'ROLL BAR': NAME,\n  'Roll Bar': NAME,\n  'roll bar': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'QUORA_PIXEL';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Quora Pixel': NAME,\n  'Quora pixel': NAME,\n  'QUORA PIXEL': NAME,\n  QuoraPixel: NAME,\n  Quorapixel: NAME,\n  QUORAPIXEL: NAME,\n  Quora_Pixel: NAME,\n  quora_pixel: NAME,\n  Quora: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'JUNE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  June: NAME,\n  june: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'ITERABLE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Iterable: NAME,\n  iterable: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'REFINER';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Refiner: NAME,\n  refiner: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'QUALAROO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Qualaroo: NAME,\n  qualaroo: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'PODSIGHTS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Podsights: NAME,\n  PodSights: NAME,\n  'pod Sights': NAME,\n  'Pod Sights': NAME,\n  'pod sights': NAME,\n  'POD SIGHTS': NAME,\n  'Pod sights': NAME,\n};\n\n// default mapping for the events\nconst standardEventsListMapping = [\n  { to: 'lead', from: 'Signed Up' },\n  { to: 'product', from: 'Product Viewed' },\n  { to: 'addtocart', from: 'Product Added' },\n  { to: 'checkout', from: 'Checkout Started' },\n  { to: 'purchase', from: 'Order Completed' },\n];\n\nconst LEAD_EVENT = [\n  {\n    destKey: 'value',\n    sourceKeys: 'value',\n  },\n  {\n    destKey: 'currency',\n    sourceKeys: 'currency',\n  },\n  {\n    destKey: 'type',\n    sourceKeys: 'type',\n  },\n  {\n    destKey: 'category',\n    sourceKeys: 'category',\n  },\n];\n\nconst PRODUCT_EVENT = [\n  {\n    destKey: 'value',\n    sourceKeys: 'value',\n  },\n  {\n    destKey: 'currency',\n    sourceKeys: 'currency',\n  },\n  {\n    destKey: 'product_id',\n    sourceKeys: 'productId',\n  },\n  {\n    destKey: 'product_name',\n    sourceKeys: 'productName',\n  },\n  {\n    destKey: 'product_type',\n    sourceKeys: 'productType',\n  },\n  {\n    destKey: 'product_vendor',\n    sourceKeys: 'productVendor',\n  },\n];\n\nconst ADD_TO_CART_EVENT = [\n  {\n    destKey: 'value',\n    sourceKeys: 'value',\n  },\n  {\n    destKey: 'currency',\n    sourceKeys: 'currency',\n  },\n  {\n    destKey: 'product_id',\n    sourceKeys: 'productId',\n  },\n  {\n    destKey: 'product_name',\n    sourceKeys: 'productName',\n  },\n  {\n    destKey: 'product_type',\n    sourceKeys: 'productType',\n  },\n  {\n    destKey: 'product_vendor',\n    sourceKeys: 'productVendor',\n  },\n  {\n    destKey: 'quantity',\n    sourceKeys: 'quantity',\n  },\n  {\n    destKey: 'variant_id',\n    sourceKeys: 'variantId',\n  },\n  {\n    destKey: 'variant_name',\n    sourceKeys: 'variantName',\n  },\n];\n\nconst CHECK_OUT_EVENT = [\n  {\n    destKey: 'value',\n    sourceKeys: 'value',\n  },\n  {\n    destKey: 'currency',\n    sourceKeys: 'currency',\n  },\n  {\n    destKey: 'discount_code',\n    sourceKeys: 'discountCode',\n  },\n  {\n    destKey: 'quantity',\n    sourceKeys: 'quantity',\n  },\n  {\n    destKey: 'line_items',\n    sourceKeys: 'lineItems',\n  },\n];\n\nconst PURCHASE_EVENT = [\n  {\n    destKey: 'value',\n    sourceKeys: 'value',\n  },\n  {\n    destKey: 'currency',\n    sourceKeys: 'currency',\n  },\n  {\n    destKey: 'discount_code',\n    sourceKeys: 'discountCode',\n  },\n  {\n    destKey: 'line_items',\n    sourceKeys: 'lineItems',\n  },\n  {\n    destKey: 'order_id',\n    sourceKeys: 'orderId',\n  },\n  {\n    destKey: 'is_new_customer',\n    sourceKeys: 'isNewCustomer',\n  },\n  {\n    destKey: 'quantity',\n    sourceKeys: 'quantity',\n  },\n];\n\nconst LINE_ITEMS_CONFIG = [\n  {\n    destKey: 'product_id',\n    sourceKeys: 'productId',\n  },\n  {\n    destKey: 'product_name',\n    sourceKeys: 'productName',\n  },\n  {\n    destKey: 'product_type',\n    sourceKeys: 'productType',\n  },\n  {\n    destKey: 'product_vendor',\n    sourceKeys: 'productVendor',\n  },\n  {\n    destKey: 'variant_id',\n    sourceKeys: 'variantId',\n  },\n  {\n    destKey: 'variant_name',\n    sourceKeys: 'variantName',\n  },\n  {\n    destKey: 'value',\n    sourceKeys: 'value',\n  },\n  {\n    destKey: 'quantity',\n    sourceKeys: 'quantity',\n  },\n];\n\nexport {\n  NAME,\n  CNameMapping,\n  standardEventsListMapping,\n  LEAD_EVENT,\n  PRODUCT_EVENT,\n  ADD_TO_CART_EVENT,\n  CHECK_OUT_EVENT,\n  PURCHASE_EVENT,\n  LINE_ITEMS_CONFIG,\n};\n","const NAME = 'AXEPTIO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Axeptio: NAME,\n  axeptio: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = \"SATISMETER\";\nconst CNameMapping = {\n  [NAME]: NAME,\n  Satismeter: NAME,\n  SatisMeter: NAME,\n  SATISMETER: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'MICROSOFT_CLARITY';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Microsoft Clarity': NAME,\n  'Microsoft clarity': NAME,\n  'microsoft clarity': NAME,\n  Microsoft_clarity: NAME,\n  MicrosoftClarity: NAME,\n  MICROSOFTCLARITY: NAME,\n  microsoftclarity: NAME,\n  microsoftClarity: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = \"SENDINBLUE\";\nconst CNameMapping = {\n  [NAME]: NAME,\n  Sendinblue: NAME,\n  sendinblue: NAME,\n  SendinBlue: NAME\n};\n\nconst excludeReservedTraits = [\n  \"firstName\",\n  \"firstname\",\n  \"first_name\",\n  \"lastName\",\n  \"lastname\",\n  \"last_name\",\n  \"phone\",\n  \"Phone\",\n  \"email\",\n  \"Email\",\n  \"E-mail\",\n];\n\nconst excludePageProperties = [\"url\", \"title\", \"path\", \"referrer\"];\n\nexport { NAME, CNameMapping, excludeReservedTraits, excludePageProperties };\n","const NAME = 'OLARK';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Olark: NAME,\n  olark: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'LEMNISK';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'LEMNISK_MARKETING_AUTOMATION': NAME,\n  'Lemnisk Marketing Automation': NAME,\n  'LemniskMarketingAutomation': NAME,\n  'lemniskmarketingautomation': NAME,\n  'lemniskMarketingAutomation': NAME,\n  'lemnisk': NAME,\n  'Lemnisk': NAME,\n};\n\nexport { NAME, CNameMapping };","const NAME = 'TIKTOK_ADS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  TiktokAds: NAME,\n  TIKTOK_ADS: NAME,\n  \"Tiktok ads\": NAME,\n  \"Tiktok Ads\": NAME,\n  \"Tik Tok Ads\": NAME,\n  \"tik tok ads\": NAME,\n  tiktokads: NAME\n};\nconst PARTNER_NAME = 'RudderStack';\n\nconst trackMapping = [\n  {\n    \"destKey\": \"event_id\",\n    \"sourceKeys\": \"properties.eventId\"\n  },\n  {\n    \"destKey\": \"test_event_code\",\n    \"sourceKeys\": \"testEventCode\"\n  },\n  {\n    \"destKey\": \"contents\",\n    \"sourceKeys\": \"properties.contents\"\n  },\n  {\n    \"destKey\": \"content_category\",\n    \"sourceKeys\": \"properties.category\"\n  },\n  {\n    \"destKey\": \"status\",\n    \"sourceKeys\": \"properties.status\"\n  },\n  {\n    \"destKey\": \"content_name\",\n    \"sourceKeys\": \"properties.name\"\n  },\n  {\n    \"destKey\": \"content_id\",\n    \"sourceKeys\": [\"properties.product_id\", \"properties.productId\"]\n  },\n  {\n    \"destKey\": \"content_type\",\n    \"sourceKeys\": [\"properties.contentType\", \"properties.content_type\"]\n  },\n  {\n    \"destKey\": \"currency\",\n    \"sourceKeys\": \"properties.currency\"\n  },\n  {\n    \"destKey\": \"value\",\n    \"sourceKeys\": \"properties.value\"\n  },\n  {\n    \"destKey\": \"description\",\n    \"sourceKeys\": \"properties.description\"\n  },\n  {\n    \"destKey\": \"email\",\n    \"sourceKeys\": [\"context.traits.email\", \"traits.email\", \"properties.email\"]\n  },\n  {\n    \"destKey\": \"phone\",\n    \"sourceKeys\": [\"context.traits.phone\", \"traits.phone\", \"properties.phone\"]\n  }\n];\nconst eventNameMapping = {\n  'product added to wishlist': 'AddToWishlist',\n  'product added': 'AddToCart',\n  'checkout started': 'InitiateCheckout',\n  'payment info entered': 'AddPaymentInfo',\n  'checkout step completed': 'CompletePayment',\n  'order completed': 'PlaceAnOrder',\n  viewcontent: 'ViewContent',\n  clickbutton: 'ClickButton',\n  search: 'Search',\n  contact: 'Contact',\n  download: 'Download',\n  submitform: 'SubmitForm',\n  completeregistration: 'CompleteRegistration',\n  subscribe: 'Subscribe',\n};\n\n\nexport { NAME, CNameMapping, PARTNER_NAME, trackMapping, eventNameMapping };\n","const NAME = 'APPCUES';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Appcues: NAME,\n  'App Cues': NAME,\n  appcues: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'BRAZE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Braze: NAME,\n  braze: NAME,\n};\n\nconst BrazeOperationString =\n  'BrazeSdkMetadata DeviceProperties Card Card.prototype.dismissCard Card.prototype.removeAllSubscriptions Card.prototype.removeSubscription Card.prototype.subscribeToClickedEvent Card.prototype.subscribeToDismissedEvent Card.fromContentCardsJson Banner CaptionedImage ClassicCard ControlCard ContentCards ContentCards.prototype.getUnviewedCardCount Feed Feed.prototype.getUnreadCardCount ControlMessage InAppMessage InAppMessage.SlideFrom InAppMessage.ClickAction InAppMessage.DismissType InAppMessage.OpenTarget InAppMessage.ImageStyle InAppMessage.Orientation InAppMessage.TextAlignment InAppMessage.CropType InAppMessage.prototype.closeMessage InAppMessage.prototype.removeAllSubscriptions InAppMessage.prototype.removeSubscription InAppMessage.prototype.subscribeToClickedEvent InAppMessage.prototype.subscribeToDismissedEvent InAppMessage.fromJson FullScreenMessage ModalMessage HtmlMessage SlideUpMessage User User.Genders User.NotificationSubscriptionTypes User.prototype.addAlias User.prototype.addToCustomAttributeArray User.prototype.addToSubscriptionGroup User.prototype.getUserId User.prototype.incrementCustomUserAttribute User.prototype.removeFromCustomAttributeArray User.prototype.removeFromSubscriptionGroup User.prototype.setCountry User.prototype.setCustomLocationAttribute User.prototype.setCustomUserAttribute User.prototype.setDateOfBirth User.prototype.setEmail User.prototype.setEmailNotificationSubscriptionType User.prototype.setFirstName User.prototype.setGender User.prototype.setHomeCity User.prototype.setLanguage User.prototype.setLastKnownLocation User.prototype.setLastName User.prototype.setPhoneNumber User.prototype.setPushNotificationSubscriptionType InAppMessageButton InAppMessageButton.prototype.removeAllSubscriptions InAppMessageButton.prototype.removeSubscription InAppMessageButton.prototype.subscribeToClickedEvent automaticallyShowInAppMessages destroyFeed hideContentCards showContentCards showFeed showInAppMessage toggleContentCards toggleFeed changeUser destroy getDeviceId initialize isPushBlocked isPushPermissionGranted isPushSupported logCardClick logCardDismissal logCardImpressions logContentCardImpressions logContentCardsDisplayed logCustomEvent logFeedDisplayed logInAppMessageButtonClick logInAppMessageClick logInAppMessageHtmlClick logInAppMessageImpression logPurchase openSession requestPushPermission removeAllSubscriptions removeSubscription requestContentCardsRefresh requestFeedRefresh requestImmediateDataFlush enableSDK isDisabled setLogger setSdkAuthenticationSignature addSdkMetadata disableSDK subscribeToContentCardsUpdates subscribeToFeedUpdates subscribeToInAppMessage subscribeToSdkAuthenticationFailures toggleLogging unregisterPush wipeData handleBrazeAction';\n\nexport { NAME, CNameMapping, BrazeOperationString };\n","const NAME = 'CHARTBEAT';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Chartbeat: NAME,\n  chartbeat: NAME,\n  'Chart Beat': NAME,\n  'chart beat': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'CRITEO';\n\nconst CNameMapping = {\n  [NAME]: NAME,\n  Criteo: NAME,\n  criteo: NAME,\n};\n\nconst supportedEvents = ['product viewed', 'cart viewed', 'order completed', 'product list viewed'];\n\nexport { NAME, CNameMapping, supportedEvents };\n","const NAME = 'CUSTOMERIO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Customerio: NAME,\n  'Customer.io': NAME,\n  'CUSTOMER.IO': NAME,\n  'customer.io': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'FACEBOOK_PIXEL';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'FB Pixel': NAME,\n  'Facebook Pixel': NAME,\n  'facebook pixel': NAME,\n  fbpixel: NAME,\n  FBPIXEL: NAME,\n  FB_PIXEL: NAME,\n};\n\nconst traitsMapper = [\n  {\n    destKey: 'external_id',\n    sourceKeys: ['userId', 'context.traits.userId', 'context.traits.id', 'anonymousId'],\n  },\n  {\n    destKey: 'em',\n    sourceKeys: 'context.traits.email',\n  },\n  {\n    destKey: 'ph',\n    sourceKeys: 'context.traits.phone',\n  },\n  {\n    destKey: 'ge',\n    sourceKeys: 'context.traits.gender',\n  },\n  {\n    destKey: 'db',\n    sourceKeys: 'context.traits.birthday',\n  },\n  {\n    destKey: 'ln',\n    sourceKeys: ['context.traits.lastname', 'context.traits.lastName', 'context.traits.last_name'],\n  },\n  {\n    destKey: 'fn',\n    sourceKeys: [\n      'context.traits.firstname',\n      'context.traits.firstName',\n      'context.traits.first_name',\n    ],\n  },\n  {\n    destKey: 'ct',\n    sourceKeys: ['context.traits.address.city', 'context.traits.city'],\n  },\n  {\n    destKey: 'st',\n    sourceKeys: ['context.traits.address.state', 'context.traits.state'],\n  },\n  {\n    destKey: 'zp',\n    sourceKeys: ['context.traits.address.zip', 'context.traits.zip'],\n  },\n  {\n    destKey: 'country',\n    sourceKeys: ['context.traits.address.country', 'context.traits.country'],\n  },\n];\n\nconst reserveTraits = [\n  'email',\n  'lastName',\n  'firstName',\n  'phone',\n  'external_id',\n  'city',\n  'birthday',\n  'gender',\n  'street',\n  'zip',\n  'country',\n];\n\nexport { traitsMapper, CNameMapping, NAME, reserveTraits };\n","const NAME = 'GA';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Google Analytics': NAME,\n  GoogleAnalytics: NAME,\n  'GOOGLE ANALYTICS': NAME,\n  'google analytics': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'GTM';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Google Tag Manager': NAME,\n  'google tag manager': NAME,\n  'googletag manager': NAME,\n  googletagmanager: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'HEAP';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Heap: NAME,\n  heap: NAME,\n  'Heap.io': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'HOTJAR';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Hotjar: NAME,\n  hotjar: NAME,\n  'Hot Jar': NAME,\n  'hot jar': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'KEEN';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Keen: NAME,\n  'Keen.io': NAME,\n  keen: NAME,\n  'keen.io': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'LAUNCHDARKLY';\nconst CNameMapping = {\n  [NAME]: NAME,\n  LaunchDarkly: NAME,\n  Launch_Darkly: NAME,\n  'Launch Darkly': NAME,\n  launchDarkly: NAME,\n  'launch darkly': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'PINTEREST_TAG';\nconst CNameMapping = {\n  [NAME]: NAME,\n  PinterestTag: NAME,\n  Pinterest_Tag: NAME,\n  PINTERESTTAG: NAME,\n  pinterest: NAME,\n  PinterestAds: NAME,\n  Pinterest_Ads: NAME,\n  Pinterest: NAME,\n  'Pinterest Tag': NAME,\n  'Pinterest tag': NAME,\n  'PINTEREST TAG': NAME,\n  'pinterest tag': NAME,\n  'Pinterest Ads': NAME,\n  'Pinterest ads': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'ADROLL';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Adroll: NAME,\n  'Ad roll': NAME,\n  'ad roll': NAME,\n  adroll: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'ENGAGE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Engage: NAME,\n  engage: NAME,\n};\nconst identifyExcludeFields = [\n  'firstName',\n  'firstname',\n  'first_name',\n  'lastName',\n  'lastname',\n  'last_name',\n  'phone',\n];\nexport { NAME, CNameMapping, identifyExcludeFields };\n","const NAME = 'YANDEX_METRICA';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Yandexmetrica: NAME,\n  yandexmetrica: NAME,\n  yandexMetrica: NAME,\n  YandexMetrica: NAME,\n};\n\nexport { NAME, CNameMapping };\n","import { CNameMapping as AdobeAnalytics } from '../integrations/AdobeAnalytics/constants';\nimport { CNameMapping as Amplitude } from '../integrations/Amplitude/constants';\nimport { CNameMapping as Appcues } from '../integrations/Appcues/constants';\nimport { CNameMapping as BingAds } from '../integrations/BingAds/constants';\nimport { CNameMapping as Braze } from '../integrations/Braze/constants';\nimport { CNameMapping as Bugsnag } from '../integrations/Bugsnag/constants';\nimport { CNameMapping as Chartbeat } from '../integrations/Chartbeat/constants';\nimport { CNameMapping as Clevertap } from '../integrations/Clevertap/constants';\nimport { CNameMapping as Comscore } from '../integrations/Comscore/constants';\nimport { CNameMapping as Criteo } from '../integrations/Criteo/constants';\nimport { CNameMapping as CustomerIO } from '../integrations/CustomerIO/constants';\nimport { CNameMapping as Drip } from '../integrations/Drip/constants';\nimport { CNameMapping as FacebookPixel } from '../integrations/FacebookPixel/constants';\nimport { CNameMapping as Fullstory } from '../integrations/Fullstory/constants';\nimport { CNameMapping as GA } from '../integrations/GA/constants';\nimport { CNameMapping as GA4 } from '../integrations/GA4/constants';\nimport { CNameMapping as GoogleAds } from '../integrations/GoogleAds/constants';\nimport { CNameMapping as GoogleOptimize } from '../integrations/GoogleOptimize/constants';\nimport { CNameMapping as GoogleTagManager } from '../integrations/GoogleTagManager/constants';\nimport { CNameMapping as Heap } from '../integrations/Heap/constants';\nimport { CNameMapping as Hotjar } from '../integrations/Hotjar/constants';\nimport { CNameMapping as HubSpot } from '../integrations/HubSpot/constants';\nimport { CNameMapping as INTERCOM } from '../integrations/INTERCOM/constants';\nimport { CNameMapping as Keen } from '../integrations/Keen/constants';\nimport { CNameMapping as Kissmetrics } from '../integrations/Kissmetrics/constants';\nimport { CNameMapping as Klaviyo } from '../integrations/Klaviyo/constants';\nimport { CNameMapping as LaunchDarkly } from '../integrations/LaunchDarkly/constants';\nimport { CNameMapping as LinkedInInsightTag } from '../integrations/LinkedInInsightTag/constants';\nimport { CNameMapping as Lotame } from '../integrations/Lotame/constants';\nimport { CNameMapping as Lytics } from '../integrations/Lytics/constants';\nimport { CNameMapping as Mixpanel } from '../integrations/Mixpanel/constants';\nimport { CNameMapping as MoEngage } from '../integrations/MoEngage/constants';\nimport { CNameMapping as Optimizely } from '../integrations/Optimizely/constants';\nimport { CNameMapping as Pendo } from '../integrations/Pendo/constants';\nimport { CNameMapping as PinterestTag } from '../integrations/PinterestTag/constants';\nimport { CNameMapping as PostAffiliatePro } from '../integrations/PostAffiliatePro/constants';\nimport { CNameMapping as Posthog } from '../integrations/Posthog/constants';\nimport { CNameMapping as ProfitWell } from '../integrations/ProfitWell/constants';\nimport { CNameMapping as Qualtrics } from '../integrations/Qualtrics/constants';\nimport { CNameMapping as QuantumMetric } from '../integrations/QuantumMetric/constants';\nimport { CNameMapping as RedditPixel } from '../integrations/RedditPixel/constants';\nimport { CNameMapping as Sentry } from '../integrations/Sentry/constants';\nimport { CNameMapping as SnapPixel } from '../integrations/SnapPixel/constants';\nimport { CNameMapping as TVSquared } from '../integrations/TVSquared/constants';\nimport { CNameMapping as VWO } from '../integrations/VWO/constants';\nimport { CNameMapping as GA360 } from '../integrations/GA360/constants';\nimport { CNameMapping as Adroll } from '../integrations/Adroll/constants';\nimport { CNameMapping as DCMFloodlight } from '../integrations/DCMFloodlight/constants';\nimport { CNameMapping as Matomo } from '../integrations/Matomo/constants';\nimport { CNameMapping as Vero } from '../integrations/Vero/constants';\nimport { CNameMapping as Mouseflow } from '../integrations/Mouseflow/constants';\nimport { CNameMapping as Rockerbox } from '../integrations/Rockerbox/constants';\nimport { CNameMapping as ConvertFlow } from '../integrations/ConvertFlow/constants';\nimport { CNameMapping as SnapEngage } from '../integrations/SnapEngage/constants';\nimport { CNameMapping as LiveChat } from '../integrations/LiveChat/constants';\nimport { CNameMapping as Shynet } from '../integrations/Shynet/constants';\nimport { CNameMapping as Woopra } from '../integrations/Woopra/constants';\nimport { CNameMapping as RollBar } from '../integrations/RollBar/constants';\nimport { CNameMapping as QuoraPixel } from '../integrations/QuoraPixel/constants';\nimport { CNameMapping as June } from '../integrations/June/constants';\nimport { CNameMapping as Engage } from '../integrations/Engage/constants';\nimport { CNameMapping as Iterable } from '../integrations/Iterable/constants';\nimport { CNameMapping as YandexMetrica } from '../integrations/YandexMetrica/constants';\nimport { CNameMapping as Refiner } from '../integrations/Refiner/constants';\nimport { CNameMapping as Qualaroo } from '../integrations/Qualaroo/constants';\nimport { CNameMapping as Podsights } from '../integrations/Podsights/constants';\nimport { CNameMapping as Axeptio } from '../integrations/Axeptio/constants';\nimport { CNameMapping as SatisMeter } from '../integrations/Satismeter/constants';\nimport { CNameMapping as MicrosoftClarity } from '../integrations/MicrosoftClarity/constants';\nimport { CNameMapping as Sendinblue } from '../integrations/Sendinblue/constants';\nimport { CNameMapping as Olark } from '../integrations/Olark/constants';\nimport { CNameMapping as Lemnisk } from '../integrations/Lemnisk/constants';\nimport { CNameMapping as TiktokAds } from \"../integrations/TiktokAds/constants\";\n\n// for sdk side native integration identification\n// add a mapping from common names to index.js exported key names as identified by Rudder\nconst commonNames = {\n  All: 'All',\n  ...AdobeAnalytics,\n  ...Amplitude,\n  ...Appcues,\n  ...BingAds,\n  ...Braze,\n  ...Bugsnag,\n  ...Chartbeat,\n  ...Clevertap,\n  ...Comscore,\n  ...Criteo,\n  ...CustomerIO,\n  ...Drip,\n  ...FacebookPixel,\n  ...Fullstory,\n  ...GA,\n  ...GA4,\n  ...GA360,\n  ...GoogleAds,\n  ...GoogleOptimize,\n  ...GoogleTagManager,\n  ...Heap,\n  ...Hotjar,\n  ...HubSpot,\n  ...INTERCOM,\n  ...Keen,\n  ...Kissmetrics,\n  ...Klaviyo,\n  ...LaunchDarkly,\n  ...LinkedInInsightTag,\n  ...Lotame,\n  ...Lytics,\n  ...Mixpanel,\n  ...MoEngage,\n  ...Optimizely,\n  ...Pendo,\n  ...PinterestTag,\n  ...PostAffiliatePro,\n  ...Posthog,\n  ...ProfitWell,\n  ...Qualtrics,\n  ...QuantumMetric,\n  ...RedditPixel,\n  ...Sentry,\n  ...SnapPixel,\n  ...TVSquared,\n  ...VWO,\n  ...Adroll,\n  ...DCMFloodlight,\n  ...Matomo,\n  ...Vero,\n  ...Mouseflow,\n  ...ConvertFlow,\n  ...SnapEngage,\n  ...LiveChat,\n  ...Shynet,\n  ...Woopra,\n  ...RollBar,\n  ...QuoraPixel,\n  ...June,\n  ...Engage,\n  ...Iterable,\n  ...Rockerbox,\n  ...YandexMetrica,\n  ...Refiner,\n  ...Qualaroo,\n  ...Podsights,\n  ...Axeptio,\n  ...SatisMeter,\n  ...MicrosoftClarity,\n  ...Sendinblue,\n  ...Olark,\n  ...Lemnisk,\n  ...TiktokAds,\n};\n\nexport { commonNames };\n","// from client native integration name to server identified display name\n// add a mapping from Rudder identified key names to Rudder server recognizable names\nconst clientToServerNames = {\n  All: 'All',\n  GA: 'Google Analytics',\n  GOOGLEADS: 'Google Ads',\n  BRAZE: 'Braze',\n  CHARTBEAT: 'Chartbeat',\n  COMSCORE: 'Comscore',\n  CUSTOMERIO: 'Customer IO',\n  DCM_Floodlight: 'DCM Floodlight',\n  FACEBOOK_PIXEL: 'Facebook Pixel',\n  GTM: 'Google Tag Manager',\n  HOTJAR: 'Hotjar',\n  HS: 'HubSpot',\n  INTERCOM: 'Intercom',\n  KEEN: 'Keen',\n  KISSMETRICS: 'Kiss Metrics',\n  LOTAME: 'Lotame',\n  VWO: 'VWO',\n  OPTIMIZELY: 'Optimizely Web',\n  FULLSTORY: 'Fullstory',\n  TVSQUARED: 'TVSquared',\n  GA4: 'Google Analytics 4',\n  MOENGAGE: 'MoEngage',\n  AM: 'Amplitude',\n  PENDO: 'Pendo',\n  LYTICS: 'Lytics',\n  APPCUES: 'Appcues',\n  POSTHOG: 'PostHog',\n  PROFITWELL: 'ProfitWell',\n  KLAVIYO: 'Klaviyo',\n  CLEVERTAP: 'CleverTap',\n  BINGADS: 'Bing Ads',\n  PINTEREST_TAG: 'Pinterest Tag',\n  SNAP_PIXEL: 'Snap Pixel',\n  LINKEDIN_INSIGHT_TAG: 'Linkedin Insight Tag',\n  REDDIT_PIXEL: 'Reddit Pixel',\n  DRIP: 'Drip',\n  HEAP: 'Heap.io',\n  CRITEO: 'Criteo',\n  MP: 'Mixpanel',\n  QUALTRICS: 'Qualtrics',\n  SENTRY: 'Sentry',\n  GOOGLE_OPTIMIZE: 'Google Optimize',\n  POST_AFFILIATE_PRO: 'Post Affiliate Pro',\n  LAUNCHDARKLY: 'LaunchDarkly',\n  GA360: 'Google Analytics 360',\n  ADROLL: 'Adroll',\n  VERO: 'Vero',\n  MATOMO: 'Matomo',\n  MOUSEFLOW: 'Mouseflow',\n  ROCKERBOX: 'Rockerbox',\n  CONVERTFLOW: 'ConvertFlow',\n  SNAPENGAGE: 'SnapEngage',\n  LIVECHAT: 'LiveChat',\n  SHYNET: 'Shynet',\n  WOOPRA: 'Woopra',\n  ROLLBAR: 'RollBar',\n  QUORA_PIXEL: 'Quora Pixel',\n  JUNE: 'June',\n  ENGAGE: 'Engage',\n  ITERABLE: 'Iterable',\n  YANDEX_METRICA: 'Yandex.Metrica',\n  REFINER: 'Refiner',\n  QUALAROO: 'Qualaroo',\n  PODSIGHTS: 'Podsights',\n  AXEPTIO: 'Axeptio',\n  SATISMETER: 'Satismeter',\n  MICROSOFT_CLARITY: 'Microsoft Clarity',\n  SENDINBLUE: 'Sendinblue',\n  OLARK: 'Olark',\n  LEMNISK: \"Lemnisk\",\n  TIKTOK_ADS: \"TikTok Ads\",\n};\n\nexport { clientToServerNames };\n","// Reserved Keywords for properties/traits\nconst RESERVED_KEYS = [\n  'anonymous_id',\n  'id',\n  'sent_at',\n  'received_at',\n  'timestamp',\n  'original_timestamp',\n  'event_text',\n  'event',\n];\n\nconst CONFIG_URL =\n  'https://api.rudderlabs.com/sourceConfig/?p=__MODULE_TYPE__&v=__PACKAGE_VERSION__';\nconst SDK_CDN_BASE_URL = 'https://cdn.rudderlabs.com';\nconst CDN_ARCH_VERSION_DIR = 'v1.1';\nconst CDN_INT_DIR = 'js-integrations';\nconst DEST_SDK_BASE_URL = `${SDK_CDN_BASE_URL}/${CDN_ARCH_VERSION_DIR}/${CDN_INT_DIR}`;\n\nconst MAX_WAIT_FOR_INTEGRATION_LOAD = 10000;\nconst INTEGRATION_LOAD_CHECK_INTERVAL = 1000;\nconst DEFAULT_DATA_PLANE_EVENTS_BUFFER_TIMEOUT_MS = 10000;\nconst INTG_SUFFIX = '_RS';\nconst POLYFILL_URL =\n  'https://polyfill.io/v3/polyfill.min.js?features=Number.isNaN%2CURL%2CArray.prototype.find%2CArray.prototype.includes%2CPromise%2CString.prototype.endsWith%2CString.prototype.includes%2CString.prototype.startsWith%2CObject.entries%2CObject.values%2CElement.prototype.dataset%2CString.prototype.replaceAll';\n\nconst GENERIC_TRUE_VALUES = ['true', 'True', 'TRUE', 't', 'T', '1'];\nconst GENERIC_FALSE_VALUES = ['false', 'False', 'FALSE', 'f', 'F', '0'];\n\nconst SAMESITE_COOKIE_OPTS = ['Lax', 'None', 'Strict'];\n\nconst DEFAULT_SESSION_TIMEOUT = 30 * 60 * 1000; // 30 min in milliseconds\nconst MIN_SESSION_TIMEOUT = 10 * 1000; // 10 sec in milliseconds\nconst MIN_SESSION_ID_LENGTH = 10;\n\nconst ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME = 'errorReporting';\nconst LOAD_ORIGIN = 'RS_JS_SDK';\n\nconst DEFAULT_REGION = 'US';\nconst DEFAULT_DATAPLANE_URL = 'https://hosted.rudderlabs.com';\n\nconst RESIDENCY_SERVERS = [DEFAULT_REGION, 'EU'];\n\nconst SUPPORTED_CONSENT_MANAGERS = ['oneTrust'];\n\nconst SYSTEM_KEYWORDS = ['library', 'consentManagement'];\nconst UA_CH_LEVELS = ['none', 'default', 'full'];\n\nconst DEFAULT_INTEGRATIONS_CONFIG = { All: true };\nconst FAILED_REQUEST_ERR_MSG_PREFIX = 'Request failed with status:';\nconst ERROR_MESSAGES_TO_BE_FILTERED = [FAILED_REQUEST_ERR_MSG_PREFIX];\n\nexport {\n  RESERVED_KEYS,\n  CONFIG_URL,\n  SDK_CDN_BASE_URL,\n  CDN_ARCH_VERSION_DIR,\n  CDN_INT_DIR,\n  DEST_SDK_BASE_URL,\n  MAX_WAIT_FOR_INTEGRATION_LOAD,\n  INTEGRATION_LOAD_CHECK_INTERVAL,\n  INTG_SUFFIX,\n  POLYFILL_URL,\n  GENERIC_TRUE_VALUES,\n  GENERIC_FALSE_VALUES,\n  SAMESITE_COOKIE_OPTS,\n  DEFAULT_SESSION_TIMEOUT,\n  MIN_SESSION_TIMEOUT,\n  MIN_SESSION_ID_LENGTH,\n  ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME,\n  LOAD_ORIGIN,\n  DEFAULT_REGION,\n  DEFAULT_DATAPLANE_URL,\n  RESIDENCY_SERVERS,\n  SUPPORTED_CONSENT_MANAGERS,\n  SYSTEM_KEYWORDS,\n  UA_CH_LEVELS,\n  DEFAULT_INTEGRATIONS_CONFIG,\n  DEFAULT_DATA_PLANE_EVENTS_BUFFER_TIMEOUT_MS,\n  FAILED_REQUEST_ERR_MSG_PREFIX,\n  ERROR_MESSAGES_TO_BE_FILTERED,\n};\n","import { ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME } from './constants';\n\n/**\n * This function is to send handled errors to available error reporting client\n *\n * @param {Error} error Error instance from handled error\n */\nconst notifyError = (error) => {\n  const errorReportingClient =\n    window.rudderanalytics && window.rudderanalytics[ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME];\n  if (errorReportingClient && error instanceof Error) {\n    errorReportingClient.notify(error);\n  }\n};\n\nexport { notifyError };\n","import * as R from 'ramda';\nimport logger from './logUtil';\n\nconst mergeDeepRightObjectArrays = (leftValue, rightValue) => {\n  if (!Array.isArray(leftValue) || !Array.isArray(rightValue)) {\n    return R.clone(rightValue);\n  }\n\n  const mergedArray = R.clone(leftValue);\n  rightValue.forEach((value, index) => {\n    // eslint-disable-next-line no-use-before-define\n    mergedArray[index] = mergeDeepRight(mergedArray[index], value);\n  });\n\n  return mergedArray;\n};\n\nconst mergeDeepRight = (leftObject, rightObject) =>\n  R.mergeDeepWith(mergeDeepRightObjectArrays, leftObject, rightObject);\n\nconst isObjectLiteralAndNotNull = (value) =>\n  value !== null && Object.prototype.toString.call(value) === '[object Object]';\n\nconst getCircularReplacer = (excludeNull) => {\n  const ancestors = [];\n\n  return function (key, value) {\n    if (excludeNull && (value === null || value === undefined)) {\n      return undefined;\n    }\n\n    if (typeof value !== 'object' || value === null) {\n      return value;\n    }\n\n    // `this` is the object that value is contained in, i.e., its direct parent.\n    while (ancestors.length > 0 && ancestors[ancestors.length - 1] !== this) {\n      ancestors.pop();\n    }\n\n    if (ancestors.includes(value)) {\n      logger.debug(`Circular Reference detected for key: ${key}`);\n      return '[Circular Reference]';\n    }\n\n    ancestors.push(value);\n    return value;\n  };\n};\n\nconst stringifyWithoutCircular = (obj, excludeNull) =>\n  JSON.stringify(obj, getCircularReplacer(excludeNull));\n\nconst isInstanceOfEvent = (value) =>\n  typeof value === 'object' && value !== null && 'target' in value;\n\nexport {\n  mergeDeepRightObjectArrays,\n  mergeDeepRight,\n  getCircularReplacer,\n  stringifyWithoutCircular,\n  isInstanceOfEvent,\n  isObjectLiteralAndNotNull,\n};\n","import logger from './logUtil';\nimport { LOAD_ORIGIN, ERROR_MESSAGES_TO_BE_FILTERED } from './constants';\nimport { notifyError } from './notifyError';\nimport { isInstanceOfEvent, stringifyWithoutCircular } from './ObjectUtils';\n\nconst normalizeError = (error, customMessage, analyticsInstance) => {\n  let errorMessage;\n  try {\n    if (typeof error === 'string') {\n      errorMessage = error;\n    } else if (error instanceof Error) {\n      errorMessage = error.message;\n    } else {\n      errorMessage = error.message ? error.message : stringifyWithoutCircular(error);\n    }\n  } catch (e) {\n    errorMessage = '';\n  }\n\n  if (isInstanceOfEvent(error)) {\n    // Discard all the non-script loading errors\n    if (error.target && error.target.localName !== 'script') {\n      return '';\n    }\n\n    // Discard script errors that are not originated at SDK or from native SDKs\n    if (\n      error.target.dataset &&\n      (error.target.dataset.loader !== LOAD_ORIGIN ||\n        error.target.dataset.isNonNativeSDK !== 'true')\n    ) {\n      return '';\n    }\n\n    errorMessage = `error in script loading:: src::  ${error.target.src} id:: ${error.target.id}`;\n\n    // SDK triggered ad-blocker script\n    if (error.target.id === 'ad-block') {\n      analyticsInstance.page(\n        'RudderJS-Initiated',\n        'ad-block page request',\n        { path: '/ad-blocked', title: errorMessage },\n        analyticsInstance.sendAdblockPageOptions,\n      );\n      // No need to proceed further for Ad-block errors\n      return '';\n    }\n  }\n\n  const customErrMessagePrefix = customMessage || '';\n  return `[handleError]::${customErrMessagePrefix} \"${errorMessage}\"`;\n};\n\n/**\n * A function to determine whether the error should be notified or not\n * @param {Error} error\n * @returns\n */\nconst isAllowedToBeNotified = (error) => {\n  if (error.message) {\n    return !ERROR_MESSAGES_TO_BE_FILTERED.some((e) => error.message.includes(e));\n  }\n  return true;\n};\n\nconst handleError = (error, customMessage, analyticsInstance) => {\n  let errorMessage;\n\n  try {\n    errorMessage = normalizeError(error, customMessage, analyticsInstance);\n  } catch (err) {\n    logger.error('[handleError] Exception:: ', err);\n    logger.error('[handleError] Original error:: ', stringifyWithoutCircular(error));\n    notifyError(err);\n  }\n\n  if (!errorMessage) {\n    return;\n  }\n\n  logger.error(errorMessage);\n  // Check if the error is allowed to be notified\n  if (isAllowedToBeNotified(error)) {\n    notifyError(error);\n  }\n};\n\nexport { handleError, normalizeError };\n","// import * as XMLHttpRequestNode from \"Xmlhttprequest\";\nimport get from 'get-value';\nimport { v4 as uuid } from '@lukeed/uuid';\nimport { v4 as uuidSecure } from '@lukeed/uuid/secure';\nimport logger from './logUtil';\nimport { commonNames } from './integration_cname';\nimport { clientToServerNames } from './client_server_name';\nimport {\n  CONFIG_URL,\n  RESERVED_KEYS,\n  DEFAULT_REGION,\n  RESIDENCY_SERVERS,\n  SUPPORTED_CONSENT_MANAGERS,\n  FAILED_REQUEST_ERR_MSG_PREFIX\n} from './constants';\nimport { handleError } from './errorHandler';\n\n/**\n *\n * Utility method for excluding null and empty values in JSON\n * @param {*} key\n * @param {*} value\n * @returns\n */\nfunction replacer(key, value) {\n  if (value === null || value === undefined) {\n    return undefined;\n  }\n  return value;\n}\n\n/**\n * Utility method to remove '/' at the end of URL\n * @param {*} inURL\n */\nfunction removeTrailingSlashes(inURL) {\n  return inURL && inURL.endsWith('/') ? inURL.replace(/\\/+$/, '') : inURL;\n}\n\n/**\n *\n * Utility function for UUID generation\n * @returns\n */\nfunction generateUUID() {\n  if (window.crypto && typeof window.crypto.getRandomValues === 'function') {\n    return uuidSecure();\n  }\n\n  return uuid();\n}\n\n/**\n *\n * Utility function to get current time (formatted) for including in sent_at field\n * @returns\n */\nfunction getCurrentTimeFormatted() {\n  const curDateTime = new Date().toISOString();\n  // Keeping same as iso string\n  /* let curDate = curDateTime.split(\"T\")[0];\n  let curTimeExceptMillis = curDateTime\n    .split(\"T\")[1]\n    .split(\"Z\")[0]\n    .split(\".\")[0];\n  let curTimeMillis = curDateTime.split(\"Z\")[0].split(\".\")[1];\n  return curDate + \" \" + curTimeExceptMillis + \"+\" + curTimeMillis; */\n  return curDateTime;\n}\n\n/**\n *\n * Utility function to retrieve configuration JSON from server\n * @param {*} url\n * @param {*} wrappers\n * @param {*} isLoaded\n * @param {*} callback\n */\nfunction getJSON(url, wrappers, isLoaded, callback) {\n  // server-side integration, XHR is node module\n\n  const xhr = new XMLHttpRequest();\n\n  xhr.open('GET', url, false);\n  xhr.onload = function () {\n    const { status } = xhr;\n    if (status == 200) {\n      // logger.debug(\"status 200\");\n      callback(null, xhr.responseText, wrappers, isLoaded);\n    } else {\n      callback(status);\n    }\n  };\n  xhr.send();\n}\n\n/**\n *\n * Utility function to retrieve configuration JSON from server\n * @param {*} context\n * @param {*} url\n * @param {*} callback\n */\nfunction getJSONTrimmed(context, url, writeKey, callback) {\n  // server-side integration, XHR is node module\n  const cb_ = callback.bind(context);\n\n  const xhr = new XMLHttpRequest();\n\n  xhr.open('GET', url, true);\n  xhr.setRequestHeader(\n    'Authorization',\n    `Basic ${btoa(`${writeKey}:`)}`,\n    // `Basic ${Buffer.from(`${writeKey}:`).toString(\"base64\")}`\n  );\n\n  xhr.onload = function () {\n    const { status } = xhr;\n    if (status == 200) {\n      // logger.debug(\"status 200 \" + \"calling callback\");\n      cb_(200, xhr.responseText);\n    } else {\n      handleError(new Error(`${FAILED_REQUEST_ERR_MSG_PREFIX} ${status} for url: ${url}`));\n      cb_(status);\n    }\n  };\n  xhr.send();\n}\n\nfunction getCurrency(val) {\n  if (!val) return;\n  if (typeof val === 'number') {\n    return val;\n  }\n  if (typeof val !== 'string') {\n    return;\n  }\n\n  val = val.replace(/\\$/g, '');\n  val = parseFloat(val);\n\n  if (!isNaN(val)) {\n    return val;\n  }\n}\n\nfunction getRevenue(properties, eventName) {\n  let { revenue } = properties;\n  const orderCompletedRegExp = /^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;\n\n  // it's always revenue, unless it's called during an order completion.\n  if (!revenue && eventName && eventName.match(orderCompletedRegExp)) {\n    revenue = properties.total;\n  }\n\n  return getCurrency(revenue);\n}\n\nfunction transformNamesCore(integrationObject, namesObj) {\n  Object.keys(integrationObject).forEach((key) => {\n    if (integrationObject.hasOwnProperty(key)) {\n      if (namesObj[key]) {\n        integrationObject[namesObj[key]] = integrationObject[key];\n      }\n      if (key != 'All') {\n        // delete user supplied keys except All and if except those where oldkeys are not present or oldkeys are same as transformed keys\n        if (namesObj[key] != undefined && namesObj[key] != key) {\n          delete integrationObject[key];\n        }\n      }\n    }\n  });\n}\n\n/**\n *\n *\n * @param {*} integrationObject\n */\nfunction transformToRudderNames(integrationObject) {\n  transformNamesCore(integrationObject, commonNames);\n}\n\nfunction transformToServerNames(integrationObject) {\n  transformNamesCore(integrationObject, clientToServerNames);\n}\n\n/**\n *\n * @param {*} sdkSuppliedIntegrations\n * @param {*} configPlaneEnabledIntegrations\n */\nfunction findAllEnabledDestinations(sdkSuppliedIntegrations, configPlaneEnabledIntegrations) {\n  const enabledList = [];\n  if (!configPlaneEnabledIntegrations || configPlaneEnabledIntegrations.length === 0) {\n    return enabledList;\n  }\n  let allValue = true;\n  if (sdkSuppliedIntegrations.All !== undefined) {\n    allValue = sdkSuppliedIntegrations.All;\n  }\n  const intgData = [];\n  if (typeof configPlaneEnabledIntegrations[0] === 'string') {\n    configPlaneEnabledIntegrations.forEach((intg) => {\n      intgData.push({\n        intgName: intg,\n        intObj: intg,\n      });\n    });\n  } else if (typeof configPlaneEnabledIntegrations[0] === 'object') {\n    configPlaneEnabledIntegrations.forEach((intg) => {\n      intgData.push({\n        intgName: intg.name,\n        intObj: intg,\n      });\n    });\n  }\n\n  intgData.forEach(({ intgName, intObj }) => {\n    if (!allValue) {\n      // All false ==> check if intg true supplied\n      if (\n        sdkSuppliedIntegrations[intgName] != undefined &&\n        sdkSuppliedIntegrations[intgName] == true\n      ) {\n        enabledList.push(intObj);\n      }\n    } else {\n      // All true ==> intg true by default\n      let intgValue = true;\n      // check if intg false supplied\n      if (\n        sdkSuppliedIntegrations[intgName] != undefined &&\n        sdkSuppliedIntegrations[intgName] == false\n      ) {\n        intgValue = false;\n      }\n      if (intgValue) {\n        enabledList.push(intObj);\n      }\n    }\n  });\n\n  return enabledList;\n}\n\n/**\n * reject all null values from array/object\n * @param  {} obj\n * @param  {} fn\n */\nfunction rejectArr(obj, fn) {\n  fn = fn || compact;\n  return type(obj) == 'array' ? rejectarray(obj, fn) : rejectobject(obj, fn);\n}\n\n/**\n * particular case when rejecting an array\n * @param  {} arr\n * @param  {} fn\n */\nvar rejectarray = function (arr, fn) {\n  const ret = [];\n\n  for (let i = 0; i < arr.length; ++i) {\n    if (!fn(arr[i], i)) ret[ret.length] = arr[i];\n  }\n\n  return ret;\n};\n\n/**\n * Rejecting null from any object other than arrays\n * @param  {} obj\n * @param  {} fn\n *\n */\nvar rejectobject = function (obj, fn) {\n  const ret = {};\n\n  for (const k in obj) {\n    if (obj.hasOwnProperty(k) && !fn(obj[k], k)) {\n      ret[k] = obj[k];\n    }\n  }\n\n  return ret;\n};\n\nfunction compact(value) {\n  return value == null;\n}\n\n/**\n * check type of object incoming in the rejectArr function\n * @param  {} val\n */\nfunction type(val) {\n  switch (Object.prototype.toString.call(val)) {\n    case '[object Function]':\n      return 'function';\n    case '[object Date]':\n      return 'date';\n    case '[object RegExp]':\n      return 'regexp';\n    case '[object Arguments]':\n      return 'arguments';\n    case '[object Array]':\n      return 'array';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val === Object(val)) return 'object';\n\n  return typeof val;\n}\n\nfunction getUserProvidedConfigUrl(configUrl, defConfigUrl) {\n  let url = configUrl;\n  if (url.indexOf('sourceConfig') === -1) {\n    url = `${removeTrailingSlashes(url)}/sourceConfig/`;\n  }\n  url = url.slice(-1) === '/' ? url : `${url}/`;\n  const defQueryParams = defConfigUrl.split('?')[1];\n  const urlSplitItems = url.split('?');\n  if (urlSplitItems.length > 1 && urlSplitItems[1] !== defQueryParams) {\n    url = `${urlSplitItems[0]}?${defQueryParams}`;\n  } else {\n    url = `${url}?${defQueryParams}`;\n  }\n  return url;\n}\n/**\n * Check if a reserved keyword is present in properties/traits\n * @param {*} properties\n * @param {*} reservedKeywords\n * @param {*} type\n */\nfunction checkReservedKeywords(message, messageType) {\n  //  properties, traits, contextualTraits are either undefined or object\n  const { properties, traits } = message;\n  if (properties) {\n    Object.keys(properties).forEach((property) => {\n      if (RESERVED_KEYS.indexOf(property.toLowerCase()) >= 0) {\n        logger.error(\n          `Warning! : Reserved keyword used in properties--> ${property} with ${messageType} call`,\n        );\n      }\n    });\n  }\n  if (traits) {\n    Object.keys(traits).forEach((trait) => {\n      if (RESERVED_KEYS.indexOf(trait.toLowerCase()) >= 0) {\n        logger.error(\n          `Warning! : Reserved keyword used in traits--> ${trait} with ${messageType} call`,\n        );\n      }\n    });\n  }\n  const contextualTraits = message.context.traits;\n  if (contextualTraits) {\n    Object.keys(contextualTraits).forEach((contextTrait) => {\n      if (RESERVED_KEYS.indexOf(contextTrait.toLowerCase()) >= 0) {\n        logger.error(\n          `Warning! : Reserved keyword used in traits --> ${contextTrait} with ${messageType} call`,\n        );\n      }\n    });\n  }\n}\n\n/* ------- Start FlattenJson -----------\n * This function flatten given json object to single level.\n * So if there is nested object or array, all will appear in first level properties of an object.\n * Following is case we are handling in this function ::\n * condition 1: String\n * condition 2: Array\n * condition 3: Nested object\n */\nfunction recurse(cur, prop, result) {\n  const res = result;\n  if (Object(cur) !== cur) {\n    res[prop] = cur;\n  } else if (Array.isArray(cur)) {\n    const l = cur.length;\n    for (let i = 0; i < l; i += 1) recurse(cur[i], prop ? `${prop}.${i}` : `${i}`, res);\n    if (l === 0) res[prop] = [];\n  } else {\n    let isEmpty = true;\n    Object.keys(cur).forEach((key) => {\n      isEmpty = false;\n      recurse(cur[key], prop ? `${prop}.${key}` : key, res);\n    });\n    if (isEmpty) res[prop] = {};\n  }\n  return res;\n}\n\nfunction flattenJsonPayload(data, property = '') {\n  return recurse(data, property, {});\n}\n/* ------- End FlattenJson ----------- */\n/**\n *\n * @param {*} message\n * @param {*} destination\n * @param {*} keys\n * @param {*} exclusionFields\n * Extract fields from message with exclusions\n * Pass the keys of message for extraction and\n * exclusion fields to exclude and the payload to map into\n * -----------------Example-------------------\n * extractCustomFields(message,payload,[\"traits\", \"context.traits\", \"properties\"], \"email\",\n * [\"firstName\",\n * \"lastName\",\n * \"phone\",\n * \"title\",\n * \"organization\",\n * \"city\",\n * \"region\",\n * \"country\",\n * \"zip\",\n * \"image\",\n * \"timezone\"])\n * -------------------------------------------\n * The above call will map the fields other than the\n * exclusion list from the given keys to the destination payload\n *\n */\n\nfunction extractCustomFields(message, destination, keys, exclusionFields) {\n  keys.map((key) => {\n    const messageContext = get(message, key);\n    if (messageContext) {\n      const objKeys = [];\n      Object.keys(messageContext).map((k) => {\n        if (exclusionFields.indexOf(k) < 0) {\n          objKeys.push(k);\n        }\n      });\n      objKeys.map((k) => {\n        if (!(typeof messageContext[k] === 'undefined')) {\n          if (destination) {\n            destination[k] = get(messageContext, k);\n          } else {\n            destination = {\n              k: get(messageContext, k),\n            };\n          }\n        }\n      });\n    }\n  });\n  return destination;\n}\n/**\n *\n * @param {*} message\n *\n * Use get-value to retrieve defined traits from message traits\n */\nfunction getDefinedTraits(message) {\n  const traitsValue = {\n    userId:\n      get(message, 'userId') ||\n      get(message, 'context.traits.userId') ||\n      get(message, 'anonymousId'),\n    userIdOnly: get(message, 'userId') || get(message, 'context.traits.userId'),\n    email:\n      get(message, 'context.traits.email') ||\n      get(message, 'context.traits.Email') ||\n      get(message, 'context.traits.E-mail'),\n    phone: get(message, 'context.traits.phone') || get(message, 'context.traits.Phone'),\n    firstName:\n      get(message, 'context.traits.firstName') ||\n      get(message, 'context.traits.firstname') ||\n      get(message, 'context.traits.first_name'),\n    lastName:\n      get(message, 'context.traits.lastName') ||\n      get(message, 'context.traits.lastname') ||\n      get(message, 'context.traits.last_name'),\n    name: get(message, 'context.traits.name') || get(message, 'context.traits.Name'),\n    state:\n      get(message, 'context.traits.state') ||\n      get(message, 'context.traits.State') ||\n      get(message, 'context.traits.address.state') ||\n      get(message, 'context.traits.address.State'),\n    city:\n      get(message, 'context.traits.city') ||\n      get(message, 'context.traits.City') ||\n      get(message, 'context.traits.address.city') ||\n      get(message, 'context.traits.address.City'),\n    country:\n      get(message, 'context.traits.country') ||\n      get(message, 'context.traits.Country') ||\n      get(message, 'context.traits.address.country') ||\n      get(message, 'context.traits.address.Country'),\n  };\n\n  if (!get(traitsValue, 'name') && get(traitsValue, 'firstName') && get(traitsValue, 'lastName')) {\n    traitsValue.name = `${get(traitsValue, 'firstName')} ${get(traitsValue, 'lastName')}`;\n  }\n  return traitsValue;\n}\n\n/**\n * To check if a variable is storing object or not\n */\nconst isObject = (obj) => {\n  return type(obj) === 'object';\n};\n\n/**\n * To check if a variable is storing array or not\n */\nconst isArray = (obj) => {\n  return type(obj) === 'array';\n};\n\nconst isDefined = (x) => x !== undefined;\nconst isNotNull = (x) => x !== null;\nconst isDefinedAndNotNull = (x) => isDefined(x) && isNotNull(x);\n\nconst getDataFromSource = (src, dest, properties) => {\n  const data = {};\n  if (isArray(src)) {\n    for (let index = 0; index < src.length; index += 1) {\n      if (properties[src[index]]) {\n        data[dest] = properties[src[index]];\n        if (data) {\n          // return only if the value is valid.\n          // else look for next possible source in precedence\n          return data;\n        }\n      }\n    }\n  } else if (typeof src === 'string') {\n    if (properties[src]) {\n      data[dest] = properties[src];\n    }\n  }\n  return data;\n};\n\nconst getConfigUrl = (writeKey) => {\n  return CONFIG_URL.concat(CONFIG_URL.includes('?') ? '&' : '?').concat(\n    writeKey ? `writeKey=${writeKey}` : '',\n  );\n};\n\nconst getSDKUrlInfo = () => {\n  const scripts = document.getElementsByTagName('script');\n  let sdkURL;\n  let isStaging = false;\n  for (let i = 0; i < scripts.length; i += 1) {\n    const curScriptSrc = removeTrailingSlashes(scripts[i].getAttribute('src'));\n    if (curScriptSrc) {\n      const urlMatches = curScriptSrc.match(/^.*rudder-analytics(-staging)?(\\.min)?\\.js$/);\n      if (urlMatches) {\n        sdkURL = curScriptSrc;\n        isStaging = urlMatches[1] !== undefined;\n        break;\n      }\n    }\n  }\n  return { sdkURL, isStaging };\n};\n\n/**\n * Using this function we can create a payload from a mapping object.\n * @param {*} object = {\n   traits:{\n     name: \"abcd efgh\",\n     address: {\n       city: \"xyz\"\n     }\n   }\n  }\n * @param {*} mapper = [\n  {\n    destKey: \"userName\",\n    sourceKeys: \"traits.name\",\n  },\n  {\n    destKey: \"city\",\n    sourceKeys: \"traits.address.city\",\n  },\n]\n * @returns {\n   userName : \"abcd efgh\",\n   city : \"xyz\"\n }\n\n*/\nconst constructPayload = (object, mapper) => {\n  const payload = {};\n  if (object)\n    mapper.forEach((element) => {\n      if (!Array.isArray(element.sourceKeys)) {\n        payload[element.destKey] = get(object, element.sourceKeys);\n      } else {\n        for (let i = 0; i < element.sourceKeys.length; i += 1) {\n          if (get(object, element.sourceKeys[i])) {\n            payload[element.destKey] = get(object, element.sourceKeys[i]);\n            break;\n          }\n        }\n      }\n    });\n  return payload;\n};\n\nconst countDigits = (number) => {\n  return number ? number.toString().length : 0;\n};\n\n/**\n * A function to convert non-string IDs to string format\n * @param {any} id\n * @returns\n */\nconst getStringId = (id) => {\n  return typeof id === 'string' || typeof id === 'undefined' || id === null\n    ? id\n    : JSON.stringify(id);\n};\n\n/**\n * A function to validate and return Residency server input\n * @returns string/undefined\n */\nconst getResidencyServer = (options) => {\n  const region = options ? options.residencyServer : undefined;\n  if (region) {\n    if (typeof region !== 'string' || !RESIDENCY_SERVERS.includes(region.toUpperCase())) {\n      logger.error('Invalid residencyServer input');\n      return undefined;\n    }\n    return region.toUpperCase();\n  }\n  return undefined;\n};\n\nconst isValidServerUrl = (serverUrl) => {\n  if (!serverUrl || typeof serverUrl !== 'string' || serverUrl.trim().length === 0) {\n    return false;\n  }\n  return true;\n};\n\n/**\n * A function to get url from source config response\n * @param {array} urls    An array of objects containing urls\n * @returns\n */\nconst getDefaultUrlofRegion = (urls) => {\n  let url;\n  if (Array.isArray(urls) && urls.length) {\n    const obj = urls.find((elem) => elem.default === true);\n    if (obj && isValidServerUrl(obj.url)) {\n      return obj.url;\n    }\n  }\n  return url;\n};\n\n/**\n * A function to determine the dataPlaneUrl\n * @param {Object} dataPlaneUrls An object containing dataPlaneUrl for different region\n * @returns string\n */\nconst resolveDataPlaneUrl = (response, serverUrl, options) => {\n  try {\n    const dataPlanes = response.source.dataplanes || {};\n    // Check if dataPlanes object is present in source config\n    if (Object.keys(dataPlanes).length) {\n      const inputRegion = getResidencyServer(options);\n      const regionUrlArr = dataPlanes[inputRegion] || dataPlanes[DEFAULT_REGION];\n\n      if (regionUrlArr) {\n        const defaultUrl = getDefaultUrlofRegion(regionUrlArr);\n        if (defaultUrl) {\n          return defaultUrl;\n        }\n      }\n    }\n    // return the dataPlaneUrl provided in load API(if available)\n    if (isValidServerUrl(serverUrl)) {\n      return serverUrl;\n    }\n    // return the default dataPlaneUrl\n    // return DEFAULT_DATAPLANE_URL; // we do not want to divert the events to hosted data plane url\n\n    // Throw error if correct data plane url is not provided\n    throw Error('Unable to load the SDK due to invalid data plane url');\n  } catch (e) {\n    throw Error(e);\n  }\n};\n\n/**\n * Function to return the state of consent management based on config passed in load options\n * @param {Object} cookieConsentOptions\n * @returns\n */\nconst fetchCookieConsentState = (cookieConsentOptions) => {\n  let isEnabled = false;\n  // eslint-disable-next-line consistent-return\n  Object.keys(cookieConsentOptions).forEach((e) => {\n    const isSupportedAndEnabled =\n      SUPPORTED_CONSENT_MANAGERS.includes(e) &&\n      typeof cookieConsentOptions[e].enabled === 'boolean' &&\n      cookieConsentOptions[e].enabled === true;\n\n    if (isSupportedAndEnabled) {\n      isEnabled = true;\n    }\n  });\n  return isEnabled;\n};\n\nconst parseQueryString = (url)=>{\n  const result = {};\n  try {\n    const urlObj = new URL(url);\n    urlObj.searchParams.forEach((value, qParam) => {\n        result[qParam] = value;\n    });\n  } catch (error) {\n    // Do nothing\n  }\n  return result;\n}\n\nexport {\n  replacer,\n  generateUUID,\n  getCurrentTimeFormatted,\n  getJSONTrimmed,\n  getJSON,\n  getRevenue,\n  getUserProvidedConfigUrl,\n  findAllEnabledDestinations,\n  transformToRudderNames,\n  transformToServerNames,\n  rejectArr,\n  type,\n  flattenJsonPayload,\n  checkReservedKeywords,\n  extractCustomFields,\n  getDefinedTraits,\n  isObject,\n  isArray,\n  isDefinedAndNotNull,\n  getDataFromSource,\n  commonNames,\n  removeTrailingSlashes,\n  constructPayload,\n  getConfigUrl,\n  getSDKUrlInfo,\n  get,\n  countDigits,\n  getStringId,\n  resolveDataPlaneUrl,\n  fetchCookieConsentState,\n  parseQueryString,\n};\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\t    /*\n\t     * Local polyfil of Object.create\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {};\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }())\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var i = 0; i < thatSigBytes; i += 4) {\n\t                    thisWords[(thisSigBytes + i) >>> 2] = thatWords[i >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            var r = (function (m_w) {\n\t                var m_w = m_w;\n\t                var m_z = 0x3ade68b1;\n\t                var mask = 0xffffffff;\n\n\t                return function () {\n\t                    m_z = (0x9069 * (m_z & 0xFFFF) + (m_z >> 0x10)) & mask;\n\t                    m_w = (0x4650 * (m_w & 0xFFFF) + (m_w >> 0x10)) & mask;\n\t                    var result = ((m_z << 0x10) + m_w) & mask;\n\t                    result /= 0x100000000;\n\t                    result += 0.5;\n\t                    return result * (Math.random() > .5 ? 1 : -1);\n\t                }\n\t            });\n\n\t            for (var i = 0, rcache; i < nBytes; i += 4) {\n\t                var _r = r((rcache || Math.random()) * 0x100000000);\n\n\t                rcache = _r() * 0x3ade67b7;\n\t                words.push((_r() * 0x100000000) | 0);\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                var processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Constants table\n\t    var T = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        for (var i = 0; i < 64; i++) {\n\t            T[i] = (Math.abs(Math.sin(i + 1)) * 0x100000000) | 0;\n\t        }\n\t    }());\n\n\t    /**\n\t     * MD5 hash algorithm.\n\t     */\n\t    var MD5 = C_algo.MD5 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init([\n\t                0x67452301, 0xefcdab89,\n\t                0x98badcfe, 0x10325476\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Swap endian\n\t            for (var i = 0; i < 16; i++) {\n\t                // Shortcuts\n\t                var offset_i = offset + i;\n\t                var M_offset_i = M[offset_i];\n\n\t                M[offset_i] = (\n\t                    (((M_offset_i << 8)  | (M_offset_i >>> 24)) & 0x00ff00ff) |\n\t                    (((M_offset_i << 24) | (M_offset_i >>> 8))  & 0xff00ff00)\n\t                );\n\t            }\n\n\t            // Shortcuts\n\t            var H = this._hash.words;\n\n\t            var M_offset_0  = M[offset + 0];\n\t            var M_offset_1  = M[offset + 1];\n\t            var M_offset_2  = M[offset + 2];\n\t            var M_offset_3  = M[offset + 3];\n\t            var M_offset_4  = M[offset + 4];\n\t            var M_offset_5  = M[offset + 5];\n\t            var M_offset_6  = M[offset + 6];\n\t            var M_offset_7  = M[offset + 7];\n\t            var M_offset_8  = M[offset + 8];\n\t            var M_offset_9  = M[offset + 9];\n\t            var M_offset_10 = M[offset + 10];\n\t            var M_offset_11 = M[offset + 11];\n\t            var M_offset_12 = M[offset + 12];\n\t            var M_offset_13 = M[offset + 13];\n\t            var M_offset_14 = M[offset + 14];\n\t            var M_offset_15 = M[offset + 15];\n\n\t            // Working varialbes\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\n\t            // Computation\n\t            a = FF(a, b, c, d, M_offset_0,  7,  T[0]);\n\t            d = FF(d, a, b, c, M_offset_1,  12, T[1]);\n\t            c = FF(c, d, a, b, M_offset_2,  17, T[2]);\n\t            b = FF(b, c, d, a, M_offset_3,  22, T[3]);\n\t            a = FF(a, b, c, d, M_offset_4,  7,  T[4]);\n\t            d = FF(d, a, b, c, M_offset_5,  12, T[5]);\n\t            c = FF(c, d, a, b, M_offset_6,  17, T[6]);\n\t            b = FF(b, c, d, a, M_offset_7,  22, T[7]);\n\t            a = FF(a, b, c, d, M_offset_8,  7,  T[8]);\n\t            d = FF(d, a, b, c, M_offset_9,  12, T[9]);\n\t            c = FF(c, d, a, b, M_offset_10, 17, T[10]);\n\t            b = FF(b, c, d, a, M_offset_11, 22, T[11]);\n\t            a = FF(a, b, c, d, M_offset_12, 7,  T[12]);\n\t            d = FF(d, a, b, c, M_offset_13, 12, T[13]);\n\t            c = FF(c, d, a, b, M_offset_14, 17, T[14]);\n\t            b = FF(b, c, d, a, M_offset_15, 22, T[15]);\n\n\t            a = GG(a, b, c, d, M_offset_1,  5,  T[16]);\n\t            d = GG(d, a, b, c, M_offset_6,  9,  T[17]);\n\t            c = GG(c, d, a, b, M_offset_11, 14, T[18]);\n\t            b = GG(b, c, d, a, M_offset_0,  20, T[19]);\n\t            a = GG(a, b, c, d, M_offset_5,  5,  T[20]);\n\t            d = GG(d, a, b, c, M_offset_10, 9,  T[21]);\n\t            c = GG(c, d, a, b, M_offset_15, 14, T[22]);\n\t            b = GG(b, c, d, a, M_offset_4,  20, T[23]);\n\t            a = GG(a, b, c, d, M_offset_9,  5,  T[24]);\n\t            d = GG(d, a, b, c, M_offset_14, 9,  T[25]);\n\t            c = GG(c, d, a, b, M_offset_3,  14, T[26]);\n\t            b = GG(b, c, d, a, M_offset_8,  20, T[27]);\n\t            a = GG(a, b, c, d, M_offset_13, 5,  T[28]);\n\t            d = GG(d, a, b, c, M_offset_2,  9,  T[29]);\n\t            c = GG(c, d, a, b, M_offset_7,  14, T[30]);\n\t            b = GG(b, c, d, a, M_offset_12, 20, T[31]);\n\n\t            a = HH(a, b, c, d, M_offset_5,  4,  T[32]);\n\t            d = HH(d, a, b, c, M_offset_8,  11, T[33]);\n\t            c = HH(c, d, a, b, M_offset_11, 16, T[34]);\n\t            b = HH(b, c, d, a, M_offset_14, 23, T[35]);\n\t            a = HH(a, b, c, d, M_offset_1,  4,  T[36]);\n\t            d = HH(d, a, b, c, M_offset_4,  11, T[37]);\n\t            c = HH(c, d, a, b, M_offset_7,  16, T[38]);\n\t            b = HH(b, c, d, a, M_offset_10, 23, T[39]);\n\t            a = HH(a, b, c, d, M_offset_13, 4,  T[40]);\n\t            d = HH(d, a, b, c, M_offset_0,  11, T[41]);\n\t            c = HH(c, d, a, b, M_offset_3,  16, T[42]);\n\t            b = HH(b, c, d, a, M_offset_6,  23, T[43]);\n\t            a = HH(a, b, c, d, M_offset_9,  4,  T[44]);\n\t            d = HH(d, a, b, c, M_offset_12, 11, T[45]);\n\t            c = HH(c, d, a, b, M_offset_15, 16, T[46]);\n\t            b = HH(b, c, d, a, M_offset_2,  23, T[47]);\n\n\t            a = II(a, b, c, d, M_offset_0,  6,  T[48]);\n\t            d = II(d, a, b, c, M_offset_7,  10, T[49]);\n\t            c = II(c, d, a, b, M_offset_14, 15, T[50]);\n\t            b = II(b, c, d, a, M_offset_5,  21, T[51]);\n\t            a = II(a, b, c, d, M_offset_12, 6,  T[52]);\n\t            d = II(d, a, b, c, M_offset_3,  10, T[53]);\n\t            c = II(c, d, a, b, M_offset_10, 15, T[54]);\n\t            b = II(b, c, d, a, M_offset_1,  21, T[55]);\n\t            a = II(a, b, c, d, M_offset_8,  6,  T[56]);\n\t            d = II(d, a, b, c, M_offset_15, 10, T[57]);\n\t            c = II(c, d, a, b, M_offset_6,  15, T[58]);\n\t            b = II(b, c, d, a, M_offset_13, 21, T[59]);\n\t            a = II(a, b, c, d, M_offset_4,  6,  T[60]);\n\t            d = II(d, a, b, c, M_offset_11, 10, T[61]);\n\t            c = II(c, d, a, b, M_offset_2,  15, T[62]);\n\t            b = II(b, c, d, a, M_offset_9,  21, T[63]);\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\n\t            var nBitsTotalH = Math.floor(nBitsTotal / 0x100000000);\n\t            var nBitsTotalL = nBitsTotal;\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = (\n\t                (((nBitsTotalH << 8)  | (nBitsTotalH >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalH << 24) | (nBitsTotalH >>> 8))  & 0xff00ff00)\n\t            );\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = (\n\t                (((nBitsTotalL << 8)  | (nBitsTotalL >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalL << 24) | (nBitsTotalL >>> 8))  & 0xff00ff00)\n\t            );\n\n\t            data.sigBytes = (dataWords.length + 1) * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Shortcuts\n\t            var hash = this._hash;\n\t            var H = hash.words;\n\n\t            // Swap endian\n\t            for (var i = 0; i < 4; i++) {\n\t                // Shortcut\n\t                var H_i = H[i];\n\n\t                H[i] = (((H_i << 8)  | (H_i >>> 24)) & 0x00ff00ff) |\n\t                       (((H_i << 24) | (H_i >>> 8))  & 0xff00ff00);\n\t            }\n\n\t            // Return final computed hash\n\t            return hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    function FF(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & c) | (~b & d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function GG(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & d) | (c & ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function HH(a, b, c, d, x, s, t) {\n\t        var n = a + (b ^ c ^ d) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function II(a, b, c, d, x, s, t) {\n\t        var n = a + (c ^ (b | ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.MD5('message');\n\t     *     var hash = CryptoJS.MD5(wordArray);\n\t     */\n\t    C.MD5 = Hasher._createHelper(MD5);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacMD5(message, key);\n\t     */\n\t    C.HmacMD5 = Hasher._createHmacHelper(MD5);\n\t}(Math));\n\n\n\treturn CryptoJS.MD5;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-1 hash algorithm.\n\t     */\n\t    var SHA1 = C_algo.SHA1 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init([\n\t                0x67452301, 0xefcdab89,\n\t                0x98badcfe, 0x10325476,\n\t                0xc3d2e1f0\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\n\t            // Computation\n\t            for (var i = 0; i < 80; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var n = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\n\t                    W[i] = (n << 1) | (n >>> 31);\n\t                }\n\n\t                var t = ((a << 5) | (a >>> 27)) + e + W[i];\n\t                if (i < 20) {\n\t                    t += ((b & c) | (~b & d)) + 0x5a827999;\n\t                } else if (i < 40) {\n\t                    t += (b ^ c ^ d) + 0x6ed9eba1;\n\t                } else if (i < 60) {\n\t                    t += ((b & c) | (b & d) | (c & d)) - 0x70e44324;\n\t                } else /* if (i < 80) */ {\n\t                    t += (b ^ c ^ d) - 0x359d3e2a;\n\t                }\n\n\t                e = d;\n\t                d = c;\n\t                c = (b << 30) | (b >>> 2);\n\t                b = a;\n\t                a = t;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA1('message');\n\t     *     var hash = CryptoJS.SHA1(wordArray);\n\t     */\n\t    C.SHA1 = Hasher._createHelper(SHA1);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA1(message, key);\n\t     */\n\t    C.HmacSHA1 = Hasher._createHmacHelper(SHA1);\n\t}());\n\n\n\treturn CryptoJS.SHA1;\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./sha1\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./sha1\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_algo = C.algo;\n\t    var MD5 = C_algo.MD5;\n\n\t    /**\n\t     * This key derivation function is meant to conform with EVP_BytesToKey.\n\t     * www.openssl.org/docs/crypto/EVP_BytesToKey.html\n\t     */\n\t    var EvpKDF = C_algo.EvpKDF = Base.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {number} keySize The key size in words to generate. Default: 4 (128 bits)\n\t         * @property {Hasher} hasher The hash algorithm to use. Default: MD5\n\t         * @property {number} iterations The number of iterations to perform. Default: 1\n\t         */\n\t        cfg: Base.extend({\n\t            keySize: 128/32,\n\t            hasher: MD5,\n\t            iterations: 1\n\t        }),\n\n\t        /**\n\t         * Initializes a newly created key derivation function.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for the derivation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create();\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create({ keySize: 8 });\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create({ keySize: 8, iterations: 1000 });\n\t         */\n\t        init: function (cfg) {\n\t            this.cfg = this.cfg.extend(cfg);\n\t        },\n\n\t        /**\n\t         * Derives a key from a password.\n\t         *\n\t         * @param {WordArray|string} password The password.\n\t         * @param {WordArray|string} salt A salt.\n\t         *\n\t         * @return {WordArray} The derived key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var key = kdf.compute(password, salt);\n\t         */\n\t        compute: function (password, salt) {\n\t            // Shortcut\n\t            var cfg = this.cfg;\n\n\t            // Init hasher\n\t            var hasher = cfg.hasher.create();\n\n\t            // Initial values\n\t            var derivedKey = WordArray.create();\n\n\t            // Shortcuts\n\t            var derivedKeyWords = derivedKey.words;\n\t            var keySize = cfg.keySize;\n\t            var iterations = cfg.iterations;\n\n\t            // Generate key\n\t            while (derivedKeyWords.length < keySize) {\n\t                if (block) {\n\t                    hasher.update(block);\n\t                }\n\t                var block = hasher.update(password).finalize(salt);\n\t                hasher.reset();\n\n\t                // Iterations\n\t                for (var i = 1; i < iterations; i++) {\n\t                    block = hasher.finalize(block);\n\t                    hasher.reset();\n\t                }\n\n\t                derivedKey.concat(block);\n\t            }\n\t            derivedKey.sigBytes = keySize * 4;\n\n\t            return derivedKey;\n\t        }\n\t    });\n\n\t    /**\n\t     * Derives a key from a password.\n\t     *\n\t     * @param {WordArray|string} password The password.\n\t     * @param {WordArray|string} salt A salt.\n\t     * @param {Object} cfg (Optional) The configuration options to use for this computation.\n\t     *\n\t     * @return {WordArray} The derived key.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var key = CryptoJS.EvpKDF(password, salt);\n\t     *     var key = CryptoJS.EvpKDF(password, salt, { keySize: 8 });\n\t     *     var key = CryptoJS.EvpKDF(password, salt, { keySize: 8, iterations: 1000 });\n\t     */\n\t    C.EvpKDF = function (password, salt, cfg) {\n\t        return EvpKDF.create(cfg).compute(password, salt);\n\t    };\n\t}());\n\n\n\treturn CryptoJS.EvpKDF;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./evpkdf\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./evpkdf\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t/**\n\t * Cipher core components.\n\t */\n\tCryptoJS.lib.Cipher || (function (undefined) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var WordArray = C_lib.WordArray;\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var Base64 = C_enc.Base64;\n\t    var C_algo = C.algo;\n\t    var EvpKDF = C_algo.EvpKDF;\n\n\t    /**\n\t     * Abstract base cipher template.\n\t     *\n\t     * @property {number} keySize This cipher's key size. Default: 4 (128 bits)\n\t     * @property {number} ivSize This cipher's IV size. Default: 4 (128 bits)\n\t     * @property {number} _ENC_XFORM_MODE A constant representing encryption mode.\n\t     * @property {number} _DEC_XFORM_MODE A constant representing decryption mode.\n\t     */\n\t    var Cipher = C_lib.Cipher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {WordArray} iv The IV to use for this operation.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Creates this cipher in encryption mode.\n\t         *\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {Cipher} A cipher instance.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.createEncryptor(keyWordArray, { iv: ivWordArray });\n\t         */\n\t        createEncryptor: function (key, cfg) {\n\t            return this.create(this._ENC_XFORM_MODE, key, cfg);\n\t        },\n\n\t        /**\n\t         * Creates this cipher in decryption mode.\n\t         *\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {Cipher} A cipher instance.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.createDecryptor(keyWordArray, { iv: ivWordArray });\n\t         */\n\t        createDecryptor: function (key, cfg) {\n\t            return this.create(this._DEC_XFORM_MODE, key, cfg);\n\t        },\n\n\t        /**\n\t         * Initializes a newly created cipher.\n\t         *\n\t         * @param {number} xformMode Either the encryption or decryption transormation mode constant.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.create(CryptoJS.algo.AES._ENC_XFORM_MODE, keyWordArray, { iv: ivWordArray });\n\t         */\n\t        init: function (xformMode, key, cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Store transform mode and key\n\t            this._xformMode = xformMode;\n\t            this._key = key;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this cipher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     cipher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-cipher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Adds data to be encrypted or decrypted.\n\t         *\n\t         * @param {WordArray|string} dataUpdate The data to encrypt or decrypt.\n\t         *\n\t         * @return {WordArray} The data after processing.\n\t         *\n\t         * @example\n\t         *\n\t         *     var encrypted = cipher.process('data');\n\t         *     var encrypted = cipher.process(wordArray);\n\t         */\n\t        process: function (dataUpdate) {\n\t            // Append\n\t            this._append(dataUpdate);\n\n\t            // Process available blocks\n\t            return this._process();\n\t        },\n\n\t        /**\n\t         * Finalizes the encryption or decryption process.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} dataUpdate The final data to encrypt or decrypt.\n\t         *\n\t         * @return {WordArray} The data after final processing.\n\t         *\n\t         * @example\n\t         *\n\t         *     var encrypted = cipher.finalize();\n\t         *     var encrypted = cipher.finalize('data');\n\t         *     var encrypted = cipher.finalize(wordArray);\n\t         */\n\t        finalize: function (dataUpdate) {\n\t            // Final data update\n\t            if (dataUpdate) {\n\t                this._append(dataUpdate);\n\t            }\n\n\t            // Perform concrete-cipher logic\n\t            var finalProcessedData = this._doFinalize();\n\n\t            return finalProcessedData;\n\t        },\n\n\t        keySize: 128/32,\n\n\t        ivSize: 128/32,\n\n\t        _ENC_XFORM_MODE: 1,\n\n\t        _DEC_XFORM_MODE: 2,\n\n\t        /**\n\t         * Creates shortcut functions to a cipher's object interface.\n\t         *\n\t         * @param {Cipher} cipher The cipher to create a helper for.\n\t         *\n\t         * @return {Object} An object with encrypt and decrypt shortcut functions.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var AES = CryptoJS.lib.Cipher._createHelper(CryptoJS.algo.AES);\n\t         */\n\t        _createHelper: (function () {\n\t            function selectCipherStrategy(key) {\n\t                if (typeof key == 'string') {\n\t                    return PasswordBasedCipher;\n\t                } else {\n\t                    return SerializableCipher;\n\t                }\n\t            }\n\n\t            return function (cipher) {\n\t                return {\n\t                    encrypt: function (message, key, cfg) {\n\t                        return selectCipherStrategy(key).encrypt(cipher, message, key, cfg);\n\t                    },\n\n\t                    decrypt: function (ciphertext, key, cfg) {\n\t                        return selectCipherStrategy(key).decrypt(cipher, ciphertext, key, cfg);\n\t                    }\n\t                };\n\t            };\n\t        }())\n\t    });\n\n\t    /**\n\t     * Abstract base stream cipher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this cipher operates on. Default: 1 (32 bits)\n\t     */\n\t    var StreamCipher = C_lib.StreamCipher = Cipher.extend({\n\t        _doFinalize: function () {\n\t            // Process partial blocks\n\t            var finalProcessedBlocks = this._process(!!'flush');\n\n\t            return finalProcessedBlocks;\n\t        },\n\n\t        blockSize: 1\n\t    });\n\n\t    /**\n\t     * Mode namespace.\n\t     */\n\t    var C_mode = C.mode = {};\n\n\t    /**\n\t     * Abstract base block cipher mode template.\n\t     */\n\t    var BlockCipherMode = C_lib.BlockCipherMode = Base.extend({\n\t        /**\n\t         * Creates this mode for encryption.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.createEncryptor(cipher, iv.words);\n\t         */\n\t        createEncryptor: function (cipher, iv) {\n\t            return this.Encryptor.create(cipher, iv);\n\t        },\n\n\t        /**\n\t         * Creates this mode for decryption.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.createDecryptor(cipher, iv.words);\n\t         */\n\t        createDecryptor: function (cipher, iv) {\n\t            return this.Decryptor.create(cipher, iv);\n\t        },\n\n\t        /**\n\t         * Initializes a newly created mode.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.Encryptor.create(cipher, iv.words);\n\t         */\n\t        init: function (cipher, iv) {\n\t            this._cipher = cipher;\n\t            this._iv = iv;\n\t        }\n\t    });\n\n\t    /**\n\t     * Cipher Block Chaining mode.\n\t     */\n\t    var CBC = C_mode.CBC = (function () {\n\t        /**\n\t         * Abstract base CBC mode.\n\t         */\n\t        var CBC = BlockCipherMode.extend();\n\n\t        /**\n\t         * CBC encryptor.\n\t         */\n\t        CBC.Encryptor = CBC.extend({\n\t            /**\n\t             * Processes the data block at offset.\n\t             *\n\t             * @param {Array} words The data words to operate on.\n\t             * @param {number} offset The offset where the block starts.\n\t             *\n\t             * @example\n\t             *\n\t             *     mode.processBlock(data.words, offset);\n\t             */\n\t            processBlock: function (words, offset) {\n\t                // Shortcuts\n\t                var cipher = this._cipher;\n\t                var blockSize = cipher.blockSize;\n\n\t                // XOR and encrypt\n\t                xorBlock.call(this, words, offset, blockSize);\n\t                cipher.encryptBlock(words, offset);\n\n\t                // Remember this block to use with next block\n\t                this._prevBlock = words.slice(offset, offset + blockSize);\n\t            }\n\t        });\n\n\t        /**\n\t         * CBC decryptor.\n\t         */\n\t        CBC.Decryptor = CBC.extend({\n\t            /**\n\t             * Processes the data block at offset.\n\t             *\n\t             * @param {Array} words The data words to operate on.\n\t             * @param {number} offset The offset where the block starts.\n\t             *\n\t             * @example\n\t             *\n\t             *     mode.processBlock(data.words, offset);\n\t             */\n\t            processBlock: function (words, offset) {\n\t                // Shortcuts\n\t                var cipher = this._cipher;\n\t                var blockSize = cipher.blockSize;\n\n\t                // Remember this block to use with next block\n\t                var thisBlock = words.slice(offset, offset + blockSize);\n\n\t                // Decrypt and XOR\n\t                cipher.decryptBlock(words, offset);\n\t                xorBlock.call(this, words, offset, blockSize);\n\n\t                // This block becomes the previous block\n\t                this._prevBlock = thisBlock;\n\t            }\n\t        });\n\n\t        function xorBlock(words, offset, blockSize) {\n\t            // Shortcut\n\t            var iv = this._iv;\n\n\t            // Choose mixing block\n\t            if (iv) {\n\t                var block = iv;\n\n\t                // Remove IV for subsequent blocks\n\t                this._iv = undefined;\n\t            } else {\n\t                var block = this._prevBlock;\n\t            }\n\n\t            // XOR blocks\n\t            for (var i = 0; i < blockSize; i++) {\n\t                words[offset + i] ^= block[i];\n\t            }\n\t        }\n\n\t        return CBC;\n\t    }());\n\n\t    /**\n\t     * Padding namespace.\n\t     */\n\t    var C_pad = C.pad = {};\n\n\t    /**\n\t     * PKCS #5/7 padding strategy.\n\t     */\n\t    var Pkcs7 = C_pad.Pkcs7 = {\n\t        /**\n\t         * Pads data using the algorithm defined in PKCS #5/7.\n\t         *\n\t         * @param {WordArray} data The data to pad.\n\t         * @param {number} blockSize The multiple that the data should be padded to.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     CryptoJS.pad.Pkcs7.pad(wordArray, 4);\n\t         */\n\t        pad: function (data, blockSize) {\n\t            // Shortcut\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count padding bytes\n\t            var nPaddingBytes = blockSizeBytes - data.sigBytes % blockSizeBytes;\n\n\t            // Create padding word\n\t            var paddingWord = (nPaddingBytes << 24) | (nPaddingBytes << 16) | (nPaddingBytes << 8) | nPaddingBytes;\n\n\t            // Create padding\n\t            var paddingWords = [];\n\t            for (var i = 0; i < nPaddingBytes; i += 4) {\n\t                paddingWords.push(paddingWord);\n\t            }\n\t            var padding = WordArray.create(paddingWords, nPaddingBytes);\n\n\t            // Add padding\n\t            data.concat(padding);\n\t        },\n\n\t        /**\n\t         * Unpads data that had been padded using the algorithm defined in PKCS #5/7.\n\t         *\n\t         * @param {WordArray} data The data to unpad.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     CryptoJS.pad.Pkcs7.unpad(wordArray);\n\t         */\n\t        unpad: function (data) {\n\t            // Get number of padding bytes from last byte\n\t            var nPaddingBytes = data.words[(data.sigBytes - 1) >>> 2] & 0xff;\n\n\t            // Remove padding\n\t            data.sigBytes -= nPaddingBytes;\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract base block cipher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this cipher operates on. Default: 4 (128 bits)\n\t     */\n\t    var BlockCipher = C_lib.BlockCipher = Cipher.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {Mode} mode The block mode to use. Default: CBC\n\t         * @property {Padding} padding The padding strategy to use. Default: Pkcs7\n\t         */\n\t        cfg: Cipher.cfg.extend({\n\t            mode: CBC,\n\t            padding: Pkcs7\n\t        }),\n\n\t        reset: function () {\n\t            // Reset cipher\n\t            Cipher.reset.call(this);\n\n\t            // Shortcuts\n\t            var cfg = this.cfg;\n\t            var iv = cfg.iv;\n\t            var mode = cfg.mode;\n\n\t            // Reset block mode\n\t            if (this._xformMode == this._ENC_XFORM_MODE) {\n\t                var modeCreator = mode.createEncryptor;\n\t            } else /* if (this._xformMode == this._DEC_XFORM_MODE) */ {\n\t                var modeCreator = mode.createDecryptor;\n\t                // Keep at least one block in the buffer for unpadding\n\t                this._minBufferSize = 1;\n\t            }\n\n\t            if (this._mode && this._mode.__creator == modeCreator) {\n\t                this._mode.init(this, iv && iv.words);\n\t            } else {\n\t                this._mode = modeCreator.call(mode, this, iv && iv.words);\n\t                this._mode.__creator = modeCreator;\n\t            }\n\t        },\n\n\t        _doProcessBlock: function (words, offset) {\n\t            this._mode.processBlock(words, offset);\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcut\n\t            var padding = this.cfg.padding;\n\n\t            // Finalize\n\t            if (this._xformMode == this._ENC_XFORM_MODE) {\n\t                // Pad data\n\t                padding.pad(this._data, this.blockSize);\n\n\t                // Process final blocks\n\t                var finalProcessedBlocks = this._process(!!'flush');\n\t            } else /* if (this._xformMode == this._DEC_XFORM_MODE) */ {\n\t                // Process final blocks\n\t                var finalProcessedBlocks = this._process(!!'flush');\n\n\t                // Unpad data\n\t                padding.unpad(finalProcessedBlocks);\n\t            }\n\n\t            return finalProcessedBlocks;\n\t        },\n\n\t        blockSize: 128/32\n\t    });\n\n\t    /**\n\t     * A collection of cipher parameters.\n\t     *\n\t     * @property {WordArray} ciphertext The raw ciphertext.\n\t     * @property {WordArray} key The key to this ciphertext.\n\t     * @property {WordArray} iv The IV used in the ciphering operation.\n\t     * @property {WordArray} salt The salt used with a key derivation function.\n\t     * @property {Cipher} algorithm The cipher algorithm.\n\t     * @property {Mode} mode The block mode used in the ciphering operation.\n\t     * @property {Padding} padding The padding scheme used in the ciphering operation.\n\t     * @property {number} blockSize The block size of the cipher.\n\t     * @property {Format} formatter The default formatting strategy to convert this cipher params object to a string.\n\t     */\n\t    var CipherParams = C_lib.CipherParams = Base.extend({\n\t        /**\n\t         * Initializes a newly created cipher params object.\n\t         *\n\t         * @param {Object} cipherParams An object with any of the possible cipher parameters.\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipherParams = CryptoJS.lib.CipherParams.create({\n\t         *         ciphertext: ciphertextWordArray,\n\t         *         key: keyWordArray,\n\t         *         iv: ivWordArray,\n\t         *         salt: saltWordArray,\n\t         *         algorithm: CryptoJS.algo.AES,\n\t         *         mode: CryptoJS.mode.CBC,\n\t         *         padding: CryptoJS.pad.PKCS7,\n\t         *         blockSize: 4,\n\t         *         formatter: CryptoJS.format.OpenSSL\n\t         *     });\n\t         */\n\t        init: function (cipherParams) {\n\t            this.mixIn(cipherParams);\n\t        },\n\n\t        /**\n\t         * Converts this cipher params object to a string.\n\t         *\n\t         * @param {Format} formatter (Optional) The formatting strategy to use.\n\t         *\n\t         * @return {string} The stringified cipher params.\n\t         *\n\t         * @throws Error If neither the formatter nor the default formatter is set.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = cipherParams + '';\n\t         *     var string = cipherParams.toString();\n\t         *     var string = cipherParams.toString(CryptoJS.format.OpenSSL);\n\t         */\n\t        toString: function (formatter) {\n\t            return (formatter || this.formatter).stringify(this);\n\t        }\n\t    });\n\n\t    /**\n\t     * Format namespace.\n\t     */\n\t    var C_format = C.format = {};\n\n\t    /**\n\t     * OpenSSL formatting strategy.\n\t     */\n\t    var OpenSSLFormatter = C_format.OpenSSL = {\n\t        /**\n\t         * Converts a cipher params object to an OpenSSL-compatible string.\n\t         *\n\t         * @param {CipherParams} cipherParams The cipher params object.\n\t         *\n\t         * @return {string} The OpenSSL-compatible string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var openSSLString = CryptoJS.format.OpenSSL.stringify(cipherParams);\n\t         */\n\t        stringify: function (cipherParams) {\n\t            // Shortcuts\n\t            var ciphertext = cipherParams.ciphertext;\n\t            var salt = cipherParams.salt;\n\n\t            // Format\n\t            if (salt) {\n\t                var wordArray = WordArray.create([0x53616c74, 0x65645f5f]).concat(salt).concat(ciphertext);\n\t            } else {\n\t                var wordArray = ciphertext;\n\t            }\n\n\t            return wordArray.toString(Base64);\n\t        },\n\n\t        /**\n\t         * Converts an OpenSSL-compatible string to a cipher params object.\n\t         *\n\t         * @param {string} openSSLStr The OpenSSL-compatible string.\n\t         *\n\t         * @return {CipherParams} The cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipherParams = CryptoJS.format.OpenSSL.parse(openSSLString);\n\t         */\n\t        parse: function (openSSLStr) {\n\t            // Parse base64\n\t            var ciphertext = Base64.parse(openSSLStr);\n\n\t            // Shortcut\n\t            var ciphertextWords = ciphertext.words;\n\n\t            // Test for salt\n\t            if (ciphertextWords[0] == 0x53616c74 && ciphertextWords[1] == 0x65645f5f) {\n\t                // Extract salt\n\t                var salt = WordArray.create(ciphertextWords.slice(2, 4));\n\n\t                // Remove salt from ciphertext\n\t                ciphertextWords.splice(0, 4);\n\t                ciphertext.sigBytes -= 16;\n\t            }\n\n\t            return CipherParams.create({ ciphertext: ciphertext, salt: salt });\n\t        }\n\t    };\n\n\t    /**\n\t     * A cipher wrapper that returns ciphertext as a serializable cipher params object.\n\t     */\n\t    var SerializableCipher = C_lib.SerializableCipher = Base.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {Formatter} format The formatting strategy to convert cipher param objects to and from a string. Default: OpenSSL\n\t         */\n\t        cfg: Base.extend({\n\t            format: OpenSSLFormatter\n\t        }),\n\n\t        /**\n\t         * Encrypts a message.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {WordArray|string} message The message to encrypt.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {CipherParams} A cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key);\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key, { iv: iv });\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         */\n\t        encrypt: function (cipher, message, key, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Encrypt\n\t            var encryptor = cipher.createEncryptor(key, cfg);\n\t            var ciphertext = encryptor.finalize(message);\n\n\t            // Shortcut\n\t            var cipherCfg = encryptor.cfg;\n\n\t            // Create and return serializable cipher params\n\t            return CipherParams.create({\n\t                ciphertext: ciphertext,\n\t                key: key,\n\t                iv: cipherCfg.iv,\n\t                algorithm: cipher,\n\t                mode: cipherCfg.mode,\n\t                padding: cipherCfg.padding,\n\t                blockSize: cipher.blockSize,\n\t                formatter: cfg.format\n\t            });\n\t        },\n\n\t        /**\n\t         * Decrypts serialized ciphertext.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {CipherParams|string} ciphertext The ciphertext to decrypt.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {WordArray} The plaintext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var plaintext = CryptoJS.lib.SerializableCipher.decrypt(CryptoJS.algo.AES, formattedCiphertext, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         *     var plaintext = CryptoJS.lib.SerializableCipher.decrypt(CryptoJS.algo.AES, ciphertextParams, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         */\n\t        decrypt: function (cipher, ciphertext, key, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Convert string to CipherParams\n\t            ciphertext = this._parse(ciphertext, cfg.format);\n\n\t            // Decrypt\n\t            var plaintext = cipher.createDecryptor(key, cfg).finalize(ciphertext.ciphertext);\n\n\t            return plaintext;\n\t        },\n\n\t        /**\n\t         * Converts serialized ciphertext to CipherParams,\n\t         * else assumed CipherParams already and returns ciphertext unchanged.\n\t         *\n\t         * @param {CipherParams|string} ciphertext The ciphertext.\n\t         * @param {Formatter} format The formatting strategy to use to parse serialized ciphertext.\n\t         *\n\t         * @return {CipherParams} The unserialized ciphertext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher._parse(ciphertextStringOrParams, format);\n\t         */\n\t        _parse: function (ciphertext, format) {\n\t            if (typeof ciphertext == 'string') {\n\t                return format.parse(ciphertext, this);\n\t            } else {\n\t                return ciphertext;\n\t            }\n\t        }\n\t    });\n\n\t    /**\n\t     * Key derivation function namespace.\n\t     */\n\t    var C_kdf = C.kdf = {};\n\n\t    /**\n\t     * OpenSSL key derivation function.\n\t     */\n\t    var OpenSSLKdf = C_kdf.OpenSSL = {\n\t        /**\n\t         * Derives a key and IV from a password.\n\t         *\n\t         * @param {string} password The password to derive from.\n\t         * @param {number} keySize The size in words of the key to generate.\n\t         * @param {number} ivSize The size in words of the IV to generate.\n\t         * @param {WordArray|string} salt (Optional) A 64-bit salt to use. If omitted, a salt will be generated randomly.\n\t         *\n\t         * @return {CipherParams} A cipher params object with the key, IV, and salt.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var derivedParams = CryptoJS.kdf.OpenSSL.execute('Password', 256/32, 128/32);\n\t         *     var derivedParams = CryptoJS.kdf.OpenSSL.execute('Password', 256/32, 128/32, 'saltsalt');\n\t         */\n\t        execute: function (password, keySize, ivSize, salt) {\n\t            // Generate random salt\n\t            if (!salt) {\n\t                salt = WordArray.random(64/8);\n\t            }\n\n\t            // Derive key and IV\n\t            var key = EvpKDF.create({ keySize: keySize + ivSize }).compute(password, salt);\n\n\t            // Separate key and IV\n\t            var iv = WordArray.create(key.words.slice(keySize), ivSize * 4);\n\t            key.sigBytes = keySize * 4;\n\n\t            // Return params\n\t            return CipherParams.create({ key: key, iv: iv, salt: salt });\n\t        }\n\t    };\n\n\t    /**\n\t     * A serializable cipher wrapper that derives the key from a password,\n\t     * and returns ciphertext as a serializable cipher params object.\n\t     */\n\t    var PasswordBasedCipher = C_lib.PasswordBasedCipher = SerializableCipher.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {KDF} kdf The key derivation function to use to generate a key and IV from a password. Default: OpenSSL\n\t         */\n\t        cfg: SerializableCipher.cfg.extend({\n\t            kdf: OpenSSLKdf\n\t        }),\n\n\t        /**\n\t         * Encrypts a message using a password.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {WordArray|string} message The message to encrypt.\n\t         * @param {string} password The password.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {CipherParams} A cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.PasswordBasedCipher.encrypt(CryptoJS.algo.AES, message, 'password');\n\t         *     var ciphertextParams = CryptoJS.lib.PasswordBasedCipher.encrypt(CryptoJS.algo.AES, message, 'password', { format: CryptoJS.format.OpenSSL });\n\t         */\n\t        encrypt: function (cipher, message, password, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Derive key and other params\n\t            var derivedParams = cfg.kdf.execute(password, cipher.keySize, cipher.ivSize);\n\n\t            // Add IV to config\n\t            cfg.iv = derivedParams.iv;\n\n\t            // Encrypt\n\t            var ciphertext = SerializableCipher.encrypt.call(this, cipher, message, derivedParams.key, cfg);\n\n\t            // Mix in derived params\n\t            ciphertext.mixIn(derivedParams);\n\n\t            return ciphertext;\n\t        },\n\n\t        /**\n\t         * Decrypts serialized ciphertext using a password.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {CipherParams|string} ciphertext The ciphertext to decrypt.\n\t         * @param {string} password The password.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {WordArray} The plaintext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var plaintext = CryptoJS.lib.PasswordBasedCipher.decrypt(CryptoJS.algo.AES, formattedCiphertext, 'password', { format: CryptoJS.format.OpenSSL });\n\t         *     var plaintext = CryptoJS.lib.PasswordBasedCipher.decrypt(CryptoJS.algo.AES, ciphertextParams, 'password', { format: CryptoJS.format.OpenSSL });\n\t         */\n\t        decrypt: function (cipher, ciphertext, password, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Convert string to CipherParams\n\t            ciphertext = this._parse(ciphertext, cfg.format);\n\n\t            // Derive key and other params\n\t            var derivedParams = cfg.kdf.execute(password, cipher.keySize, cipher.ivSize, ciphertext.salt);\n\n\t            // Add IV to config\n\t            cfg.iv = derivedParams.iv;\n\n\t            // Decrypt\n\t            var plaintext = SerializableCipher.decrypt.call(this, cipher, ciphertext, derivedParams.key, cfg);\n\n\t            return plaintext;\n\t        }\n\t    });\n\t}());\n\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./enc-base64\"), require(\"./md5\"), require(\"./evpkdf\"), require(\"./cipher-core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./enc-base64\", \"./md5\", \"./evpkdf\", \"./cipher-core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var BlockCipher = C_lib.BlockCipher;\n\t    var C_algo = C.algo;\n\n\t    // Lookup tables\n\t    var SBOX = [];\n\t    var INV_SBOX = [];\n\t    var SUB_MIX_0 = [];\n\t    var SUB_MIX_1 = [];\n\t    var SUB_MIX_2 = [];\n\t    var SUB_MIX_3 = [];\n\t    var INV_SUB_MIX_0 = [];\n\t    var INV_SUB_MIX_1 = [];\n\t    var INV_SUB_MIX_2 = [];\n\t    var INV_SUB_MIX_3 = [];\n\n\t    // Compute lookup tables\n\t    (function () {\n\t        // Compute double table\n\t        var d = [];\n\t        for (var i = 0; i < 256; i++) {\n\t            if (i < 128) {\n\t                d[i] = i << 1;\n\t            } else {\n\t                d[i] = (i << 1) ^ 0x11b;\n\t            }\n\t        }\n\n\t        // Walk GF(2^8)\n\t        var x = 0;\n\t        var xi = 0;\n\t        for (var i = 0; i < 256; i++) {\n\t            // Compute sbox\n\t            var sx = xi ^ (xi << 1) ^ (xi << 2) ^ (xi << 3) ^ (xi << 4);\n\t            sx = (sx >>> 8) ^ (sx & 0xff) ^ 0x63;\n\t            SBOX[x] = sx;\n\t            INV_SBOX[sx] = x;\n\n\t            // Compute multiplication\n\t            var x2 = d[x];\n\t            var x4 = d[x2];\n\t            var x8 = d[x4];\n\n\t            // Compute sub bytes, mix columns tables\n\t            var t = (d[sx] * 0x101) ^ (sx * 0x1010100);\n\t            SUB_MIX_0[x] = (t << 24) | (t >>> 8);\n\t            SUB_MIX_1[x] = (t << 16) | (t >>> 16);\n\t            SUB_MIX_2[x] = (t << 8)  | (t >>> 24);\n\t            SUB_MIX_3[x] = t;\n\n\t            // Compute inv sub bytes, inv mix columns tables\n\t            var t = (x8 * 0x1010101) ^ (x4 * 0x10001) ^ (x2 * 0x101) ^ (x * 0x1010100);\n\t            INV_SUB_MIX_0[sx] = (t << 24) | (t >>> 8);\n\t            INV_SUB_MIX_1[sx] = (t << 16) | (t >>> 16);\n\t            INV_SUB_MIX_2[sx] = (t << 8)  | (t >>> 24);\n\t            INV_SUB_MIX_3[sx] = t;\n\n\t            // Compute next counter\n\t            if (!x) {\n\t                x = xi = 1;\n\t            } else {\n\t                x = x2 ^ d[d[d[x8 ^ x2]]];\n\t                xi ^= d[d[xi]];\n\t            }\n\t        }\n\t    }());\n\n\t    // Precomputed Rcon lookup\n\t    var RCON = [0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36];\n\n\t    /**\n\t     * AES block cipher algorithm.\n\t     */\n\t    var AES = C_algo.AES = BlockCipher.extend({\n\t        _doReset: function () {\n\t            // Skip reset of nRounds has been set before and key did not change\n\t            if (this._nRounds && this._keyPriorReset === this._key) {\n\t                return;\n\t            }\n\n\t            // Shortcuts\n\t            var key = this._keyPriorReset = this._key;\n\t            var keyWords = key.words;\n\t            var keySize = key.sigBytes / 4;\n\n\t            // Compute number of rounds\n\t            var nRounds = this._nRounds = keySize + 6;\n\n\t            // Compute number of key schedule rows\n\t            var ksRows = (nRounds + 1) * 4;\n\n\t            // Compute key schedule\n\t            var keySchedule = this._keySchedule = [];\n\t            for (var ksRow = 0; ksRow < ksRows; ksRow++) {\n\t                if (ksRow < keySize) {\n\t                    keySchedule[ksRow] = keyWords[ksRow];\n\t                } else {\n\t                    var t = keySchedule[ksRow - 1];\n\n\t                    if (!(ksRow % keySize)) {\n\t                        // Rot word\n\t                        t = (t << 8) | (t >>> 24);\n\n\t                        // Sub word\n\t                        t = (SBOX[t >>> 24] << 24) | (SBOX[(t >>> 16) & 0xff] << 16) | (SBOX[(t >>> 8) & 0xff] << 8) | SBOX[t & 0xff];\n\n\t                        // Mix Rcon\n\t                        t ^= RCON[(ksRow / keySize) | 0] << 24;\n\t                    } else if (keySize > 6 && ksRow % keySize == 4) {\n\t                        // Sub word\n\t                        t = (SBOX[t >>> 24] << 24) | (SBOX[(t >>> 16) & 0xff] << 16) | (SBOX[(t >>> 8) & 0xff] << 8) | SBOX[t & 0xff];\n\t                    }\n\n\t                    keySchedule[ksRow] = keySchedule[ksRow - keySize] ^ t;\n\t                }\n\t            }\n\n\t            // Compute inv key schedule\n\t            var invKeySchedule = this._invKeySchedule = [];\n\t            for (var invKsRow = 0; invKsRow < ksRows; invKsRow++) {\n\t                var ksRow = ksRows - invKsRow;\n\n\t                if (invKsRow % 4) {\n\t                    var t = keySchedule[ksRow];\n\t                } else {\n\t                    var t = keySchedule[ksRow - 4];\n\t                }\n\n\t                if (invKsRow < 4 || ksRow <= 4) {\n\t                    invKeySchedule[invKsRow] = t;\n\t                } else {\n\t                    invKeySchedule[invKsRow] = INV_SUB_MIX_0[SBOX[t >>> 24]] ^ INV_SUB_MIX_1[SBOX[(t >>> 16) & 0xff]] ^\n\t                                               INV_SUB_MIX_2[SBOX[(t >>> 8) & 0xff]] ^ INV_SUB_MIX_3[SBOX[t & 0xff]];\n\t                }\n\t            }\n\t        },\n\n\t        encryptBlock: function (M, offset) {\n\t            this._doCryptBlock(M, offset, this._keySchedule, SUB_MIX_0, SUB_MIX_1, SUB_MIX_2, SUB_MIX_3, SBOX);\n\t        },\n\n\t        decryptBlock: function (M, offset) {\n\t            // Swap 2nd and 4th rows\n\t            var t = M[offset + 1];\n\t            M[offset + 1] = M[offset + 3];\n\t            M[offset + 3] = t;\n\n\t            this._doCryptBlock(M, offset, this._invKeySchedule, INV_SUB_MIX_0, INV_SUB_MIX_1, INV_SUB_MIX_2, INV_SUB_MIX_3, INV_SBOX);\n\n\t            // Inv swap 2nd and 4th rows\n\t            var t = M[offset + 1];\n\t            M[offset + 1] = M[offset + 3];\n\t            M[offset + 3] = t;\n\t        },\n\n\t        _doCryptBlock: function (M, offset, keySchedule, SUB_MIX_0, SUB_MIX_1, SUB_MIX_2, SUB_MIX_3, SBOX) {\n\t            // Shortcut\n\t            var nRounds = this._nRounds;\n\n\t            // Get input, add round key\n\t            var s0 = M[offset]     ^ keySchedule[0];\n\t            var s1 = M[offset + 1] ^ keySchedule[1];\n\t            var s2 = M[offset + 2] ^ keySchedule[2];\n\t            var s3 = M[offset + 3] ^ keySchedule[3];\n\n\t            // Key schedule row counter\n\t            var ksRow = 4;\n\n\t            // Rounds\n\t            for (var round = 1; round < nRounds; round++) {\n\t                // Shift rows, sub bytes, mix columns, add round key\n\t                var t0 = SUB_MIX_0[s0 >>> 24] ^ SUB_MIX_1[(s1 >>> 16) & 0xff] ^ SUB_MIX_2[(s2 >>> 8) & 0xff] ^ SUB_MIX_3[s3 & 0xff] ^ keySchedule[ksRow++];\n\t                var t1 = SUB_MIX_0[s1 >>> 24] ^ SUB_MIX_1[(s2 >>> 16) & 0xff] ^ SUB_MIX_2[(s3 >>> 8) & 0xff] ^ SUB_MIX_3[s0 & 0xff] ^ keySchedule[ksRow++];\n\t                var t2 = SUB_MIX_0[s2 >>> 24] ^ SUB_MIX_1[(s3 >>> 16) & 0xff] ^ SUB_MIX_2[(s0 >>> 8) & 0xff] ^ SUB_MIX_3[s1 & 0xff] ^ keySchedule[ksRow++];\n\t                var t3 = SUB_MIX_0[s3 >>> 24] ^ SUB_MIX_1[(s0 >>> 16) & 0xff] ^ SUB_MIX_2[(s1 >>> 8) & 0xff] ^ SUB_MIX_3[s2 & 0xff] ^ keySchedule[ksRow++];\n\n\t                // Update state\n\t                s0 = t0;\n\t                s1 = t1;\n\t                s2 = t2;\n\t                s3 = t3;\n\t            }\n\n\t            // Shift rows, sub bytes, add round key\n\t            var t0 = ((SBOX[s0 >>> 24] << 24) | (SBOX[(s1 >>> 16) & 0xff] << 16) | (SBOX[(s2 >>> 8) & 0xff] << 8) | SBOX[s3 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t1 = ((SBOX[s1 >>> 24] << 24) | (SBOX[(s2 >>> 16) & 0xff] << 16) | (SBOX[(s3 >>> 8) & 0xff] << 8) | SBOX[s0 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t2 = ((SBOX[s2 >>> 24] << 24) | (SBOX[(s3 >>> 16) & 0xff] << 16) | (SBOX[(s0 >>> 8) & 0xff] << 8) | SBOX[s1 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t3 = ((SBOX[s3 >>> 24] << 24) | (SBOX[(s0 >>> 16) & 0xff] << 16) | (SBOX[(s1 >>> 8) & 0xff] << 8) | SBOX[s2 & 0xff]) ^ keySchedule[ksRow++];\n\n\t            // Set output\n\t            M[offset]     = t0;\n\t            M[offset + 1] = t1;\n\t            M[offset + 2] = t2;\n\t            M[offset + 3] = t3;\n\t        },\n\n\t        keySize: 256/32\n\t    });\n\n\t    /**\n\t     * Shortcut functions to the cipher's object interface.\n\t     *\n\t     * @example\n\t     *\n\t     *     var ciphertext = CryptoJS.AES.encrypt(message, key, cfg);\n\t     *     var plaintext  = CryptoJS.AES.decrypt(ciphertext, key, cfg);\n\t     */\n\t    C.AES = BlockCipher._createHelper(AES);\n\t}());\n\n\n\treturn CryptoJS.AES;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.enc.Utf8;\n\n}));","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('cookie');\n\n/**\n * Set or get cookie `name` with `value` and `options` object.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {Mixed}\n * @api public\n */\n\nmodule.exports = function(name, value, options){\n  switch (arguments.length) {\n    case 3:\n    case 2:\n      return set(name, value, options);\n    case 1:\n      return get(name);\n    default:\n      return all();\n  }\n};\n\n/**\n * Set cookie `name` to `value`.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @api private\n */\n\nfunction set(name, value, options) {\n  options = options || {};\n  var str = encode(name) + '=' + encode(value);\n\n  if (null == value) options.maxage = -1;\n\n  if (options.maxage) {\n    options.expires = new Date(+new Date + options.maxage);\n  }\n\n  if (options.path) str += '; path=' + options.path;\n  if (options.domain) str += '; domain=' + options.domain;\n  if (options.expires) str += '; expires=' + options.expires.toUTCString();\n  if (options.samesite) str += '; samesite=' + options.samesite;\n  if (options.secure) str += '; secure';\n\n  document.cookie = str;\n}\n\n/**\n * Return all cookies.\n *\n * @return {Object}\n * @api private\n */\n\nfunction all() {\n  var str;\n  try {\n    str = document.cookie;\n  } catch (err) {\n    if (typeof console !== 'undefined' && typeof console.error === 'function') {\n      console.error(err.stack || err);\n    }\n    return {};\n  }\n  return parse(str);\n}\n\n/**\n * Get cookie `name`.\n *\n * @param {String} name\n * @return {String}\n * @api private\n */\n\nfunction get(name) {\n  return all()[name];\n}\n\n/**\n * Parse cookie `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parse(str) {\n  var obj = {};\n  var pairs = str.split(/ *; */);\n  var pair;\n  if ('' == pairs[0]) return obj;\n  for (var i = 0; i < pairs.length; ++i) {\n    pair = pairs[i].split('=');\n    obj[decode(pair[0])] = decode(pair[1]);\n  }\n  return obj;\n}\n\n/**\n * Encode.\n */\n\nfunction encode(value){\n  try {\n    return encodeURIComponent(value);\n  } catch (e) {\n    debug('error `encode(%o)` - %o', value, e)\n  }\n}\n\n/**\n * Decode.\n */\n\nfunction decode(value) {\n  try {\n    return decodeURIComponent(value);\n  } catch (e) {\n    debug('error `decode(%o)` - %o', value, e)\n  }\n}\n","'use strict';\n\nvar max = Math.max;\n\n/**\n * Produce a new array composed of all but the first `n` elements of an input `collection`.\n *\n * @name drop\n * @api public\n * @param {number} count The number of elements to drop.\n * @param {Array} collection The collection to iterate over.\n * @return {Array} A new array containing all but the first element from `collection`.\n * @example\n * drop(0, [1, 2, 3]); // => [1, 2, 3]\n * drop(1, [1, 2, 3]); // => [2, 3]\n * drop(2, [1, 2, 3]); // => [3]\n * drop(3, [1, 2, 3]); // => []\n * drop(4, [1, 2, 3]); // => []\n */\nvar drop = function drop(count, collection) {\n  var length = collection ? collection.length : 0;\n\n  if (!length) {\n    return [];\n  }\n\n  // Preallocating an array *significantly* boosts performance when dealing with\n  // `arguments` objects on v8. For a summary, see:\n  // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n  var toDrop = max(Number(count) || 0, 0);\n  var resultsLength = max(length - toDrop, 0);\n  var results = new Array(resultsLength);\n\n  for (var i = 0; i < resultsLength; i += 1) {\n    results[i] = collection[i + toDrop];\n  }\n\n  return results;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = drop;\n","'use strict';\n\nvar max = Math.max;\n\n/**\n * Produce a new array by passing each value in the input `collection` through a transformative\n * `iterator` function. The `iterator` function is passed three arguments:\n * `(value, index, collection)`.\n *\n * @name rest\n * @api public\n * @param {Array} collection The collection to iterate over.\n * @return {Array} A new array containing all but the first element from `collection`.\n * @example\n * rest([1, 2, 3]); // => [2, 3]\n */\nvar rest = function rest(collection) {\n  if (collection == null || !collection.length) {\n    return [];\n  }\n\n  // Preallocating an array *significantly* boosts performance when dealing with\n  // `arguments` objects on v8. For a summary, see:\n  // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n  var results = new Array(max(collection.length - 2, 0));\n\n  for (var i = 1; i < collection.length; i += 1) {\n    results[i - 1] = collection[i];\n  }\n\n  return results;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = rest;\n","'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar drop = require('@ndhoule/drop');\nvar rest = require('@ndhoule/rest');\n\nvar has = Object.prototype.hasOwnProperty;\nvar objToString = Object.prototype.toString;\n\n/**\n * Returns `true` if a value is an object, otherwise `false`.\n *\n * @name isObject\n * @api private\n * @param {*} val The value to test.\n * @return {boolean}\n */\n// TODO: Move to a library\nvar isObject = function isObject(value) {\n  return Boolean(value) && typeof value === 'object';\n};\n\n/**\n * Returns `true` if a value is a plain object, otherwise `false`.\n *\n * @name isPlainObject\n * @api private\n * @param {*} val The value to test.\n * @return {boolean}\n */\n// TODO: Move to a library\nvar isPlainObject = function isPlainObject(value) {\n  return Boolean(value) && objToString.call(value) === '[object Object]';\n};\n\n/**\n * Assigns a key-value pair to a target object when the value assigned is owned,\n * and where target[key] is undefined.\n *\n * @name shallowCombiner\n * @api private\n * @param {Object} target\n * @param {Object} source\n * @param {*} value\n * @param {string} key\n */\nvar shallowCombiner = function shallowCombiner(target, source, value, key) {\n  if (has.call(source, key) && target[key] === undefined) {\n    target[key] = value;\n  }\n  return source;\n};\n\n/**\n * Assigns a key-value pair to a target object when the value assigned is owned,\n * and where target[key] is undefined; also merges objects recursively.\n *\n * @name deepCombiner\n * @api private\n * @param {Object} target\n * @param {Object} source\n * @param {*} value\n * @param {string} key\n * @return {Object}\n */\nvar deepCombiner = function(target, source, value, key) {\n  if (has.call(source, key)) {\n    if (isPlainObject(target[key]) && isPlainObject(value)) {\n        target[key] = defaultsDeep(target[key], value);\n    } else if (target[key] === undefined) {\n        target[key] = value;\n    }\n  }\n\n  return source;\n};\n\n/**\n * TODO: Document\n *\n * @name defaultsWith\n * @api private\n * @param {Function} combiner\n * @param {Object} target\n * @param {...Object} sources\n * @return {Object} Return the input `target`.\n */\nvar defaultsWith = function(combiner, target /*, ...sources */) {\n  if (!isObject(target)) {\n    return target;\n  }\n\n  combiner = combiner || shallowCombiner;\n  var sources = drop(2, arguments);\n\n  for (var i = 0; i < sources.length; i += 1) {\n    for (var key in sources[i]) {\n      combiner(target, sources[i], sources[i][key], key);\n    }\n  }\n\n  return target;\n};\n\n/**\n * Copies owned, enumerable properties from a source object(s) to a target\n * object when the value of that property on the source object is `undefined`.\n * Recurses on objects.\n *\n * @name defaultsDeep\n * @api public\n * @param {Object} target\n * @param {...Object} sources\n * @return {Object} The input `target`.\n */\nvar defaultsDeep = function defaultsDeep(target /*, sources */) {\n  // TODO: Replace with `partial` call?\n  return defaultsWith.apply(null, [deepCombiner, target].concat(rest(arguments)));\n};\n\n/**\n * Copies owned, enumerable properties from a source object(s) to a target\n * object when the value of that property on the source object is `undefined`.\n *\n * @name defaults\n * @api public\n * @param {Object} target\n * @param {...Object} sources\n * @return {Object}\n * @example\n * var a = { a: 1 };\n * var b = { a: 2, b: 2 };\n *\n * defaults(a, b);\n * console.log(a); //=> { a: 1, b: 2 }\n */\nvar defaults = function(target /*, ...sources */) {\n  // TODO: Replace with `partial` call?\n  return defaultsWith.apply(null, [null, target].concat(rest(arguments)));\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = defaults;\nmodule.exports.deep = defaultsDeep;\n","\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('cookie');\n\n/**\n * Set or get cookie `name` with `value` and `options` object.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {Mixed}\n * @api public\n */\n\nmodule.exports = function(name, value, options){\n  switch (arguments.length) {\n    case 3:\n    case 2:\n      return set(name, value, options);\n    case 1:\n      return get(name);\n    default:\n      return all();\n  }\n};\n\n/**\n * Set cookie `name` to `value`.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @api private\n */\n\nfunction set(name, value, options) {\n  options = options || {};\n  var str = encode(name) + '=' + encode(value);\n\n  if (null == value) options.maxage = -1;\n\n  if (options.maxage) {\n    options.expires = new Date(+new Date + options.maxage);\n  }\n\n  if (options.path) str += '; path=' + options.path;\n  if (options.domain) str += '; domain=' + options.domain;\n  if (options.expires) str += '; expires=' + options.expires.toUTCString();\n  if (options.secure) str += '; secure';\n\n  document.cookie = str;\n}\n\n/**\n * Return all cookies.\n *\n * @return {Object}\n * @api private\n */\n\nfunction all() {\n  var str;\n  try {\n    str = document.cookie;\n  } catch (err) {\n    if (typeof console !== 'undefined' && typeof console.error === 'function') {\n      console.error(err.stack || err);\n    }\n    return {};\n  }\n  return parse(str);\n}\n\n/**\n * Get cookie `name`.\n *\n * @param {String} name\n * @return {String}\n * @api private\n */\n\nfunction get(name) {\n  return all()[name];\n}\n\n/**\n * Parse cookie `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parse(str) {\n  var obj = {};\n  var pairs = str.split(/ *; */);\n  var pair;\n  if ('' == pairs[0]) return obj;\n  for (var i = 0; i < pairs.length; ++i) {\n    pair = pairs[i].split('=');\n    obj[decode(pair[0])] = decode(pair[1]);\n  }\n  return obj;\n}\n\n/**\n * Encode.\n */\n\nfunction encode(value){\n  try {\n    return encodeURIComponent(value);\n  } catch (e) {\n    debug('error `encode(%o)` - %o', value, e)\n  }\n}\n\n/**\n * Decode.\n */\n\nfunction decode(value) {\n  try {\n    return decodeURIComponent(value);\n  } catch (e) {\n    debug('error `decode(%o)` - %o', value, e)\n  }\n}\n","'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar cookie = require('component-cookie');\n\n/**\n * Get the top domain.\n *\n * The function constructs the levels of domain and attempts to set a global\n * cookie on each one when it succeeds it returns the top level domain.\n *\n * The method returns an empty string when the hostname is an ip or `localhost`.\n *\n * Example levels:\n *\n *      domain.levels('http://www.google.co.uk');\n *      // => [\"co.uk\", \"google.co.uk\", \"www.google.co.uk\"]\n *\n * Example:\n *\n *      domain('http://localhost:3000/baz');\n *      // => ''\n *      domain('http://dev:3000/baz');\n *      // => ''\n *      domain('http://127.0.0.1:3000/baz');\n *      // => ''\n *      domain('http://segment.io/baz');\n *      // => 'segment.io'\n *\n * @param {string} url\n * @return {string}\n * @api public\n */\nfunction domain(url) {\n  var cookie = exports.cookie;\n  var levels = exports.levels(url);\n\n  // Lookup the real top level one.\n  for (var i = 0; i < levels.length; ++i) {\n    var cname = '__tld__';\n    var domain = levels[i];\n    var opts = { domain: '.' + domain };\n\n    cookie(cname, 1, opts);\n    if (cookie(cname)) {\n      cookie(cname, null, opts);\n      return domain;\n    }\n  }\n\n  return '';\n}\n\nfunction legacyGetHostname(href) {\n  const l = document.createElement(\"a\");\n  l.href = href;\n  return l.hostname;\n};\n\n/**\n * Levels returns all levels of the given url.\n *\n * @param {string} url\n * @return {Array}\n * @api public\n */\ndomain.levels = function(url) {\n  var host = typeof window.URL !== 'function' ? legacyGetHostname(url) : new URL(url).hostname;\n  var parts = host.split('.');\n  var last = parts[parts.length - 1];\n  var levels = [];\n\n  // Ip address.\n  if (parts.length === 4 && last === parseInt(last, 10)) {\n    return levels;\n  }\n\n  // Localhost.\n  if (parts.length <= 1) {\n    return levels;\n  }\n\n  // Create levels.\n  for (var i = parts.length - 2; i >= 0; --i) {\n    levels.push(parts.slice(i).join('.'));\n  }\n\n  return levels;\n};\n\n/**\n * Expose cookie on domain.\n */\ndomain.cookie = cookie;\n\n/*\n * Exports.\n */\n\nexports = module.exports = domain;\n","import cookie from 'rudder-component-cookie';\nimport defaults from '@ndhoule/defaults';\nimport topDomain from '@segment/top-domain';\nimport * as R from 'ramda';\nimport logger from '../logUtil';\n\n/**\n * An object utility to persist values in cookies\n */\nclass CookieLocal {\n  constructor(options) {\n    this.cOpts = {};\n    this.options(options);\n    this.isSupportAvailable = this.checkSupportAvailability();\n  }\n\n  /**\n   *\n   * @param {*} inOpts\n   */\n  options(inOpts = {}) {\n    if (arguments.length === 0) return this.cOpts;\n\n    let domain = `.${topDomain(window.location.href)}`;\n    if (domain === '.') domain = null;\n\n    // the default maxage and path\n    this.cOpts = defaults(inOpts, {\n      maxage: 31536000000,\n      path: '/',\n      domain,\n      samesite: 'Lax',\n    });\n\n    return this.cOpts;\n  }\n\n  /**\n   *\n   * @param {*} key\n   * @param {*} value\n   */\n  set(key, value) {\n    try {\n      cookie(key, value, R.clone(this.cOpts));\n      return true;\n    } catch (e) {\n      logger.error(e);\n      return false;\n    }\n  }\n\n  /**\n   *\n   * @param {*} key\n   */\n  get(key) {\n    return cookie(key);\n  }\n\n  /**\n   *\n   * @param {*} key\n   */\n  remove(key) {\n    try {\n      cookie(key, null, R.clone(this.cOpts));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  /**\n   * Function to check cookie support exists or not\n   * @returns boolean\n   */\n  checkSupportAvailability() {\n    const name = 'test_rudder_cookie';\n    this.set(name, true);\n\n    if (this.get(name)) {\n      this.remove(name);\n      return true;\n    }\n    return false;\n  }\n}\n\n// Exporting only the instance\nconst Cookie = new CookieLocal({});\n\nexport { Cookie };\n","/**!\n * storejs v2.0.5\n * Local storage localstorage package provides a simple API\n * \n * Copyright (c) 2023 kenny wang <wowohoo@qq.com>\n * https://jaywcjlove.github.io/store.js/\n * \n * Licensed under the MIT license.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.store = factory());\n})(this, (function () { 'use strict';\n\n  function isJSON(obj) {\n    obj = JSON.stringify(obj);\n    if (!/^\\{[\\s\\S]*\\}$/.test(obj)) {\n      return false;\n    }\n    return true;\n  }\n  function stringify(val) {\n    return val === undefined || typeof val === \"function\" ? val + '' : JSON.stringify(val);\n  }\n  function deserialize(value) {\n    if (typeof value !== 'string') {\n      return undefined;\n    }\n    try {\n      return JSON.parse(value);\n    } catch (e) {\n      return value;\n    }\n  }\n  function isFunction(value) {\n    return {}.toString.call(value) === \"[object Function]\";\n  }\n  function isArray(value) {\n    return Object.prototype.toString.call(value) === \"[object Array]\";\n  }\n  // https://github.com/jaywcjlove/store.js/pull/8\n  // Error: QuotaExceededError\n  function dealIncognito(storage) {\n    var _KEY = '_Is_Incognit',\n      _VALUE = 'yes';\n    try {\n      // NOTE: set default storage when not passed in\n      if (!storage) {\n        storage = window.localStorage;\n      }\n      storage.setItem(_KEY, _VALUE);\n      storage.removeItem(_KEY);\n    } catch (e) {\n      var inMemoryStorage = {};\n      inMemoryStorage._data = {};\n      inMemoryStorage.setItem = function (id, val) {\n        return inMemoryStorage._data[id] = String(val);\n      };\n      inMemoryStorage.getItem = function (id) {\n        return inMemoryStorage._data.hasOwnProperty(id) ? inMemoryStorage._data[id] : undefined;\n      };\n      inMemoryStorage.removeItem = function (id) {\n        return delete inMemoryStorage._data[id];\n      };\n      inMemoryStorage.clear = function () {\n        return inMemoryStorage._data = {};\n      };\n      storage = inMemoryStorage;\n    } finally {\n      if (storage.getItem(_KEY) === _VALUE) storage.removeItem(_KEY);\n    }\n    return storage;\n  }\n\n  // deal QuotaExceededError if user use incognito mode in browser\n  var storage = dealIncognito();\n  function Store() {\n    if (!(this instanceof Store)) {\n      return new Store();\n    }\n  }\n  Store.prototype = {\n    set: function set(key, val) {\n      if (key && !isJSON(key)) {\n        storage.setItem(key, stringify(val));\n      } else if (isJSON(key)) {\n        for (var a in key) this.set(a, key[a]);\n      }\n      return this;\n    },\n    get: function get(key) {\n      if (!key) {\n        var ret = {};\n        this.forEach(function (key, val) {\n          return ret[key] = val;\n        });\n        return ret;\n      }\n      if (key.charAt(0) === '?') {\n        return this.has(key.substr(1));\n      }\n      var args = arguments;\n      if (args.length > 1) {\n        var dt = {};\n        for (var i = 0, len = args.length; i < len; i++) {\n          var value = deserialize(storage.getItem(args[i]));\n          if (this.has(args[i])) {\n            dt[args[i]] = value;\n          }\n        }\n        return dt;\n      }\n      return deserialize(storage.getItem(key));\n    },\n    clear: function clear() {\n      storage.clear();\n      return this;\n    },\n    remove: function remove(key) {\n      var val = this.get(key);\n      storage.removeItem(key);\n      return val;\n    },\n    has: function has(key) {\n      return {}.hasOwnProperty.call(this.get(), key);\n    },\n    keys: function keys() {\n      var d = [];\n      this.forEach(function (k) {\n        d.push(k);\n      });\n      return d;\n    },\n    forEach: function forEach(callback) {\n      for (var i = 0, len = storage.length; i < len; i++) {\n        var key = storage.key(i);\n        callback(key, this.get(key));\n      }\n      return this;\n    },\n    search: function search(str) {\n      var arr = this.keys(),\n        dt = {};\n      for (var i = 0, len = arr.length; i < len; i++) {\n        if (arr[i].indexOf(str) > -1) dt[arr[i]] = this.get(arr[i]);\n      }\n      return dt;\n    }\n  };\n  var _Store = null;\n  function store(key, data) {\n    var argm = arguments;\n    var dt = null;\n    if (!_Store) _Store = Store();\n    if (argm.length === 0) return _Store.get();\n    if (argm.length === 1) {\n      if (typeof key === \"string\") return _Store.get(key);\n      if (isJSON(key)) return _Store.set(key);\n    }\n    if (argm.length === 2 && typeof key === \"string\") {\n      if (!data) return _Store.remove(key);\n      if (data && typeof data === \"string\") return _Store.set(key, data);\n      if (data && isFunction(data)) {\n        dt = null;\n        dt = data(key, _Store.get(key));\n        store.set(key, dt);\n      }\n    }\n    if (argm.length === 2 && isArray(key) && isFunction(data)) {\n      for (var i = 0, len = key.length; i < len; i++) {\n        dt = data(key[i], _Store.get(key[i]));\n        store.set(key[i], dt);\n      }\n    }\n    return store;\n  }\n  for (var a in Store.prototype) store[a] = Store.prototype[a];\n\n  return store;\n\n}));\n","import defaults from '@ndhoule/defaults';\nimport store from 'storejs';\n\n/**\n * An object utility to persist user and other values in localstorage\n */\nclass StoreLocal {\n  constructor(options) {\n    this.sOpts = {};\n    this.enabled = this.checkSupportAvailability();\n    this.options(options);\n  }\n\n  /**\n   *\n   * @param {*} options\n   */\n  options(options = {}) {\n    if (arguments.length === 0) return this.sOpts;\n\n    defaults(options, { enabled: true });\n\n    this.enabled = options.enabled && this.enabled;\n    this.sOpts = options;\n    return this.sOpts;\n  }\n\n  /**\n   *\n   * @param {*} key\n   * @param {*} value\n   */\n  set(key, value) {\n    return store.set(key, value);\n  }\n\n  /**\n   *\n   * @param {*} key\n   */\n  get(key) {\n    return store.get(key);\n  }\n\n  /**\n   *\n   * @param {*} key\n   */\n  remove(key) {\n    return store.remove(key);\n  }\n\n  /**\n   * Function to check local storage is accessible or not\n   * @returns boolean\n   */\n  checkSupportAvailability() {\n    const name = 'test_rudder_ls';\n    this.set(name, true);\n\n    if (this.get(name)) {\n      this.remove(name);\n      return true;\n    }\n    return false;\n  }\n}\n\n// Exporting only the instance\nconst Store = new StoreLocal({});\n\nexport { Store };\n","/* eslint-disable class-methods-use-this */\nimport AES from 'crypto-js/aes';\nimport Utf8 from 'crypto-js/enc-utf8';\nimport get from 'get-value';\nimport logger from '../logUtil';\nimport { Cookie } from './cookie';\nimport { Store } from './store';\n\nconst defaults = {\n  user_storage_key: 'rl_user_id',\n  user_storage_trait: 'rl_trait',\n  user_storage_anonymousId: 'rl_anonymous_id',\n  group_storage_key: 'rl_group_id',\n  group_storage_trait: 'rl_group_trait',\n  page_storage_init_referrer: 'rl_page_init_referrer',\n  page_storage_init_referring_domain: 'rl_page_init_referring_domain',\n  session_info: 'rl_session',\n  auth_token: 'rl_auth_token',\n  prefix: 'RudderEncrypt:',\n  key: 'Rudder',\n};\n\nconst anonymousIdKeyMap = {\n  segment: 'ajs_anonymous_id',\n};\n\n/**\n * Json stringify the given value\n * @param {*} value\n */\nfunction stringify(value) {\n  return JSON.stringify(value);\n}\n\n/**\n * JSON parse the value\n * @param {*} value\n */\nfunction parse(value) {\n  // if not parsable, return as is without json parse\n  try {\n    return value ? JSON.parse(value) : null;\n  } catch (e) {\n    logger.error(e);\n    return value || null;\n  }\n}\n\n/**\n * trim using regex for browser polyfill\n * @param {*} value\n */\nfunction trim(value) {\n  return value.replace(/^\\s+|\\s+$/gm, '');\n}\n\n/**\n * decrypt value\n * @param {*} value\n */\nfunction decryptValue(value) {\n  if (!value || (typeof value === 'string' && trim(value) === '')) {\n    return value;\n  }\n  if (value.substring(0, defaults.prefix.length) === defaults.prefix) {\n    return AES.decrypt(value.substring(defaults.prefix.length), defaults.key).toString(Utf8);\n  }\n  return value;\n}\n\n/**\n * AES encrypt value with constant prefix\n * @param {*} value\n */\nfunction encryptValue(value) {\n  if (trim(value) === '') {\n    return value;\n  }\n  const prefixedVal = `${defaults.prefix}${AES.encrypt(value, defaults.key).toString()}`;\n\n  return prefixedVal;\n}\n\n/**\n * An object that handles persisting key-val from Analytics\n */\nclass Storage {\n  constructor() {\n    // First try setting the storage to cookie else to localstorage\n\n    if (Cookie.isSupportAvailable) {\n      this.storage = Cookie;\n      return;\n    }\n\n    // localStorage is enabled.\n    if (Store.enabled) {\n      this.storage = Store;\n    }\n\n    if (!this.storage) {\n      logger.error('No storage is available :: initializing the SDK without storage');\n    }\n  }\n\n  options(options = {}) {\n    this.storage.options(options);\n  }\n\n  /**\n   *\n   * @param {*} key\n   * @param {*} value\n   */\n  setItem(key, value) {\n    this.storage.set(key, encryptValue(stringify(value)));\n  }\n\n  /**\n   *\n   * @param {*} key\n   * @param {*} value\n   */\n  setStringItem(key, value) {\n    if (typeof value !== 'string') {\n      logger.error(`[Storage] ${key} should be string`);\n      return;\n    }\n    this.setItem(key, value);\n  }\n\n  /**\n   *\n   * @param {*} value\n   */\n  setUserId(value) {\n    this.setStringItem(defaults.user_storage_key, value);\n  }\n\n  /**\n   *\n   * @param {*} value\n   */\n  setUserTraits(value) {\n    this.setItem(defaults.user_storage_trait, value);\n  }\n\n  /**\n   *\n   * @param {*} value\n   */\n  setGroupId(value) {\n    this.setStringItem(defaults.group_storage_key, value);\n  }\n\n  /**\n   *\n   * @param {*} value\n   */\n  setGroupTraits(value) {\n    this.setItem(defaults.group_storage_trait, value);\n  }\n\n  /**\n   *\n   * @param {*} value\n   */\n  setAnonymousId(value) {\n    this.setStringItem(defaults.user_storage_anonymousId, value);\n  }\n\n  /**\n   * @param {*} value\n   */\n  setInitialReferrer(value) {\n    this.setItem(defaults.page_storage_init_referrer, value);\n  }\n\n  /**\n   * @param {*} value\n   */\n  setInitialReferringDomain(value) {\n    this.setItem(defaults.page_storage_init_referring_domain, value);\n  }\n\n  /**\n   * Set session information\n   * @param {*} value\n   */\n  setSessionInfo(value) {\n    this.setItem(defaults.session_info, value);\n  }\n\n  /**\n   * Set auth token for CT server\n   * @param {*} value\n   */\n  setAuthToken(value) {\n    this.setItem(defaults.auth_token, value);\n  }\n\n  /**\n   *\n   * @param {*} key\n   */\n  getItem(key) {\n    return parse(decryptValue(this.storage.get(key)));\n  }\n\n  /**\n   * get the stored userId\n   */\n  getUserId() {\n    return this.getItem(defaults.user_storage_key);\n  }\n\n  /**\n   * get the stored user traits\n   */\n  getUserTraits() {\n    return this.getItem(defaults.user_storage_trait);\n  }\n\n  /**\n   * get the stored userId\n   */\n  getGroupId() {\n    return this.getItem(defaults.group_storage_key);\n  }\n\n  /**\n   * get the stored user traits\n   */\n  getGroupTraits() {\n    return this.getItem(defaults.group_storage_trait);\n  }\n\n  /**\n   * Function to fetch anonymousId from external source\n   * @param {string} key source of the anonymousId\n   * @returns string\n   */\n  fetchExternalAnonymousId(source) {\n    let anonId;\n    const key = source.toLowerCase();\n    if (!Object.keys(anonymousIdKeyMap).includes(key)) {\n      return anonId;\n    }\n    switch (key) {\n      case 'segment':\n        /**\n         * First check the local storage for anonymousId\n         * Ref: https://segment.com/docs/connections/sources/catalog/libraries/website/javascript/#identify\n         */\n        if (Store.enabled) {\n          anonId = Store.get(anonymousIdKeyMap[key]);\n        }\n        // If anonymousId is not present in local storage and check cookie support exists\n        // fetch it from cookie\n        if (!anonId && Cookie.isSupportAvailable) {\n          anonId = Cookie.get(anonymousIdKeyMap[key]);\n        }\n        return anonId;\n\n      default:\n        return anonId;\n    }\n  }\n\n  /**\n   * get stored anonymous id\n   *\n   * Use cases:\n   * 1. getAnonymousId() ->  anonymousIdOptions is undefined this function will return rl_anonymous_id\n   * if present otherwise undefined\n   *\n   * 2. getAnonymousId(anonymousIdOptions) -> In case anonymousIdOptions is present this function will check\n   * if rl_anonymous_id is present then it will return that\n   *\n   * otherwise it will validate the anonymousIdOptions and try to fetch the anonymous Id from the provided source.\n   * Finally if no anonymous Id is present in the source it will return undefined.\n   *\n   * anonymousIdOptions example:\n   *  {\n        autoCapture: {\n          enabled: true,\n          source: \"segment\",\n        },\n      }\n   *\n   */\n  getAnonymousId(anonymousIdOptions) {\n    // fetch the rl_anonymous_id from storage\n    const rlAnonymousId = parse(decryptValue(this.storage.get(defaults.user_storage_anonymousId)));\n    /**\n     * If RS's anonymous ID is available, return from here.\n     *\n     * The user, while migrating from a different analytics SDK,\n     * will only need to auto-capture the anonymous ID when the RS SDK\n     * loads for the first time.\n     *\n     * The captured anonymous ID would be available in RS's persistent storage\n     * for all the subsequent SDK runs.\n     * So, instead of always grabbing the ID from the migration source when\n     * the options are specified, it is first checked in the RS's persistent storage.\n     *\n     * Moreover, the user can also clear the anonymous ID from the storage via\n     * the 'reset' API, which renders the migration source's data useless.\n     */\n    if (rlAnonymousId) {\n      return rlAnonymousId;\n    }\n    // validate the provided anonymousIdOptions argument\n    const source = get(anonymousIdOptions, 'autoCapture.source');\n    if (get(anonymousIdOptions, 'autoCapture.enabled') === true && typeof source === 'string') {\n      // fetch the anonymousId from the external source\n      // ex - segment\n      const anonId = this.fetchExternalAnonymousId(source);\n      if (anonId) return anonId; // return anonymousId if present\n    }\n\n    return rlAnonymousId; // return undefined\n  }\n\n  /**\n   * get stored initial referrer\n   */\n  getInitialReferrer() {\n    return this.getItem(defaults.page_storage_init_referrer);\n  }\n\n  /**\n   * get stored initial referring domain\n   */\n  getInitialReferringDomain() {\n    return this.getItem(defaults.page_storage_init_referring_domain);\n  }\n\n  /**\n   * get the stored session info\n   */\n  getSessionInfo() {\n    return this.getItem(defaults.session_info);\n  }\n\n  /**\n   * get the auth token\n   */\n  getAuthToken() {\n    return this.getItem(defaults.auth_token);\n  }\n\n  /**\n   *\n   * @param {*} key\n   */\n  removeItem(key) {\n    return this.storage.remove(key);\n  }\n\n  removeSessionInfo() {\n    this.removeItem(defaults.session_info);\n  }\n\n  /**\n   * remove stored keys\n   */\n  clear(flag) {\n    this.storage.remove(defaults.user_storage_key);\n    this.storage.remove(defaults.user_storage_trait);\n    this.storage.remove(defaults.group_storage_key);\n    this.storage.remove(defaults.group_storage_trait);\n    this.storage.remove(defaults.auth_token);\n    if (flag) {\n      this.storage.remove(defaults.user_storage_anonymousId);\n    }\n  }\n}\n\nexport { Storage };\n","import { Storage } from './storage';\n\nexport default new Storage();\n","/* eslint-disable consistent-return */\n/* eslint-disable camelcase */\nimport Storage from './storage';\n\nfunction getReferrer() {\n  return document.referrer || '$direct';\n}\n\nfunction getReferringDomain(referrer) {\n  const split = referrer.split('/');\n  if (split.length >= 3) {\n    return split[2];\n  }\n  return '';\n}\n\nfunction getCanonicalUrl() {\n  const tags = document.getElementsByTagName('link');\n  for (let i = 0; tags[i]; i += 1) {\n    const tag = tags[i];\n    if (tag.getAttribute('rel') === 'canonical') {\n      return tag.getAttribute('href');\n    }\n  }\n}\n\nfunction getUrl(search) {\n  const canonicalUrl = getCanonicalUrl();\n  let url;\n  if (canonicalUrl) {\n    url = canonicalUrl.includes('?') ? canonicalUrl : canonicalUrl + search;\n  } else {\n    url = window.location.href;\n  }\n  const hashIndex = url.indexOf('#');\n  return hashIndex > -1 ? url.slice(0, hashIndex) : url;\n}\n\nfunction getDefaultPageProperties() {\n  const canonicalUrl = getCanonicalUrl();\n  let path = window.location.pathname;\n\n  if (canonicalUrl) {\n    try {\n      const urlObj = new URL(canonicalUrl);\n      path = urlObj.pathname;\n    } catch (err) {\n      // Do nothing\n    }\n  }\n\n  const { search, href } = window.location;\n  const { title } = document;\n  const url = getUrl(search);\n  const tab_url = href;\n\n  const referrer = getReferrer();\n  const referring_domain = getReferringDomain(referrer);\n  const initial_referrer = Storage.getInitialReferrer() || '';\n  const initial_referring_domain = Storage.getInitialReferringDomain() || '';\n  return {\n    path,\n    referrer,\n    referring_domain,\n    search,\n    title,\n    url,\n    tab_url,\n    initial_referrer,\n    initial_referring_domain,\n  };\n}\n\nexport { getReferrer, getReferringDomain, getDefaultPageProperties };\n","var IDX=256, HEX=[], BUFFER;\nwhile (IDX--) HEX[IDX] = (IDX + 256).toString(16).substring(1);\n\nfunction v4() {\n\tvar i=0, num, out='';\n\n\tif (!BUFFER || ((IDX + 16) > 256)) {\n\t\tBUFFER = Array(i=256);\n\t\twhile (i--) BUFFER[i] = 256 * Math.random() | 0;\n\t\ti = IDX = 0;\n\t}\n\n\tfor (; i < 16; i++) {\n\t\tnum = BUFFER[IDX + i];\n\t\tif (i==6) out += HEX[num & 15 | 64];\n\t\telse if (i==8) out += HEX[num & 63 | 128];\n\t\telse out += HEX[num];\n\n\t\tif (i & 1 && i > 1 && i < 11) out += '-';\n\t}\n\n\tIDX++;\n\treturn out;\n}\n\nexports.v4 = v4;","// Application class\nclass RudderApp {\n  constructor() {\n    this.name = 'RudderLabs JavaScript SDK';\n    this.namespace = 'com.rudderlabs.javascript';\n    this.version = '__PACKAGE_VERSION__';\n  }\n}\nexport default RudderApp;\n","/* eslint-disable max-classes-per-file */\n// Library information class\nclass RudderLibraryInfo {\n  constructor() {\n    this.name = 'RudderLabs JavaScript SDK';\n    this.version = '__PACKAGE_VERSION__';\n  }\n}\n// Operating System information class\nclass RudderOSInfo {\n  constructor() {\n    this.name = '';\n    this.version = '';\n  }\n}\n// Screen information class\nclass RudderScreenInfo {\n  constructor() {\n    this.density = 0;\n    this.width = 0;\n    this.height = 0;\n    this.innerWidth = 0;\n    this.innerHeight = 0;\n  }\n}\n// Device information class\nclass RudderDeviceInfo {\n  constructor() {\n    this.id = '';\n    this.manufacturer = '';\n    this.model = '';\n    this.name = '';\n  }\n}\n// Carrier information\nclass RudderNetwork {\n  constructor() {\n    this.carrier = '';\n  }\n}\nexport { RudderLibraryInfo, RudderOSInfo, RudderScreenInfo, RudderDeviceInfo, RudderNetwork };\n","// Context class\nimport RudderApp from './RudderApp';\nimport { RudderLibraryInfo, RudderOSInfo } from './RudderInfo';\nimport { getUserAgent, getLanguage } from './navigator';\nimport { getScreenDetails } from './screenDetails';\n\nclass RudderContext {\n  constructor() {\n    this.app = new RudderApp();\n    this.traits = null;\n    this.library = new RudderLibraryInfo();\n    this.userAgent = getUserAgent();\n    this.device = null;\n    this.network = null;\n    this.os = new RudderOSInfo();\n    this.locale = getLanguage();\n    this.screen = getScreenDetails();\n  }\n}\n\nexport default RudderContext;\n","import { RudderScreenInfo } from './RudderInfo';\n\nconst getScreenDetails = () => {\n  const screenDetails = new RudderScreenInfo();\n\n  // Depending on environment within which the code is executing, screen\n  // dimensions can be set\n  // User agent and locale can be retrieved only for browser\n  // When execution is in SSR window will be undefined\n  if (typeof window === 'undefined') {\n    return screenDetails;\n  }\n\n  screenDetails.width = window.screen.width;\n  screenDetails.height = window.screen.height;\n  screenDetails.density = window.devicePixelRatio;\n  screenDetails.innerWidth = window.innerWidth;\n  screenDetails.innerHeight = window.innerHeight;\n\n  return screenDetails;\n};\n\nexport { getScreenDetails };\n","const getUserAgent = () => {\n  if (typeof navigator === 'undefined') {\n    return null;\n  }\n\n  let { userAgent } = navigator;\n  const { brave } = navigator;\n\n  // For supporting Brave browser detection,\n  // add \"Brave/<version>\" to the user agent with the version value from the Chrome component\n  if (brave && Object.getPrototypeOf(brave).isBrave) {\n    // Example:\n    // Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.114 Safari/537.36\n    const matchedArr = userAgent.match(/(chrome)\\/([\\w.]+)/i);\n\n    if (matchedArr) {\n      userAgent = `${userAgent} Brave/${matchedArr[2]}`;\n    }\n  }\n\n  return userAgent;\n};\n\nconst getLanguage = () => {\n  if (typeof navigator === 'undefined') {\n    return null;\n  }\n\n  return navigator.language || navigator.browserLanguage;\n};\n\nexport { getUserAgent, getLanguage };\n","// Core message class with default values\nimport { generateUUID } from './utils';\nimport RudderContext from './RudderContext';\n\nclass RudderMessage {\n  constructor() {\n    this.channel = 'web';\n    this.context = new RudderContext();\n    this.type = null;\n    this.messageId = generateUUID();\n    this.originalTimestamp = new Date().toISOString();\n    this.anonymousId = null;\n    this.userId = null;\n    this.event = null;\n    this.properties = {};\n  }\n\n  // Get property\n  getProperty(key) {\n    return this.properties[key];\n  }\n\n  // Add property\n  addProperty(key, value) {\n    this.properties[key] = value;\n  }\n}\nexport default RudderMessage;\n","import RudderMessage from './RudderMessage';\n// Individual element class containing Rudder Message\nclass RudderElement {\n  constructor() {\n    this.message = new RudderMessage();\n  }\n\n  // Setters that in turn set the field values for the contained object\n  setType(type) {\n    this.message.type = type;\n  }\n\n  setProperty(rudderProperty) {\n    this.message.properties = rudderProperty;\n  }\n\n  setUserProperty(rudderUserProperty) {\n    this.message.user_properties = rudderUserProperty;\n  }\n\n  setUserId(userId) {\n    this.message.userId = userId;\n  }\n\n  setEventName(eventName) {\n    this.message.event = eventName;\n  }\n\n  getElementContent() {\n    return this.message;\n  }\n}\nexport default RudderElement;\n","// Class responsible for building up the individual elements in a batch\n// that is transmitted by the SDK\nimport RudderElement from './RudderElement';\n\nclass RudderElementBuilder {\n  constructor() {\n    this.rudderProperty = null;\n    this.rudderUserProperty = null;\n    this.event = null;\n    this.userId = null;\n    this.type = null;\n  }\n\n  setType(eventType) {\n    this.type = eventType;\n    return this;\n  }\n\n  build() {\n    const element = new RudderElement();\n    element.setUserId(this.userId);\n    element.setType(this.type);\n    element.setEventName(this.event);\n    element.setProperty(this.rudderProperty);\n    element.setUserProperty(this.rudderUserProperty);\n    return element;\n  }\n}\nexport default RudderElementBuilder;\n","'use strict';\n\nvar hop = Object.prototype.hasOwnProperty;\nvar strCharAt = String.prototype.charAt;\nvar toStr = Object.prototype.toString;\n\n/**\n * Returns the character at a given index.\n *\n * @param {string} str\n * @param {number} index\n * @return {string|undefined}\n */\n// TODO: Move to a library\nvar charAt = function(str, index) {\n  return strCharAt.call(str, index);\n};\n\n/**\n * hasOwnProperty, wrapped as a function.\n *\n * @name has\n * @api private\n * @param {*} context\n * @param {string|number} prop\n * @return {boolean}\n */\n\n// TODO: Move to a library\nvar has = function has(context, prop) {\n  return hop.call(context, prop);\n};\n\n/**\n * Returns true if a value is a string, otherwise false.\n *\n * @name isString\n * @api private\n * @param {*} val\n * @return {boolean}\n */\n\n// TODO: Move to a library\nvar isString = function isString(val) {\n  return toStr.call(val) === '[object String]';\n};\n\n/**\n * Returns true if a value is array-like, otherwise false. Array-like means a\n * value is not null, undefined, or a function, and has a numeric `length`\n * property.\n *\n * @name isArrayLike\n * @api private\n * @param {*} val\n * @return {boolean}\n */\n// TODO: Move to a library\nvar isArrayLike = function isArrayLike(val) {\n  return val != null && (typeof val !== 'function' && typeof val.length === 'number');\n};\n\n\n/**\n * indexKeys\n *\n * @name indexKeys\n * @api private\n * @param {} target\n * @param {Function} pred\n * @return {Array}\n */\nvar indexKeys = function indexKeys(target, pred) {\n  pred = pred || has;\n\n  var results = [];\n\n  for (var i = 0, len = target.length; i < len; i += 1) {\n    if (pred(target, i)) {\n      results.push(String(i));\n    }\n  }\n\n  return results;\n};\n\n/**\n * Returns an array of an object's owned keys.\n *\n * @name objectKeys\n * @api private\n * @param {*} target\n * @param {Function} pred Predicate function used to include/exclude values from\n * the resulting array.\n * @return {Array}\n */\nvar objectKeys = function objectKeys(target, pred) {\n  pred = pred || has;\n\n  var results = [];\n\n  for (var key in target) {\n    if (pred(target, key)) {\n      results.push(String(key));\n    }\n  }\n\n  return results;\n};\n\n/**\n * Creates an array composed of all keys on the input object. Ignores any non-enumerable properties.\n * More permissive than the native `Object.keys` function (non-objects will not throw errors).\n *\n * @name keys\n * @api public\n * @category Object\n * @param {Object} source The value to retrieve keys from.\n * @return {Array} An array containing all the input `source`'s keys.\n * @example\n * keys({ likes: 'avocado', hates: 'pineapple' });\n * //=> ['likes', 'pineapple'];\n *\n * // Ignores non-enumerable properties\n * var hasHiddenKey = { name: 'Tim' };\n * Object.defineProperty(hasHiddenKey, 'hidden', {\n *   value: 'i am not enumerable!',\n *   enumerable: false\n * })\n * keys(hasHiddenKey);\n * //=> ['name'];\n *\n * // Works on arrays\n * keys(['a', 'b', 'c']);\n * //=> ['0', '1', '2']\n *\n * // Skips unpopulated indices in sparse arrays\n * var arr = [1];\n * arr[4] = 4;\n * keys(arr);\n * //=> ['0', '4']\n */\nvar keys = function keys(source) {\n  if (source == null) {\n    return [];\n  }\n\n  // IE6-8 compatibility (string)\n  if (isString(source)) {\n    return indexKeys(source, charAt);\n  }\n\n  // IE6-8 compatibility (arguments)\n  if (isArrayLike(source)) {\n    return indexKeys(source, has);\n  }\n\n  return objectKeys(source);\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = keys;\n","'use strict';\n\nvar keys = require('@ndhoule/keys');\nvar uuid = require('@lukeed/uuid').v4;\n\nvar inMemoryStore = {\n  _data: {},\n  length: 0,\n  setItem: function(key, value) {\n    this._data[key] = value;\n    this.length = keys(this._data).length;\n    return value;\n  },\n  getItem: function(key) {\n    if (key in this._data) {\n      return this._data[key];\n    }\n    return null;\n  },\n  removeItem: function(key) {\n    if (key in this._data) {\n      delete this._data[key];\n    }\n    this.length = keys(this._data).length;\n    return null;\n  },\n  clear: function() {\n    this._data = {};\n    this.length = 0;\n  },\n  key: function(index) {\n    return keys(this._data)[index];\n  }\n};\n\nfunction isSupportedNatively() {\n  try {\n    if (!window.localStorage) return false;\n    var key = uuid();\n    window.localStorage.setItem(key, 'test_value');\n    var value = window.localStorage.getItem(key);\n    window.localStorage.removeItem(key);\n\n    // handle localStorage silently failing\n    return value === 'test_value';\n  } catch (e) {\n    // Can throw if localStorage is disabled\n    return false;\n  }\n}\n\nfunction pickStorage() {\n  if (isSupportedNatively()) {\n    return window.localStorage;\n  }\n  // fall back to in-memory\n  return inMemoryStore;\n}\n\n// Return a shared instance\nmodule.exports.defaultEngine = pickStorage();\n// Expose the in-memory store explicitly for testing\nmodule.exports.inMemoryEngine = inMemoryStore;\n","'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar keys = require('@ndhoule/keys');\n\nvar objToString = Object.prototype.toString;\n\n/**\n * Tests if a value is a number.\n *\n * @name isNumber\n * @api private\n * @param {*} val The value to test.\n * @return {boolean} Returns `true` if `val` is a number, otherwise `false`.\n */\n// TODO: Move to library\nvar isNumber = function isNumber(val) {\n  var type = typeof val;\n  return type === 'number' || (type === 'object' && objToString.call(val) === '[object Number]');\n};\n\n/**\n * Tests if a value is an array.\n *\n * @name isArray\n * @api private\n * @param {*} val The value to test.\n * @return {boolean} Returns `true` if the value is an array, otherwise `false`.\n */\n// TODO: Move to library\nvar isArray = typeof Array.isArray === 'function' ? Array.isArray : function isArray(val) {\n  return objToString.call(val) === '[object Array]';\n};\n\n/**\n * Tests if a value is array-like. Array-like means the value is not a function and has a numeric\n * `.length` property.\n *\n * @name isArrayLike\n * @api private\n * @param {*} val\n * @return {boolean}\n */\n// TODO: Move to library\nvar isArrayLike = function isArrayLike(val) {\n  return val != null && (isArray(val) || (val !== 'function' && isNumber(val.length)));\n};\n\n/**\n * Internal implementation of `each`. Works on arrays and array-like data structures.\n *\n * @name arrayEach\n * @api private\n * @param {Function(value, key, collection)} iterator The function to invoke per iteration.\n * @param {Array} array The array(-like) structure to iterate over.\n * @return {undefined}\n */\nvar arrayEach = function arrayEach(iterator, array) {\n  for (var i = 0; i < array.length; i += 1) {\n    // Break iteration early if `iterator` returns `false`\n    if (iterator(array[i], i, array) === false) {\n      break;\n    }\n  }\n};\n\n/**\n * Internal implementation of `each`. Works on objects.\n *\n * @name baseEach\n * @api private\n * @param {Function(value, key, collection)} iterator The function to invoke per iteration.\n * @param {Object} object The object to iterate over.\n * @return {undefined}\n */\nvar baseEach = function baseEach(iterator, object) {\n  var ks = keys(object);\n\n  for (var i = 0; i < ks.length; i += 1) {\n    // Break iteration early if `iterator` returns `false`\n    if (iterator(object[ks[i]], ks[i], object) === false) {\n      break;\n    }\n  }\n};\n\n/**\n * Iterate over an input collection, invoking an `iterator` function for each element in the\n * collection and passing to it three arguments: `(value, index, collection)`. The `iterator`\n * function can end iteration early by returning `false`.\n *\n * @name each\n * @api public\n * @param {Function(value, key, collection)} iterator The function to invoke per iteration.\n * @param {Array|Object|string} collection The collection to iterate over.\n * @return {undefined} Because `each` is run only for side effects, always returns `undefined`.\n * @example\n * var log = console.log.bind(console);\n *\n * each(log, ['a', 'b', 'c']);\n * //-> 'a', 0, ['a', 'b', 'c']\n * //-> 'b', 1, ['a', 'b', 'c']\n * //-> 'c', 2, ['a', 'b', 'c']\n * //=> undefined\n *\n * each(log, 'tim');\n * //-> 't', 2, 'tim'\n * //-> 'i', 1, 'tim'\n * //-> 'm', 0, 'tim'\n * //=> undefined\n *\n * // Note: Iteration order not guaranteed across environments\n * each(log, { name: 'tim', occupation: 'enchanter' });\n * //-> 'tim', 'name', { name: 'tim', occupation: 'enchanter' }\n * //-> 'enchanter', 'occupation', { name: 'tim', occupation: 'enchanter' }\n * //=> undefined\n */\nvar each = function each(iterator, collection) {\n  return (isArrayLike(collection) ? arrayEach : baseEach).call(this, iterator, collection);\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = each;\n","'use strict';\n\nvar defaultEngine = require('./engine').defaultEngine;\nvar inMemoryEngine = require('./engine').inMemoryEngine;\nvar each = require('@ndhoule/each');\nvar keys = require('@ndhoule/keys');\nvar json = JSON;\n\n/**\n* Store Implementation with dedicated\n*/\n\nfunction Store(name, id, keys, optionalEngine) {\n  this.id = id;\n  this.name = name;\n  this.keys = keys || {};\n  this.engine = optionalEngine || defaultEngine;\n  this.originalEngine = this.engine;\n}\n\n/**\n* Set value by key.\n*/\n\nStore.prototype.set = function(key, value) {\n  var compoundKey = this._createValidKey(key);\n  if (!compoundKey) return;\n  try {\n    this.engine.setItem(compoundKey, json.stringify(value));\n  } catch (err) {\n    if (isQuotaExceeded(err)) {\n      // switch to inMemory engine\n      this._swapEngine();\n      // and save it there\n      this.set(key, value);\n    }\n  }\n};\n\n/**\n* Get by Key.\n*/\n\nStore.prototype.get = function(key) {\n  try {\n    var str = this.engine.getItem(this._createValidKey(key));\n    if (str === null) {\n      return null;\n    }\n    return json.parse(str);\n  } catch (err) {\n    return null;\n  }\n};\n\n/**\n * Get original engine\n */\n\nStore.prototype.getOriginalEngine = function() {\n  return this.originalEngine;\n};\n\n/**\n* Remove by Key.\n*/\n\nStore.prototype.remove = function(key) {\n  this.engine.removeItem(this._createValidKey(key));\n};\n\n/**\n* Ensure the key is valid\n*/\n\nStore.prototype._createValidKey = function(key) {\n  var name = this.name;\n  var id = this.id;\n\n  if (!keys(this.keys).length) return [name, id, key].join('.');\n\n  // validate and return undefined if invalid key\n  var compoundKey;\n  each(function(value) {\n    if (value === key) {\n      compoundKey = [name, id, key].join('.');\n    }\n  }, this.keys);\n  return compoundKey;\n};\n\n/**\n* Switch to inMemoryEngine, bringing any existing data with.\n*/\n\nStore.prototype._swapEngine = function() {\n  var self = this;\n\n  // grab existing data, but only for this page's queue instance, not all\n  // better to keep other queues in localstorage to be flushed later\n  // than to pull them into memory and remove them from durable storage\n  each(function(key) {\n    var value = self.get(key);\n    inMemoryEngine.setItem([self.name, self.id, key].join('.'), value);\n    self.remove(key);\n  }, this.keys);\n\n  this.engine = inMemoryEngine;\n};\n\nmodule.exports = Store;\n\nfunction isQuotaExceeded(e) {\n  var quotaExceeded = false;\n  if (e.code) {\n    switch (e.code) {\n    case 22:\n      quotaExceeded = true;\n      break;\n    case 1014:\n      // Firefox\n      if (e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n        quotaExceeded = true;\n      }\n      break;\n    default:\n      break;\n    }\n  } else if (e.number === -2147024882) {\n    // Internet Explorer 8\n    quotaExceeded = true;\n  }\n  return quotaExceeded;\n}\n","'use strict';\n\nvar each = require('@ndhoule/each');\n\nvar CLOCK_LATE_FACTOR = 2;\n\nvar defaultClock = {\n  setTimeout: function(fn, ms) {\n    return window.setTimeout(fn, ms);\n  },\n  clearTimeout: function(id) {\n    return window.clearTimeout(id);\n  },\n  Date: window.Date\n};\n\nvar clock = defaultClock;\n\nvar modes = {\n  ASAP: 1,\n  RESCHEDULE: 2,\n  ABANDON: 3\n};\n\nfunction Schedule() {\n  this.tasks = {};\n  this.nextId = 1;\n}\n\nSchedule.prototype.now = function() {\n  return +new clock.Date();\n};\n\nSchedule.prototype.run = function(task, timeout, mode) {\n  var id = this.nextId++;\n\n  this.tasks[id] = clock.setTimeout(this._handle(id, task, timeout, mode || modes.ASAP), timeout);\n  return id;\n};\n\nSchedule.prototype.cancel = function(id) {\n  if (this.tasks[id]) {\n    clock.clearTimeout(this.tasks[id]);\n    delete this.tasks[id];\n  }\n};\n\nSchedule.prototype.cancelAll = function() {\n  each(clock.clearTimeout, this.tasks);\n  this.tasks = {};\n};\n\nSchedule.prototype._handle = function(id, callback, timeout, mode) {\n  var self = this;\n  var start = self.now();\n  return function() {\n    delete self.tasks[id];\n    if (mode >= modes.RESCHEDULE && start + timeout * CLOCK_LATE_FACTOR < self.now()) {\n      if (mode === modes.RESCHEDULE) {\n        self.run(callback, timeout, mode);\n      }\n      return;\n    }\n    return callback();\n  };\n};\n\nSchedule.setClock = function(newClock) {\n  clock = newClock;\n};\n\nSchedule.resetClock = function() {\n  clock = defaultClock;\n};\n\nSchedule.Modes = modes;\n\nmodule.exports = Schedule;\n","'use strict';\n\nvar uuid = require('@lukeed/uuid').v4;\nvar Store = require('./store');\nvar each = require('@ndhoule/each');\nvar Schedule = require('./schedule');\nvar debug = require('debug')('localstorage-retry');\nvar Emitter = require('component-emitter');\n\n// Some browsers don't support Function.prototype.bind, so just including a simplified version here\nfunction bind(func, obj) {\n  return function() {\n    return func.apply(obj, arguments);\n  };\n}\n\n/**\n * @callback processFunc\n * @param {Mixed} item The item added to the queue to process\n * @param {Function} done A function to call when processing is completed.\n *   @param {Error} Optional error parameter if the processing failed\n *   @param {Response} Optional response parameter to emit for async handling\n */\n\n/**\n * Constructs a Queue backed by localStorage\n *\n * @constructor\n * @param {String} name The name of the queue. Will be used to find abandoned queues and retry their items\n * @param {Object} [opts] Optional argument to override `maxItems`, `maxAttempts`, `minRetryDelay, `maxRetryDelay`, `backoffFactor` and `backoffJitter`.\n * @param {processFunc} fn The function to call in order to process an item added to the queue\n */\nfunction Queue(name, opts, fn) {\n  if (typeof opts === 'function') fn = opts;\n  this.name = name;\n  this.id = uuid();\n  this.fn = fn;\n  this.maxItems = opts.maxItems || Infinity;\n  this.maxAttempts = opts.maxAttempts || Infinity;\n\n  this.backoff = {\n    MIN_RETRY_DELAY: opts.minRetryDelay || 1000,\n    MAX_RETRY_DELAY: opts.maxRetryDelay || 30000,\n    FACTOR: opts.backoffFactor || 2,\n    JITTER: opts.backoffJitter || 0\n  };\n\n  // painstakingly tuned. that's why they're not \"easily\" configurable\n  this.timeouts = {\n    ACK_TIMER: 1000,\n    RECLAIM_TIMER: 3000,\n    RECLAIM_TIMEOUT: 10000,\n    RECLAIM_WAIT: 500\n  };\n\n  this.keys = {\n    IN_PROGRESS: 'inProgress',\n    QUEUE: 'queue',\n    RECLAIM_START: 'reclaimStart',\n    RECLAIM_END: 'reclaimEnd',\n    ACK: 'ack'\n  };\n\n  this._schedule = new Schedule();\n  this._processId = 0;\n\n  // Set up our empty queues\n  this._store = new Store(this.name, this.id, this.keys);\n  this._store.set(this.keys.IN_PROGRESS, {});\n  this._store.set(this.keys.QUEUE, []);\n\n  // bind recurring tasks for ease of use\n  this._ack = bind(this._ack, this);\n  this._checkReclaim = bind(this._checkReclaim, this);\n  this._processHead = bind(this._processHead, this);\n\n  this._running = false;\n}\n\n/**\n * Mix in event emitter\n */\n\nEmitter(Queue.prototype);\n\n/**\n * Starts processing the queue\n */\nQueue.prototype.start = function() {\n  if (this._running) {\n    this.stop();\n  }\n  this._running = true;\n  this._ack();\n  this._checkReclaim();\n  this._processHead();\n};\n\n/**\n * Stops processing the queue\n */\nQueue.prototype.stop = function() {\n  this._schedule.cancelAll();\n  this._running = false;\n};\n\n/**\n * Decides whether to retry. Overridable.\n *\n * @param {Object} item The item being processed\n * @param {Number} attemptNumber The attemptNumber (1 for first retry)\n * @param {Error} error The error from previous attempt, if there was one\n * @return {Boolean} Whether to requeue the message\n */\nQueue.prototype.shouldRetry = function(_, attemptNumber) {\n  if (attemptNumber > this.maxAttempts) return false;\n  return true;\n};\n\n/**\n * Calculates the delay (in ms) for a retry attempt\n *\n * @param {Number} attemptNumber The attemptNumber (1 for first retry)\n * @return {Number} The delay in milliseconds to wait before attempting a retry\n */\nQueue.prototype.getDelay = function(attemptNumber) {\n  var ms = this.backoff.MIN_RETRY_DELAY * Math.pow(this.backoff.FACTOR, attemptNumber);\n  if (this.backoff.JITTER) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.backoff.JITTER * ms);\n    if (Math.floor(rand * 10) < 5) {\n      ms -= deviation;\n    } else {\n      ms += deviation;\n    }\n  }\n  return Number(Math.min(ms, this.backoff.MAX_RETRY_DELAY).toPrecision(1));\n};\n\n/**\n * Adds an item to the queue\n *\n * @param {Mixed} item The item to process\n */\nQueue.prototype.addItem = function(item) {\n  this._enqueue({\n    item: item,\n    attemptNumber: 0,\n    time: this._schedule.now(),\n    id: uuid()\n  });\n};\n\n/**\n * Adds an item to the retry queue\n *\n * @param {Mixed} item The item to retry\n * @param {Number} attemptNumber The attempt number (1 for first retry)\n * @param {Error} [error] The error from previous attempt, if there was one\n * @param {String} [id] The id of the queued message used for tracking duplicate entries\n */\nQueue.prototype.requeue = function(item, attemptNumber, error, id) {\n  if (this.shouldRetry(item, attemptNumber, error)) {\n    this._enqueue({\n      item: item,\n      attemptNumber: attemptNumber,\n      time: this._schedule.now() + this.getDelay(attemptNumber),\n      id: id || uuid()\n    });\n  } else {\n    this.emit('discard', item, attemptNumber);\n  }\n};\n\nQueue.prototype._enqueue = function(entry) {\n  var queue = this._store.get(this.keys.QUEUE) || [];\n  queue = queue.slice(-(this.maxItems - 1));\n  queue.push(entry);\n  queue = queue.sort(function(a,b) {\n    return a.time - b.time;\n  });\n\n  this._store.set(this.keys.QUEUE, queue);\n\n  if (this._running) {\n    this._processHead();\n  }\n};\n\nQueue.prototype._processHead = function() {\n  var self = this;\n  var store = this._store;\n\n  // cancel the scheduled task if it exists\n  this._schedule.cancel(this._processId);\n\n  // Pop the head off the queue\n  var queue = store.get(this.keys.QUEUE) || [];\n  var inProgress = store.get(this.keys.IN_PROGRESS) || {};\n  var now = this._schedule.now();\n  var toRun = [];\n\n  function enqueue(el, id) {\n    toRun.push({\n      item: el.item,\n      done: function handle(err, res) {\n        var inProgress = store.get(self.keys.IN_PROGRESS) || {};\n        delete inProgress[id];\n        store.set(self.keys.IN_PROGRESS, inProgress);\n        self.emit('processed', err, res, el.item);\n        if (err) {\n          self.requeue(el.item, el.attemptNumber + 1, err, el.id);\n        }\n      }\n    });\n  }\n\n  var inProgressSize = Object.keys(inProgress).length;\n\n  while (queue.length && queue[0].time <= now && inProgressSize++ < self.maxItems) {\n    var el = queue.shift();\n    var id = uuid();\n\n    // Save this to the in progress map\n    inProgress[id] = {\n      item: el.item,\n      attemptNumber: el.attemptNumber,\n      time: self._schedule.now()\n    };\n\n    enqueue(el, id);\n  }\n\n  store.set(this.keys.QUEUE, queue);\n  store.set(this.keys.IN_PROGRESS, inProgress);\n\n  each(function(el) {\n    // TODO: handle fn timeout\n    try {\n      self.fn(el.item, el.done);\n    } catch (err) {\n      debug('Process function threw error: ' + err);\n    }\n  }, toRun);\n\n  // re-read the queue in case the process function finished immediately or added another item\n  queue = store.get(this.keys.QUEUE) || [];\n  this._schedule.cancel(this._processId);\n  if (queue.length > 0) {\n    this._processId = this._schedule.run(this._processHead, queue[0].time - now, Schedule.Modes.ASAP);\n  }\n};\n\n// Ack continuously to prevent other tabs from claiming our queue\nQueue.prototype._ack = function() {\n  this._store.set(this.keys.ACK, this._schedule.now());\n  this._store.set(this.keys.RECLAIM_START, null);\n  this._store.set(this.keys.RECLAIM_END, null);\n  this._schedule.run(this._ack, this.timeouts.ACK_TIMER, Schedule.Modes.ASAP);\n};\n\nQueue.prototype._checkReclaim = function() {\n  var self = this;\n\n  function tryReclaim(store) {\n    store.set(self.keys.RECLAIM_START, self.id);\n    store.set(self.keys.ACK, self._schedule.now());\n\n    self._schedule.run(function() {\n      if (store.get(self.keys.RECLAIM_START) !== self.id) return;\n      store.set(self.keys.RECLAIM_END, self.id);\n\n      self._schedule.run(function() {\n        if (store.get(self.keys.RECLAIM_END) !== self.id) return;\n        if (store.get(self.keys.RECLAIM_START) !== self.id) return;\n        self._reclaim(store.id);\n      }, self.timeouts.RECLAIM_WAIT, Schedule.Modes.ABANDON);\n    }, self.timeouts.RECLAIM_WAIT, Schedule.Modes.ABANDON);\n  }\n\n  function findOtherQueues(name) {\n    var res = [];\n    var storage = self._store.getOriginalEngine();\n    for (var i = 0; i < storage.length; i++) {\n      var k = storage.key(i);\n      if (k === null) continue;\n      var parts = k.split('.');\n      if (parts.length !== 3) continue;\n      if (parts[0] !== name) continue;\n      if (parts[2] !== 'ack') continue;\n      res.push(new Store(name, parts[1], self.keys));\n    }\n    return res;\n  }\n\n  each(function(store) {\n    if (store.id === self.id) return;\n    if (self._schedule.now() - store.get(self.keys.ACK) < self.timeouts.RECLAIM_TIMEOUT) return;\n    tryReclaim(store);\n  }, findOtherQueues(this.name));\n\n  this._schedule.run(this._checkReclaim, this.timeouts.RECLAIM_TIMER, Schedule.Modes.RESCHEDULE);\n};\n\nQueue.prototype._reclaim = function(id) {\n  var self = this;\n  var other = new Store(this.name, id, this.keys);\n\n  var our = {\n    queue: this._store.get(this.keys.QUEUE) || []\n  };\n\n  var their = {\n    inProgress: other.get(this.keys.IN_PROGRESS) || {},\n    queue: other.get(this.keys.QUEUE) || []\n  };\n\n  var trackMessageIds = [];\n\n  var addConcatQueue = function(queue, incrementAttemptNumberBy) {\n    each(function(el) {\n      var id = el.id || uuid();\n      if (trackMessageIds.indexOf(id) >= 0) {\n        self.emit('duplication', el.item, el.attemptNumber);\n      } else {\n        our.queue.push({\n          item: el.item,\n          attemptNumber: el.attemptNumber + incrementAttemptNumberBy,\n          time: self._schedule.now(),\n          id: id\n        });\n        trackMessageIds.push(id);\n      }\n    }, queue);\n  };\n\n  // add their queue to ours, resetting run-time to immediate and copying the attempt#\n  addConcatQueue(their.queue, 0);\n\n  // if the queue is abandoned, all the in-progress are failed. retry them immediately and increment the attempt#\n  addConcatQueue(their.inProgress, 1);\n\n  our.queue = our.queue.sort(function(a,b) {\n    return a.time - b.time;\n  });\n\n  this._store.set(this.keys.QUEUE, our.queue);\n  // remove all keys one by on next tick to avoid NS_ERROR_STORAGE_BUSY error\n  const localStorageBackoff = 10;\n  setTimeout(() => {\n    other.remove(this.keys.IN_PROGRESS);\n    setTimeout(() => {\n      other.remove(this.keys.QUEUE);\n      setTimeout(() => {\n        other.remove(this.keys.RECLAIM_START);\n        setTimeout(() => {\n          other.remove(this.keys.RECLAIM_END);\n          setTimeout(() => {\n            other.remove(this.keys.ACK);\n          }, localStorageBackoff);\n        }, localStorageBackoff);\n      }, localStorageBackoff);\n    }, localStorageBackoff);\n  }, localStorageBackoff);\n\n  // process the new items we claimed\n  this._processHead();\n};\n\nmodule.exports = Queue;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable func-names */\n/* eslint-disable import/no-unresolved */\n/* eslint-disable global-require */\n/* eslint-disable guard-for-in */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable class-methods-use-this */\nimport Queue from '@segment/localstorage-retry';\nimport { getCurrentTimeFormatted } from './utils';\nimport { handleError } from './errorHandler';\nimport { FAILED_REQUEST_ERR_MSG_PREFIX } from './constants';\nimport { stringifyWithoutCircular } from './ObjectUtils';\n\nconst queueOptions = {\n  maxRetryDelay: 360000,\n  minRetryDelay: 1000,\n  backoffFactor: 2,\n  maxAttempts: 10,\n  maxItems: 100,\n};\n\nclass XHRQueue {\n  constructor() {\n    this.url = '';\n    this.writeKey = '';\n  }\n\n  init(writeKey, url, options) {\n    this.url = url;\n    this.writeKey = writeKey;\n    if (options) {\n      // TODO: add checks for value - has to be +ve?\n      Object.assign(queueOptions, options);\n    }\n    this.payloadQueue = new Queue(\n      'rudder',\n      queueOptions,\n      ((item, done) => {\n        // apply sentAt at flush time and reset on each retry\n        item.message.sentAt = getCurrentTimeFormatted();\n        // send this item for processing, with a callback to enable queue to get the done status\n        // eslint-disable-next-line no-use-before-define\n        this.processQueueElement(\n          item.url,\n          item.headers,\n          item.message,\n          10 * 1000,\n          // eslint-disable-next-line consistent-return\n          (err, res) => {\n            if (err) {\n              return done(err);\n            }\n            done(null, res);\n          },\n        );\n      }),\n    );\n\n    // start queue\n    this.payloadQueue.start();\n  }\n\n  /**\n   * the queue item proceesor\n   * @param {*} url to send requests to\n   * @param {*} headers\n   * @param {*} message\n   * @param {*} timeout\n   * @param {*} queueFn the function to call after request completion\n   */\n  processQueueElement(url, headers, message, timeout, queueFn) {\n    try {\n      const xhr = new XMLHttpRequest();\n      xhr.open('POST', url, true);\n      for (const k in headers) {\n        xhr.setRequestHeader(k, headers[k]);\n      }\n      xhr.timeout = timeout;\n      xhr.ontimeout = queueFn;\n      xhr.onerror = queueFn;\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n          if (xhr.status === 429 || (xhr.status >= 500 && xhr.status < 600)) {\n            const errMessage = `${FAILED_REQUEST_ERR_MSG_PREFIX} \"${xhr.status}\" status text: \"${xhr.statusText}\" for URL: \"${url}\"`;\n            const err = new Error(errMessage);\n            handleError(err);\n            queueFn(err);\n          } else {\n            queueFn(null, xhr.status);\n          }\n        }\n      };\n\n      xhr.send(stringifyWithoutCircular(message, true));\n    } catch (error) {\n      queueFn(error);\n    }\n  }\n\n  enqueue(message, type) {\n    const headers = {\n      'Content-Type': 'application/json',\n      Authorization: `Basic ${btoa(`${this.writeKey}:`)}`,\n      AnonymousId: btoa(message.anonymousId),\n    };\n    // add items to the queue\n    this.payloadQueue.addItem({\n      url: `${this.url}/v1/${type}`,\n      headers,\n      message,\n    });\n  }\n}\n\nexport default XHRQueue;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable class-methods-use-this */\nimport { Store } from './storage/store';\nimport { handleError } from './errorHandler';\nimport { stringifyWithoutCircular } from './ObjectUtils';\n\nconst defaults = {\n  queue: 'queue',\n  maxPayloadSize: 64 * 1000,\n};\n\nclass BeaconQueue {\n  constructor() {\n    this.storage = Store;\n    this.maxItems = 10;\n    this.flushQueueTimeOut = undefined;\n    this.timeOutActive = false;\n    this.flushQueueTimeOutInterval = 1000 * 60 * 10; // 10 mins\n    this.url = '';\n    this.writekey = '';\n    this.queueName = `${defaults.queue}.${Date.now()}`;\n  }\n\n  sendQueueDataForBeacon() {\n    this.sendDataFromQueueAndDestroyQueue();\n  }\n\n  init(writekey, url, options) {\n    this.url = url;\n    this.writekey = writekey;\n    if (options.maxItems) this.maxItems = options.maxItems;\n    if (options.flushQueueInterval) this.flushQueueTimeOutInterval = options.flushQueueInterval;\n    const sendQueueData = this.sendQueueDataForBeacon.bind(this);\n    window.addEventListener('unload', sendQueueData);\n  }\n\n  getQueue() {\n    return this.storage.get(this.queueName);\n  }\n\n  setQueue(value) {\n    this.storage.set(this.queueName, value);\n  }\n\n  enqueue(message) {\n    let queue = this.getQueue() || [];\n    queue = queue.slice(-(this.maxItems - 1));\n    queue.push(message);\n    let batch = queue.slice(0);\n    const data = { batch };\n    const dataToSend = stringifyWithoutCircular(data, true);\n    if (dataToSend.length > defaults.maxPayloadSize) {\n      batch = queue.slice(0, queue.length - 1);\n      this.flushQueue(batch);\n      queue = this.getQueue();\n      queue.push(message);\n    }\n    this.setQueue(queue);\n    this.setTimer();\n\n    if (queue.length === this.maxItems) {\n      this.flushQueue(batch);\n    }\n  }\n\n  sendDataFromQueueAndDestroyQueue() {\n    this.sendDataFromQueue();\n    this.storage.remove(this.queueName);\n  }\n\n  sendDataFromQueue() {\n    const queue = this.getQueue();\n    if (queue && queue.length > 0) {\n      const batch = queue.slice(0, queue.length);\n      this.flushQueue(batch);\n    }\n  }\n\n  flushQueue(batch) {\n    batch.forEach((event) => {\n      event.sentAt = new Date().toISOString();\n    });\n    const data = { batch };\n    const payload = stringifyWithoutCircular(data, true);\n    const blob = new Blob([payload], { type: 'text/plain' });\n    const targetUrl = `${this.url}?writeKey=${this.writekey}`;\n    try {\n      if (typeof navigator.sendBeacon !== 'function') {\n        handleError(new Error('Beacon API is not supported by browser'));\n      }\n      const isPushed = navigator.sendBeacon(targetUrl, blob);\n      if (!isPushed) {\n        handleError(new Error(\"Unable to queue data to browser's beacon queue\"));\n      }\n    } catch (e) {\n      e.message = `${e.message} - While sending Beacon data to: ${targetUrl}`;\n      handleError(e);\n    }\n    this.setQueue([]);\n    this.clearTimer();\n  }\n\n  setTimer() {\n    if (!this.timeOutActive) {\n      this.flushQueueTimeOut = setTimeout(\n        this.sendDataFromQueue.bind(this),\n        this.flushQueueTimeOutInterval,\n      );\n      this.timeOutActive = true;\n    }\n  }\n\n  clearTimer() {\n    if (this.timeOutActive) {\n      clearTimeout(this.flushQueueTimeOut);\n      this.timeOutActive = false;\n    }\n  }\n}\nexport default BeaconQueue;\n","/* eslint-disable no-lonely-if */\n/* eslint-disable class-methods-use-this */\nimport logger from './logUtil';\nimport XHRQueue from './xhrModule';\nimport BeaconQueue from './beaconQueue';\nimport { getCurrentTimeFormatted, removeTrailingSlashes } from './utils';\nimport { stringifyWithoutCircular } from './ObjectUtils';\n\nconst MESSAGE_LENGTH = 32 * 1000; // ~32 Kb\n\n/**\n *\n * @class EventRepository responsible for adding events into\n * flush queue and sending data to rudder backend\n * in batch and maintains order of the event.\n */\nclass EventRepository {\n  /**\n   *Creates an instance of EventRepository.\n   * @memberof EventRepository\n   */\n  constructor() {\n    this.queue = undefined;\n  }\n\n  initialize(writeKey, url, options) {\n    let queueOptions = {};\n    let targetUrl = removeTrailingSlashes(url);\n    if (options && options.useBeacon && navigator.sendBeacon) {\n      if (\n        options.beaconQueueOptions &&\n        options.beaconQueueOptions != null &&\n        typeof options.beaconQueueOptions === 'object'\n      ) {\n        queueOptions = options.beaconQueueOptions;\n      }\n      targetUrl = `${targetUrl}/beacon/v1/batch`;\n      this.queue = new BeaconQueue();\n    } else {\n      if (options && options.useBeacon) {\n        logger.info(\n          '[EventRepository] sendBeacon feature not available in this browser :: fallback to XHR',\n        );\n      }\n      if (\n        options &&\n        options.queueOptions &&\n        options.queueOptions != null &&\n        typeof options.queueOptions === 'object'\n      ) {\n        queueOptions = options.queueOptions;\n      }\n      this.queue = new XHRQueue();\n    }\n    this.queue.init(writeKey, targetUrl, queueOptions);\n  }\n\n  /**\n   *\n   *\n   * @param {RudderElement} rudderElement\n   * @memberof EventRepository\n   */\n  enqueue(rudderElement, type) {\n    const message = rudderElement.getElementContent();\n    message.originalTimestamp = message.originalTimestamp || getCurrentTimeFormatted();\n    message.sentAt = getCurrentTimeFormatted(); // add this, will get modified when actually being sent\n\n    // check message size, if greater log an error\n    if (stringifyWithoutCircular(message, true).length > MESSAGE_LENGTH) {\n      logger.error('[EventRepository] enqueue:: message length greater 32 Kb ', message);\n    }\n\n    this.queue.enqueue(message, type);\n  }\n}\nconst eventRepository = new EventRepository();\nexport { eventRepository as EventRepository };\n","/* eslint-disable consistent-return */\n\nimport Queue from '@segment/localstorage-retry';\nimport RudderElement from './RudderElement';\n\n/**\n * Keeping maxAttempts to Infinity to retry cloud mode events and throw an error until processQueueElements flag is not set to true\n */\nconst queueOptions = {\n  maxRetryDelay: 360000,\n  minRetryDelay: 1000,\n  backoffFactor: 2,\n  maxAttempts: Infinity,\n};\n\nclass PreProcessQueue {\n  constructor() {\n    this.callback = undefined;\n    this.processQueueElements = false;\n  }\n\n  init(options, callback) {\n    if (options) {\n      // TODO: add checks for value - has to be +ve?\n      Object.assign(queueOptions, options);\n    }\n    if (callback) {\n      this.callback = callback;\n    }\n    this.payloadQueue = new Queue('rs_events', queueOptions, (item, done) => {\n      this.processQueueElement(item.type, item.rudderElement, (err, res) => {\n        if (err) {\n          return done(err);\n        }\n        done(null, res);\n      });\n    });\n    this.payloadQueue.start();\n  }\n\n  activateProcessor() {\n    // An indicator to process elements in queue\n    this.processQueueElements = true;\n  }\n\n  processQueueElement(type, rudderElement, queueFn) {\n    try {\n      if (this.processQueueElements) {\n        Object.setPrototypeOf(rudderElement, RudderElement.prototype);\n        this.callback(type, rudderElement);\n        queueFn(null);\n      } else {\n        queueFn(new Error('The queue elements are not ready to be processed yet'));\n      }\n    } catch (error) {\n      queueFn(error);\n    }\n  }\n\n  enqueue(type, rudderElement) {\n    // add items to the queue\n    this.payloadQueue.addItem({ type, rudderElement });\n  }\n}\n\nexport default PreProcessQueue;\n","/* eslint-disable no-use-before-define */\n// import logger from \"../utils/logUtil\";\n\nimport { handleError } from \"./errorHandler\";\n\nconst defaultAsyncState = true;\n\nexport const LOAD_ORIGIN = 'RS_JS_SDK';\n/**\n * Script loader\n * @param {String} id                               Id of the script\n * @param {String} src                              URL of the script\n * @param {Object} options                          Object containing different configuration\n * @param {Boolean} options.async                   Determines script will be loaded asynchronously or not\n * @param {Boolean} options.isNonNativeSDK          Determines whether the script that will be loaded is one of RS's own\n * @param {Boolean} options.skipDatasetAttributes   Determines whether to add or skip dataset attribute\n */\nconst ScriptLoader = (id, src, options = {}) => {\n  try {\n    const exists = document.getElementById(id);\n    if (exists) {\n      // logger.debug(\"script already loaded\");\n      return;\n    }\n\n    const js = document.createElement('script');\n    js.src = src;\n    js.async = options.async === undefined ? defaultAsyncState : options.async;\n    js.type = 'text/javascript';\n    js.id = id;\n    // This checking is in place to skip the dataset attribute for some cases(while loading polyfill)\n    if (options.skipDatasetAttributes !== true) {\n      js.setAttribute('data-loader', LOAD_ORIGIN);\n      if (options.isNonNativeSDK !== undefined) {\n        js.setAttribute('data-isNonNativeSDK', options.isNonNativeSDK);\n      }\n    }\n    const headElmColl = document.getElementsByTagName('head');\n    if (headElmColl.length > 0) {\n      // logger.debug(\"==adding script==\", js);\n      headElmColl[0].insertBefore(js, headElmColl[0].firstChild);\n    } else {\n      const e = document.getElementsByTagName('script')[0];\n      // logger.debug(\"==parent script==\", e);\n      // logger.debug(\"==adding script==\", js);\n      e.parentNode.insertBefore(js, e);\n    }\n  } catch (e) {\n    handleError(e);\n  }\n};\n\nexport default ScriptLoader;\n","/**\n * @description An interface to fetch user device details.\n * @version v1.0.0\n */\n\nconst USER_INTERFACE = {\n  /**\n   * @param {*} req\n   * @returns {string} user language\n   */\n  getUserLanguage: () => navigator && navigator.language,\n\n  /**\n   * @param {*} req\n   * @returns {string} userAgent\n   */\n  getUserAgent: () => navigator && navigator.userAgent,\n};\n\nexport default USER_INTERFACE;\n","/**\n * @description This is utility function for decoding from base 64 to utf8\n * @version v1.0.0\n */\n\n/**\n * @param {string} str base64\n * @returns {string} utf8\n */\nfunction b64DecodeUnicode(str) {\n  // Going backwards: from bytestream, to percent-encoding, to original string.\n  return decodeURIComponent(\n    atob(str)\n      .split('')\n      .map(function (c) {\n        return `%${`00${c.charCodeAt(0).toString(16)}`.slice(-2)}`;\n      })\n      .join(''),\n  );\n}\n\n/**\n * @param {string} value\n * @return {string}\n */\nfunction decode(data = '') {\n  data = data.endsWith('..') ? data.substr(0, data.length - 2) : data;\n  return b64DecodeUnicode(data);\n}\n\nexport default decode;\n","/**\n * @description AMP Linker Parser (works for Rudder, GA or any other linker created by following Google's linker standard.)\n * @version v1.0.0\n * @author Parth Mahajan, Ayush Mehra\n */\n\nimport crc32 from './crc32';\nimport USER_INTERFACE from './userLib';\nimport decode from './base64decoder';\n\nconst KEY_VALIDATOR = /^[a-zA-Z0-9\\-_.]+$/;\nconst CHECKSUM_OFFSET_MAX_MIN = 1;\nconst VALID_VERSION = 1;\nconst DELIMITER = '*';\n\n/**\n * Parse the linker param value to version checksum and serializedParams\n * @param {string} value\n * @return {?Object}\n */\nfunction parseLinkerParamValue(value) {\n  const parts = value.split(DELIMITER);\n  const isEven = parts.length % 2 === 0;\n\n  if (parts.length < 4 || !isEven) {\n    // Format <version>*<checksum>*<key1>*<value1>\n    // Note: linker makes sure there's at least one pair of non empty key value\n    // Make sure there is at least three delimiters.\n    return null;\n  }\n\n  const version = Number(parts.shift());\n  if (version !== VALID_VERSION) {\n    return null;\n  }\n\n  const checksum = parts.shift();\n  const serializedIds = parts.join(DELIMITER);\n  return {\n    checksum,\n    serializedIds,\n  };\n}\n\n/**\n * Deserialize the serializedIds and return keyValue pairs.\n * @param {string} serializedIds\n * @return {!Object<string, string>}\n */\nfunction deserialize(serializedIds) {\n  const keyValuePairs = {};\n  const params = serializedIds.split(DELIMITER);\n  for (let i = 0; i < params.length; i += 2) {\n    const key = params[i];\n    const valid = KEY_VALIDATOR.test(key);\n    if (valid) {\n      const value = decode(params[i + 1]);\n      // const value = params[i + 1];\n      keyValuePairs[key] = value;\n    }\n  }\n  return keyValuePairs;\n}\n\n/**\n * Generates a semi-unique value for page visitor.\n * @return {string}\n */\nfunction getFingerprint(userAgent, language) {\n  const date = new Date();\n  const timezone = date.getTimezoneOffset();\n  return [userAgent, timezone, language].join(DELIMITER);\n}\n\n/**\n * Rounded time used to check if t2 - t1 is within our time tolerance.\n * @return {number}\n */\nfunction getMinSinceEpoch() {\n  // Timestamp in minutes, floored.\n  return Math.floor(Date.now() / 60000);\n}\n\n/**\n * Create a unique checksum hashing the fingerprint and a few other values.\n * @param {string} serializedIds\n * @param {number=} optOffsetMin\n * @return {string}\n */\nfunction getCheckSum(serializedIds, optOffsetMin, userAgent, language) {\n  const fingerprint = getFingerprint(userAgent, language);\n  const offset = optOffsetMin || 0;\n  const timestamp = getMinSinceEpoch() - offset;\n  const crc = crc32([fingerprint, timestamp, serializedIds].join(DELIMITER));\n  // Encoded to base36 for less bytes.\n  return crc.toString(36);\n}\n\n/**\n * Check if the checksum is valid with time offset tolerance.\n * @param {string} serializedIds\n * @param {string} checksum\n * @return {boolean}\n */\nfunction isCheckSumValid(serializedIds, checksum) {\n  const userAgent = USER_INTERFACE.getUserAgent();\n  const language = USER_INTERFACE.getUserLanguage();\n  for (let i = 0; i <= CHECKSUM_OFFSET_MAX_MIN; i += 1) {\n    const calculateCheckSum = getCheckSum(serializedIds, i, userAgent, language);\n    if (calculateCheckSum === checksum) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Return the key value pairs\n * @param {string} value\n * @return {?Object<string, string>}\n */\nfunction parseLinker(value) {\n  const linkerObj = parseLinkerParamValue(value);\n  if (!linkerObj) {\n    return null;\n  }\n  const { checksum, serializedIds } = linkerObj;\n  if (!isCheckSumValid(serializedIds, checksum)) {\n    return null;\n  }\n  return deserialize(serializedIds);\n}\n\nexport default parseLinker;\n","/* eslint-disable no-bitwise */\n/**\n * @description This is utility function for crc32 algorithm\n * @version v1.0.0\n */\n\n/**\n * @description generate crc table\n * @params none\n * @returns array of CRC table\n */\n\nconst makeCRCTable = function () {\n  const crcTable = [];\n  let c;\n  for (let n = 0; n < 256; n++) {\n    c = n;\n    for (let k = 0; k < 8; k++) {\n      c = c & 1 ? 0xedb88320 ^ (c >>> 1) : c >>> 1;\n    }\n    crcTable[n] = c;\n  }\n  return crcTable;\n};\n\n/**\n *\n * @param {string} str\n * @returns {Bytestream} crc32\n */\nconst crc32 = function (str) {\n  const crcTable = makeCRCTable();\n  let crc = 0 ^ -1;\n\n  for (let i = 0; i < str.length; i++) {\n    crc = (crc >>> 8) ^ crcTable[(crc ^ str.charCodeAt(i)) & 0xff];\n  }\n\n  return (crc ^ -1) >>> 0;\n};\n\nexport default crc32;\n","// map b/w the names of integrations coming from config plane to\n// integration module names\nconst configToIntNames = {\n  HS: 'HubSpot',\n  GA: 'GA',\n  HOTJAR: 'Hotjar',\n  GOOGLEADS: 'GoogleAds',\n  VWO: 'VWO',\n  GTM: 'GoogleTagManager',\n  BRAZE: 'Braze',\n  INTERCOM: 'INTERCOM',\n  KEEN: 'Keen',\n  KISSMETRICS: 'Kissmetrics',\n  CUSTOMERIO: 'CustomerIO',\n  CHARTBEAT: 'Chartbeat',\n  COMSCORE: 'Comscore',\n  FACEBOOK_PIXEL: 'FacebookPixel',\n  LOTAME: 'Lotame',\n  OPTIMIZELY: 'Optimizely',\n  BUGSNAG: 'Bugsnag',\n  FULLSTORY: 'Fullstory',\n  TVSQUARED: 'TVSquared',\n  GA4: 'GA4',\n  MOENGAGE: 'MoEngage',\n  AM: 'Amplitude',\n  PENDO: 'Pendo',\n  LYTICS: 'Lytics',\n  APPCUES: 'Appcues',\n  POSTHOG: 'Posthog',\n  KLAVIYO: 'Klaviyo',\n  CLEVERTAP: 'Clevertap',\n  BINGADS: 'BingAds',\n  PINTEREST_TAG: 'PinterestTag',\n  ADOBE_ANALYTICS: 'AdobeAnalytics',\n  LINKEDIN_INSIGHT_TAG: 'LinkedInInsightTag',\n  REDDIT_PIXEL: 'RedditPixel',\n  DRIP: 'Drip',\n  HEAP: 'Heap',\n  CRITEO: 'Criteo',\n  MP: 'Mixpanel',\n  QUALTRICS: 'Qualtrics',\n  PROFITWELL: 'ProfitWell',\n  SENTRY: 'Sentry',\n  QUANTUMMETRIC: 'QuantumMetric',\n  SNAP_PIXEL: 'SnapPixel',\n  POST_AFFILIATE_PRO: 'PostAffiliatePro',\n  GOOGLE_OPTIMIZE: 'GoogleOptimize',\n  LAUNCHDARKLY: 'LaunchDarkly',\n  GA360: 'GA360',\n  ADROLL: 'Adroll',\n  DCM_FLOODLIGHT: 'DCMFloodlight',\n  MATOMO: 'Matomo',\n  VERO: 'Vero',\n  MOUSEFLOW: 'Mouseflow',\n  ROCKERBOX: 'Rockerbox',\n  CONVERTFLOW: 'ConvertFlow',\n  SNAPENGAGE: 'SnapEngage',\n  LIVECHAT: 'LiveChat',\n  SHYNET: 'Shynet',\n  WOOPRA: 'Woopra',\n  ROLLBAR: 'RollBar',\n  QUORA_PIXEL: 'QuoraPixel',\n  JUNE: 'June',\n  ENGAGE: 'Engage',\n  ITERABLE: 'Iterable',\n  YANDEX_METRICA: 'YandexMetrica',\n  REFINER: 'Refiner',\n  QUALAROO: 'Qualaroo',\n  PODSIGHTS: 'Podsights',\n  AXEPTIO: 'Axeptio',\n  SATISMETER: 'Satismeter',\n  MICROSOFT_CLARITY: 'MicrosoftClarity',\n  SENDINBLUE: 'Sendinblue',\n  OLARK: 'Olark',\n  LEMNISK: \"Lemnisk\",\n  TIKTOK_ADS: \"TiktokAds\",\n};\n\nexport { configToIntNames };\n","import logger from '../../../../utils/logUtil';\n\n/* eslint-disable class-methods-use-this */\nclass OneTrust {\n  isInitialized = false;\n\n  constructor() {\n    // If user does not load onetrust sdk before loading rudderstack sdk\n    // we will not be filtering any of the destinations.\n    if (!window.OneTrust || !window.OnetrustActiveGroups) {\n      logger.error('OneTrust resources are not accessible.');\n      return;\n    }\n    // OneTrust Cookie Compliance populates a data layer object OnetrustActiveGroups with\n    // the cookie categories that the user has consented to.\n    // Eg: ',C0001,C0003,'\n    // We split it and save it as an array.\n\n    this.userSetConsentGroupIds = window.OnetrustActiveGroups.split(',').filter((n) => n); // Ids user has consented\n\n    // Get information about the cookie script - data includes, consent models, cookies in preference centre, etc.\n    // We get the groups(cookie categorization), user has created in one trust account.\n\n    const oneTrustAllGroupsInfo = window.OneTrust.GetDomainData().Groups;\n    this.userSetConsentGroupNames = [];\n    this.userDeniedConsentGroupIds = [];\n\n    // Get the names of the cookies consented by the user in the browser.\n\n    oneTrustAllGroupsInfo.forEach((group) => {\n      const { CustomGroupId, GroupName } = group;\n      if (this.userSetConsentGroupIds.includes(CustomGroupId)) {\n        this.userSetConsentGroupNames.push(GroupName.toUpperCase().trim());\n      } else {\n        this.userDeniedConsentGroupIds.push(CustomGroupId);\n      }\n    });\n\n    this.userSetConsentGroupIds = this.userSetConsentGroupIds.map((e) => e.toUpperCase());\n    this.isInitialized = true;\n  }\n\n  isEnabled(destConfig) {\n    try {\n      if (!this.isInitialized) {\n        return true;\n      }\n      /**\n     * Structure of onetrust consent group destination config.\n     * \n     * \"oneTrustConsentGroup\": [\n                        {\n                            \"oneTrustConsentGroup\": \"Performance Cookies\"\n                        },\n                        {\n                            \"oneTrustConsentGroup\": \"Functional Cookies\"\n                        },\n                        {\n                            \"oneTrustConsentGroup\": \"\"\n                        }\n                    ]\n      *\n     */\n\n      const { oneTrustCookieCategories } = destConfig; // mapping of the destination with the consent group name\n\n      // If the destination do not have this mapping events will be sent.\n\n      if (!oneTrustCookieCategories) {\n        return true;\n      }\n\n      // Change the structure of oneTrustConsentGroup as an array and filter values if empty string\n      // Eg:\n      // [\"Performance Cookies\", \"Functional Cookies\"]\n\n      const oneTrustConsentGroupArr = oneTrustCookieCategories\n        .map((c) => c.oneTrustCookieCategory)\n        .filter((n) => n);\n      let containsAllConsent = true;\n      // Check if all the destination's mapped cookie categories are consented by the user in the browser.\n      containsAllConsent = oneTrustConsentGroupArr.every(\n        (element) =>\n          this.userSetConsentGroupIds.includes(element.toUpperCase().trim()) ||\n          this.userSetConsentGroupNames.includes(element.toUpperCase().trim()),\n      );\n      return containsAllConsent;\n    } catch (e) {\n      logger.error(`Error during onetrust cookie consent management ${e}`);\n      return true;\n    }\n  }\n\n  getDeniedList() {\n    if (!this.isInitialized) {\n      return [];\n    }\n    return this.userDeniedConsentGroupIds;\n  }\n}\n\nexport default OneTrust;\n","import { OneTrust } from './OneTrust';\n\nclass CookieConsentFactory {\n  static initialize(cookieConsentOptions) {\n    /**\n     *\n     * check which type of cookie consent manager needs to be called if enabled\n     * for now we have only OneTrust.\n     * But if new cookie consent manager options are implemented,\n     * we need to make sure only one of them is enabled by the user in the\n     * load options\n     *\n     */\n    if (cookieConsentOptions?.oneTrust?.enabled) {\n      // This is P1. When we have an ui in source side to turn on/off of cookie consent\n      // if (sourceConfig &&\n      //     sourceConfig.cookieConsentManager &&\n      // sourceConfig.cookieConsentManager.oneTrust &&\n      // sourceConfig.cookieConsentManager.oneTrustenabled) {\n      return new OneTrust();\n\n      // }\n    }\n    return null;\n  }\n}\n\nexport default CookieConsentFactory;\n","/* eslint-disable consistent-return */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable import/prefer-default-export */\nimport Storage from '../../../utils/storage';\nimport logger from '../../../utils/logUtil';\nimport {\n  DEFAULT_SESSION_TIMEOUT,\n  MIN_SESSION_TIMEOUT,\n  MIN_SESSION_ID_LENGTH,\n} from '../../../utils/constants';\nimport { countDigits } from '../../../utils/utils';\nimport { handleError } from '../../../utils/errorHandler';\n\nclass UserSession {\n  constructor() {\n    this.storage = Storage;\n    this.timeout = DEFAULT_SESSION_TIMEOUT;\n    // Fetch session information from storage if any or enable auto track\n    this.sessionInfo = this.storage.getSessionInfo() || { autoTrack: true };\n  }\n\n  /**\n   * A function to initialize session information\n   * @param {object} options    load call options\n   */\n  initialize(options) {\n    try {\n      /**\n       * By default this.autoTrack will be true\n       * Cases where this.autoTrack will be false:\n       * 1. User explicitly set autoTrack load option to false\n       * 2. When user is manually tracking the session\n       *\n       * Depending on the use case, this.autoTrack is set to true/false.\n       */\n      this.sessionInfo.autoTrack = !(\n        options?.sessions?.autoTrack === false || this.sessionInfo.manualTrack\n      );\n      /**\n       * Validate \"timeout\" input. Should be provided in milliseconds.\n       * Session timeout: By default, a session lasts until there's 30 minutes of inactivity,\n       * but you can configure this limit using \"timeout\" load option\n       */\n      if (options?.sessions && !isNaN(options.sessions.timeout)) {\n        const { timeout } = options.sessions;\n        // In case user provides 0 as the timeout, auto session tracking will be disabled\n        if (timeout === 0) {\n          logger.warn(\n            '[Session]:: Provided timeout value 0 will disable the auto session tracking feature.',\n          );\n          this.sessionInfo.autoTrack = false;\n        }\n        // In case user provides a setTimeout value greater than 0 but less than 10 seconds SDK will show a warning\n        // and will proceed with it\n        if (timeout > 0 && timeout < MIN_SESSION_TIMEOUT) {\n          logger.warn('[Session]:: It is not advised to set \"timeout\" less than 10 seconds');\n        }\n        this.timeout = timeout;\n      }\n      // If auto session tracking is enabled start the session tracking\n      if (this.sessionInfo.autoTrack) {\n        this.startAutoTracking();\n      } else if (this.sessionInfo.autoTrack === false && !this.sessionInfo.manualTrack) {\n        /**\n         * Use case:\n         * By default user session is enabled which means storage will have session data.\n         * In case user wanted to opt out and set auto track to false through load option,\n         * clear stored session info.\n         */\n        this.end();\n      }\n    } catch (e) {\n      handleError(e);\n    }\n  }\n\n  /**\n   * A function to validate current session and return true/false depending on that\n   * @param {number} timestamp\n   * @returns boolean\n   */\n  isValidSession(timestamp) {\n    return timestamp <= this.sessionInfo.expiresAt;\n  }\n\n  /**\n   * A function to generate session id\n   * @returns number\n   */\n  generateSessionId() {\n    return Date.now();\n  }\n\n  /**\n   * A function to check for existing session details and depending on that create a new session.\n   */\n  startAutoTracking() {\n    const timestamp = Date.now();\n    if (!this.isValidSession(timestamp)) {\n      this.sessionInfo = {};\n      this.sessionInfo.id = timestamp; // set the current timestamp\n      this.sessionInfo.expiresAt = timestamp + this.timeout; // set the expiry time of the session\n      this.sessionInfo.sessionStart = true;\n      this.sessionInfo.autoTrack = true;\n    }\n    this.storage.setSessionInfo(this.sessionInfo);\n  }\n\n  /**\n   * Function to validate user provided sessionId\n   * @param {number} sessionId\n   * @returns\n   */\n  validateSessionId(sessionId) {\n    if (typeof sessionId !== 'number' || sessionId % 1 !== 0) {\n      logger.error(`[Session]:: \"sessionId\" should only be a positive integer`);\n      return;\n    }\n    if (countDigits(sessionId) < MIN_SESSION_ID_LENGTH) {\n      logger.error(\n        `[Session]:: \"sessionId\" should at least be \"${MIN_SESSION_ID_LENGTH}\" digits long`,\n      );\n      return;\n    }\n    return sessionId;\n  }\n\n  /**\n   * A public method to start a session\n   * @param {number} sessionId     session identifier\n   * @returns\n   */\n  start(id) {\n    const sessionId = id ? this.validateSessionId(id) : this.generateSessionId();\n\n    this.sessionInfo = {\n      id: sessionId || this.generateSessionId(),\n      sessionStart: true,\n      manualTrack: true,\n    };\n    this.storage.setSessionInfo(this.sessionInfo);\n  }\n\n  /**\n   * A function to return current session id\n   * @returns string sessionId\n   */\n  getSessionId() {\n    if (\n      (this.sessionInfo.autoTrack && this.isValidSession(Date.now())) ||\n      this.sessionInfo.manualTrack\n    ) {\n      return this.sessionInfo.id;\n    }\n    return null;\n  }\n\n  /**\n   * A public method to end an ongoing session.\n   */\n  end() {\n    this.sessionInfo = {};\n    this.storage.removeSessionInfo();\n  }\n\n  /**\n   * A function get ongoing sessionId.\n   */\n  getSessionInfo() {\n    const session = {};\n    if (this.sessionInfo.autoTrack || this.sessionInfo.manualTrack) {\n      // renew or create a new auto-tracking session\n      if (this.sessionInfo.autoTrack) {\n        const timestamp = Date.now();\n        if (!this.isValidSession(timestamp)) {\n          this.startAutoTracking();\n        } else {\n          this.sessionInfo.expiresAt = timestamp + this.timeout; // set the expiry time of the session\n        }\n      }\n\n      if (this.sessionInfo.sessionStart) {\n        session.sessionStart = true;\n        this.sessionInfo.sessionStart = false;\n      }\n      session.sessionId = this.sessionInfo.id;\n      this.storage.setSessionInfo(this.sessionInfo);\n    }\n    return session;\n  }\n\n  /**\n   * Refresh session info on reset API call\n   */\n  reset() {\n    const { manualTrack, autoTrack } = this.sessionInfo;\n    if (autoTrack) {\n      this.sessionInfo = {};\n      this.startAutoTracking();\n    } else if (manualTrack) {\n      this.start();\n    }\n  }\n}\n\nconst userSession = new UserSession();\nexport { userSession as UserSession };\n","import logger from './logUtil';\nimport { mergeDeepRight } from './ObjectUtils';\nimport { SYSTEM_KEYWORDS } from './constants';\n\nconst defaultTopLevelElements = ['integrations', 'anonymousId', 'originalTimestamp'];\n\nconst mergeTopLevelElementsMutator = (rudderElementMessage, options = {}) => {\n  if (typeof options !== 'object' || options === null) {\n    return;\n  }\n\n  Object.keys(options).forEach((key) => {\n    if (defaultTopLevelElements.includes(key)) {\n      // eslint-disable-next-line no-param-reassign\n      rudderElementMessage[key] = options[key];\n    }\n  });\n};\n\nconst mergeContext = (rudderElementMessage, options = {}) => {\n  let { context } = rudderElementMessage;\n\n  if (typeof options !== 'object' || options === null) {\n    return context;\n  }\n\n  Object.keys(options).forEach((key) => {\n    if (!defaultTopLevelElements.includes(key) && !SYSTEM_KEYWORDS.includes(key)) {\n      if (key !== 'context') {\n        context = mergeDeepRight(context, {\n          [key]: options[key],\n        });\n      } else if (typeof options[key] === 'object' && options[key] !== null) {\n        const tempContext = {};\n        Object.keys(options[key]).forEach((e) => {\n          if (!SYSTEM_KEYWORDS.includes(e)) {\n            tempContext[e] = options[key][e];\n          }\n        });\n        context = mergeDeepRight(context, {\n          ...tempContext,\n        });\n      } else {\n        logger.error(\n          `[Analytics: processOptionsParam] context passed in options ${key} is not object.`,\n        );\n      }\n    }\n  });\n  return context;\n};\n\nexport { mergeContext, mergeTopLevelElementsMutator };\n","/* eslint-disable no-underscore-dangle */\nimport ScriptLoader from '../../../../../utils/ScriptLoader';\nimport { configToIntNames } from '../../../../../utils/config_to_integration_names';\nimport {\n  ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME,\n  MAX_WAIT_FOR_INTEGRATION_LOAD,\n} from '../../../../../utils/constants';\nimport { get } from '../../../../../utils/utils';\n\n// Using the Bugsnag integration version to avoid version issues\nconst BUGSNAG_CDN_URL = 'https://d2wy8f7a9ursnm.cloudfront.net/v6/bugsnag.min.js';\nconst BUGSNAG_VALID_MAJOR_VERSION = '6';\nconst ERROR_REPORT_PROVIDER_NAME_BUGSNAG = 'rs-bugsnag';\nconst BUGSNAG_LIB_INSTANCE_GLOBAL_KEY_NAME = 'bugsnag'; // For version 6 and bellow\nconst BUGSNAG_LIB_V7_INSTANCE_GLOBAL_KEY_NAME = 'Bugsnag';\nconst GLOBAL_LIBRARY_OBJECT_NAMES = [\n  BUGSNAG_LIB_V7_INSTANCE_GLOBAL_KEY_NAME,\n  BUGSNAG_LIB_INSTANCE_GLOBAL_KEY_NAME,\n];\n\n// This API key token is parsed in the CI pipeline\nconst API_KEY = '__RS_BUGSNAG_API_KEY__';\n\n// Errors only from Below SDKs are allowed to reach Bugsnag\nconst SDK_FILE_NAMES = [\n  'rudder-analytics.min.js',\n  'rudder-analytics-staging.min.js',\n  'rudder-analytics.js',\n  ...Object.keys(configToIntNames).map((intgName) => `${configToIntNames[intgName]}.min.js`),\n  ...Object.keys(configToIntNames).map(\n    (intgName) => `${configToIntNames[intgName]}-staging.min.js`,\n  ),\n  ...Object.keys(configToIntNames).map((intgName) => `${configToIntNames[intgName]}.js`),\n];\nconst BUGSNAG_ERROR_FILE_ORIGIN_KEY = 'stacktrace.0.file';\n\nconst getReleaseStage = () => {\n  const host = window.location.hostname;\n  const devHosts = ['www.rs-unit-test-host.com', 'localhost', '127.0.0.1', '[::1]'];\n\n  return host && devHosts.includes(host) ? 'development' : '__RS_BUGSNAG_RELEASE_STAGE__';\n};\n\nconst isValidVersion = (globalLibInstance) => {\n  // For version 7\n  let version =\n    globalLibInstance &&\n    globalLibInstance._client &&\n    globalLibInstance._client._notifier &&\n    globalLibInstance._client._notifier.version;\n\n  // For versions older than 7\n  if (!version) {\n    let tempInstance = globalLibInstance({\n      apiKey: API_KEY,\n      releaseStage: 'version-test',\n      // eslint-disable-next-line func-names, object-shorthand\n      beforeSend: function () {\n        return false;\n      },\n    });\n    version = tempInstance.notifier && tempInstance.notifier.version;\n    tempInstance = undefined;\n  }\n\n  return version && version.charAt(0) === BUGSNAG_VALID_MAJOR_VERSION;\n};\n\nconst isRudderSDKError = (event) => {\n  const errorOrigin = get(event, BUGSNAG_ERROR_FILE_ORIGIN_KEY);\n\n  if (!errorOrigin || typeof errorOrigin !== 'string') {\n    return false;\n  }\n\n  const srcFileName = errorOrigin.substring(errorOrigin.lastIndexOf('/') + 1);\n  return SDK_FILE_NAMES.includes(srcFileName);\n};\n\nconst enhanceErrorEventMutator = (event, metadataSource) => {\n  event.updateMetaData('source', {\n    metadataSource,\n  });\n\n  const { errorMessage } = event;\n  // eslint-disable-next-line no-param-reassign\n  event.context = errorMessage;\n\n  // Hack for easily grouping the script load errors\n  // on the dashboard\n  if (errorMessage.includes('error in script loading')) {\n    // eslint-disable-next-line no-param-reassign\n    event.context = 'Script load failures';\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  event.severity = 'error';\n};\n\nconst loadBugsnagSDKScript = (name) => {\n  const isNotLoaded = GLOBAL_LIBRARY_OBJECT_NAMES.every(\n    (globalKeyName) => !Object.hasOwn(window, globalKeyName),\n  );\n\n  if (isNotLoaded) {\n    ScriptLoader(name, BUGSNAG_CDN_URL, {\n      isNonNativeSDK: 'true',\n      skipDatasetAttributes: true,\n    });\n  }\n};\n\nclass BugsnagProvider {\n  constructor(sourceId, onClientReady) {\n    this.pluginName = ERROR_REPORT_PROVIDER_NAME_BUGSNAG;\n    this.sourceId = sourceId;\n    this.onClientReady = onClientReady;\n    this.initClientOnLibReadyInterval = undefined;\n    this.init();\n  }\n\n  /**\n   * The responsibility of this function is to check Bugsnag native SDK\n   * has been loaded or not in a certain interval.\n   * If already loaded initialize the SDK.\n   */\n  init() {\n    // Return if RS Bugsnag instance is already initialized\n    if (window.rudderanalytics && window.rudderanalytics[ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME]) {\n      return;\n    }\n\n    const apiKeyRegex = /{{.+}}/;\n    const isAPIKeyValid = !API_KEY.match(apiKeyRegex);\n\n    // If API key token is not parsed or invalid, don't proceed to initialize the client\n    if (!isAPIKeyValid) {\n      return;\n    }\n\n    /**\n     * This function will load the Bugsnag native SDK through CDN\n     * Once loaded it will be available in window.Bugsnag\n     */\n    loadBugsnagSDKScript(this.pluginName);\n\n    const globalBugsnagLibInstance = window[BUGSNAG_LIB_INSTANCE_GLOBAL_KEY_NAME];\n\n    // Initialize if SDK is loaded and has valid version else return if other version exists\n    if (typeof globalBugsnagLibInstance === 'function') {\n      if (isValidVersion(globalBugsnagLibInstance)) {\n        this.initClient();\n      }\n\n      return;\n    }\n\n    // Check if Bugsnag is loaded with valid version every '100'ms\n    this.initClientOnLibReadyInterval = setInterval(() => {\n      const globalBugsnagLibInstanceOnInterval = window[BUGSNAG_LIB_INSTANCE_GLOBAL_KEY_NAME];\n\n      if (typeof globalBugsnagLibInstanceOnInterval === 'function') {\n        if (isValidVersion(globalBugsnagLibInstanceOnInterval)) {\n          this.initClient();\n        }\n\n        clearInterval(this.initClientOnLibReadyInterval);\n      }\n    }, 100);\n\n    // Abort checking for the library after timeout expires\n    setTimeout(() => {\n      clearInterval(this.initClientOnLibReadyInterval);\n    }, MAX_WAIT_FOR_INTEGRATION_LOAD);\n  }\n\n  /**\n   * This function is to initialize the bugsnag with apiKey, SDK metadata\n   * and custom configuration for onError method.\n   * After initialization Bugsnag instance will be available in window.rsBugsnagClient\n   */\n  initClient() {\n    const globalBugsnagLibInstance = window[BUGSNAG_LIB_INSTANCE_GLOBAL_KEY_NAME];\n\n    this.client = globalBugsnagLibInstance({\n      apiKey: API_KEY,\n      appVersion: '__PACKAGE_VERSION__', // Set SDK version as the app version from build config\n      metaData: {\n        SDK: {\n          name: 'JS',\n          installType: '__MODULE_TYPE__',\n        },\n      },\n      beforeSend: this.onError(),\n      autoTrackSessions: false, // auto tracking sessions is disabled\n      collectUserIp: false, // collecting user's IP is disabled\n      enabledBreadcrumbTypes: ['error', 'log', 'user'],\n      maxEvents: 100,\n      releaseStage: getReleaseStage(),\n    });\n\n    this.onClientReady();\n  }\n\n  onError() {\n    const metadataSource = this.sourceId;\n\n    return (event) => {\n      try {\n        // Discard the event if it's not originated at the SDK\n        if (!isRudderSDKError(event)) {\n          return false;\n        }\n\n        enhanceErrorEventMutator(event, metadataSource);\n\n        return true;\n      } catch {\n        // Drop the error event if it couldn't be filtered as\n        // it is most likely a non-SDK error\n        return false;\n      }\n    };\n  }\n\n  notify(error) {\n    if (this.client) {\n      this.client.notify(error);\n    }\n  }\n\n  leaveBreadcrumb(error) {\n    if (this.client) {\n      this.client.leaveBreadcrumb(error);\n    }\n  }\n}\n\nexport { ERROR_REPORT_PROVIDER_NAME_BUGSNAG, BugsnagProvider };\n","import { get } from '../../../../utils/utils';\nimport { BugsnagProvider, ERROR_REPORT_PROVIDER_NAME_BUGSNAG } from './providers/Bugsnag';\nimport { ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME } from '../../../../utils/constants';\n\nconst DEFAULT_ERROR_REPORT_PROVIDER = ERROR_REPORT_PROVIDER_NAME_BUGSNAG;\nconst AVAILABLE_ERROR_REPORT_PROVIDERS = [ERROR_REPORT_PROVIDER_NAME_BUGSNAG];\nconst ERRORS_COLLECTION_ENABLED_CONFIG_KEY = 'statsCollection.errors.enabled';\nconst ERRORS_COLLECTION_PROVIDER_NAME_CONFIG_KEY = 'statsCollection.errors.provider';\n\nconst getErrorCollectionEnabledFromConfig = (sourceConfig) =>\n  get(sourceConfig, ERRORS_COLLECTION_ENABLED_CONFIG_KEY) || false;\n\nconst getProviderNameFromConfig = (sourceConfig) =>\n  get(sourceConfig, ERRORS_COLLECTION_PROVIDER_NAME_CONFIG_KEY);\n\nclass ErrorReportingService {\n  constructor(logger) {\n    this.isEnabled = false;\n    this.providerName = DEFAULT_ERROR_REPORT_PROVIDER;\n    this.provider = undefined;\n    this.logger = logger;\n    this.onClientReady = this.onClientReady.bind(this);\n    this.exposeToGlobal = this.exposeToGlobal.bind(this);\n  }\n\n  init(sourceConfig, sourceId) {\n    if (!sourceConfig || !sourceId) {\n      this.logger.error(\n        `[Analytics] ErrorReporting :: Invalid configuration or missing source id provided.`,\n      );\n      return;\n    }\n\n    // Initialize error reporting based on enable option from sourceConfig\n    if (getErrorCollectionEnabledFromConfig(sourceConfig) === true) {\n      this.enable();\n      this.setProviderName(getProviderNameFromConfig(sourceConfig));\n      this.initProvider(sourceConfig, sourceId);\n    } else {\n      this.disable();\n    }\n  }\n\n  enable() {\n    this.isEnabled = true;\n  }\n\n  disable() {\n    this.isEnabled = false;\n  }\n\n  setProviderName(providerName) {\n    if (!providerName) {\n      this.providerName = DEFAULT_ERROR_REPORT_PROVIDER;\n      return;\n    }\n\n    if (providerName && !AVAILABLE_ERROR_REPORT_PROVIDERS.includes(providerName)) {\n      this.logger.error(\n        `[Analytics] ErrorReporting :: Invalid error reporting provider value. Value should be one of: ${AVAILABLE_ERROR_REPORT_PROVIDERS.join(\n          ',',\n        )}`,\n      );\n      return;\n    }\n\n    this.providerName = providerName;\n  }\n\n  initProvider(sourceConfig, sourceId) {\n    // eslint-disable-next-line sonarjs/no-small-switch\n    switch (this.providerName) {\n      case ERROR_REPORT_PROVIDER_NAME_BUGSNAG:\n        this.provider = new BugsnagProvider(sourceId, this.onClientReady);\n        break;\n      default:\n        break;\n    }\n  }\n\n  onClientReady() {\n    this.exposeToGlobal();\n  }\n\n  // Expose the error reporting service as global variable after provider is ready,\n  // so it can be used without injecting the service to consumer methods\n  exposeToGlobal() {\n    window.rudderanalytics[ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME] = this;\n  }\n\n  leaveBreadcrumb(breadcrumb) {\n    if (this.provider) {\n      try {\n        this.provider.leaveBreadcrumb(breadcrumb);\n      } catch (e) {\n        this.logger.error(`[Analytics] ErrorReporting :: leaveBreadcrumb method ${e.toString()}`);\n      }\n    }\n  }\n\n  notify(error) {\n    if (this.provider) {\n      try {\n        this.provider.notify(error);\n      } catch (e) {\n        this.logger.error(`[Analytics] ErrorReporting :: notify method ${e.toString()}`);\n      }\n    }\n  }\n}\n\nexport { ErrorReportingService };\n","/* eslint-disable compat/compat */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-param-reassign */\n/* eslint-disable prefer-promise-reject-errors */\n/* eslint-disable consistent-return */\nimport { removeTrailingSlashes } from '../../../utils/utils';\nimport { createPayload } from './util';\nimport { handleError } from '../../../utils/errorHandler';\nimport { stringifyWithoutCircular } from '../../../utils/ObjectUtils';\n\nconst timeout = 10 * 1000;\nconst EVENT_CHECK_INTERVAL = 100;\nconst RETRY_INTERVAL = 500;\nconst backoffFactor = 2;\n\nclass TransformationsHandler {\n  constructor() {\n    this.retryAttempt = 3; // default value for retry\n    this.queue = [];\n    this.isTransformationProcessing = false;\n    this.authToken = null;\n  }\n\n  init(writeKey, dataPlaneUrl, authToken) {\n    this.dataPlaneUrl = removeTrailingSlashes(dataPlaneUrl);\n    this.writeKey = writeKey;\n    this.authToken = authToken || this.authToken;\n    this.start();\n  }\n\n  // Enqueue the events and callbacks\n  enqueue(event, cb) {\n    this.queue.push({\n      event,\n      cb,\n    });\n  }\n\n  /**\n   * A helper function that will take one payload at a time and send it to transformation server\n   * and return the response\n   *\n   */\n  sendEventForTransformation(payload, retryAttempt) {\n    return new Promise((resolve, reject) => {\n      const url = `${this.dataPlaneUrl}/transform`;\n      const headers = {\n        'Content-Type': 'application/json',\n        Authorization: `Basic ${btoa(`${this.writeKey}:`)}`,\n      };\n\n      try {\n        const xhr = new XMLHttpRequest();\n        xhr.open('POST', url, true);\n        Object.keys(headers).forEach((k) => xhr.setRequestHeader(k, headers[k]));\n        xhr.timeout = timeout;\n\n        xhr.onreadystatechange = () => {\n          if (xhr.readyState === 4) {\n            try {\n              const { status } = xhr;\n              let { response } = xhr;\n\n              if (status === 200) {\n                if (response && typeof response === 'string') {\n                  response = JSON.parse(response);\n                } else {\n                  reject(`[Transformation]:: Transformation failed. Invalid response from server.`);\n                  return;\n                }\n                /**\n                 * Sample Response format:\n                 * {\n                    \"transformedBatch\" :[\n                      {\n                        \"id\": \"destination-id\",\n                        \"payload\": [\n                          {\n                            \"orderNo\":1,\n                            \"status\": \"200\",\n                            \"event\": {\n                              \"message\": { ...}\n                          }]\n                      }]\n                    } \n                */\n                resolve({\n                  transformedPayload: response.transformedBatch,\n                  transformationServerAccess: true,\n                });\n                return;\n              }\n              if (status === 400) {\n                const errorMessage = response\n                  ? `[Transformation]:: ${response}`\n                  : `[Transformation]:: Invalid request payload`;\n                reject(errorMessage);\n                return;\n              }\n              if (status === 404) {\n                resolve({\n                  transformedPayload: payload.batch,\n                  transformationServerAccess: false,\n                });\n                return;\n              }\n\n              // If the request is not successful\n              // one or more transformation is unsuccessfull\n              // retry till the retryAttempt is exhausted\n              if (retryAttempt > 0) {\n                const newRetryAttempt = retryAttempt - 1;\n                setTimeout(\n                  () =>\n                    this.sendEventForTransformation(payload, newRetryAttempt)\n                      .then(resolve)\n                      .catch(reject),\n                  RETRY_INTERVAL * backoffFactor ** (this.retryAttempt - newRetryAttempt),\n                );\n              } else {\n                // Even after all the retries event transformation\n                // is not successful, ignore the event\n                reject(`[Transformation]:: Transformation failed with status ${status}`);\n                return;\n              }\n            } catch (err) {\n              reject(err);\n            }\n          }\n        };\n        xhr.send(stringifyWithoutCircular(payload, true));\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  checkQueueLengthAndProcess() {\n    if (this.queue.length > 0) {\n      this.process();\n    }\n  }\n\n  /**\n   * A helper function that will process the transformation\n   * and return the transformed event payload\n   *\n   */\n  process() {\n    this.isTransformationProcessing = true;\n    const firstElement = this.queue.shift();\n    const payload = createPayload(firstElement.event, this.authToken);\n\n    // Send event for transformation with payload, writekey and retryAttempt\n    this.sendEventForTransformation(payload, this.retryAttempt)\n      .then((outcome) => {\n        this.isTransformationProcessing = false;\n        firstElement.cb(outcome);\n        this.checkQueueLengthAndProcess();\n      })\n      .catch((err) => {\n        if (typeof err === 'string') {\n          handleError(err);\n        } else {\n          handleError(err.message);\n        }\n        this.isTransformationProcessing = false;\n        // send null as response in case of error or retry fail\n        firstElement.cb({ transformedPayload: null });\n        this.checkQueueLengthAndProcess();\n      });\n  }\n\n  start() {\n    setInterval(() => {\n      if (!this.isTransformationProcessing) {\n        this.checkQueueLengthAndProcess();\n      }\n    }, EVENT_CHECK_INTERVAL);\n  }\n\n  setAuthToken(token) {\n    this.authToken = token;\n  }\n}\n\nconst DeviceModeTransformations = new TransformationsHandler();\n\nexport { DeviceModeTransformations };\n","/**\n * A helper function that will take rudderEelement as an event and generate\n * a batch payload that will be sent to transformation server\n *\n */\nconst createPayload = (event, token) => {\n  const orderNo = Date.now();\n  const payload = {\n    metadata: {\n      \"Custom-Authorization\": token\n    },\n    batch: [\n      {\n        orderNo,\n        event: event.message,\n      },\n    ],\n  };\n  return payload;\n};\n\nexport { createPayload };\n","/* eslint-disable prefer-rest-params */\n/* eslint-disable no-use-before-define */\n/* eslint-disable new-cap */\n/* eslint-disable func-names */\n/* eslint-disable eqeqeq */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable guard-for-in */\n/* eslint-disable no-sequences */\n/* eslint-disable no-multi-assign */\n/* eslint-disable no-unused-expressions */\n/* eslint-disable import/extensions */\n/* eslint-disable no-param-reassign */\n/* eslint-disable sonarjs/cognitive-complexity */\nimport Emitter from 'component-emitter';\nimport * as R from 'ramda';\nimport {\n  getJSONTrimmed,\n  generateUUID,\n  getUserProvidedConfigUrl,\n  findAllEnabledDestinations,\n  transformToRudderNames,\n  transformToServerNames,\n  checkReservedKeywords,\n  getConfigUrl,\n  getSDKUrlInfo,\n  commonNames,\n  getStringId,\n  resolveDataPlaneUrl,\n  fetchCookieConsentState,\n  parseQueryString,\n} from '../utils/utils';\nimport { getReferrer, getReferringDomain, getDefaultPageProperties } from '../utils/pageProperties';\nimport { handleError } from '../utils/errorHandler';\nimport {\n  MAX_WAIT_FOR_INTEGRATION_LOAD,\n  INTEGRATION_LOAD_CHECK_INTERVAL,\n  DEST_SDK_BASE_URL,\n  INTG_SUFFIX,\n  POLYFILL_URL,\n  SAMESITE_COOKIE_OPTS,\n  UA_CH_LEVELS,\n  DEFAULT_INTEGRATIONS_CONFIG,\n  DEFAULT_DATA_PLANE_EVENTS_BUFFER_TIMEOUT_MS,\n} from '../utils/constants';\nimport RudderElementBuilder from '../utils/RudderElementBuilder';\nimport Storage from '../utils/storage';\nimport { EventRepository } from '../utils/EventRepository';\nimport PreProcessQueue from '../utils/PreProcessQueue';\nimport logger from '../utils/logUtil';\nimport ScriptLoader from '../utils/ScriptLoader';\nimport parseLinker from '../utils/linker';\nimport { configToIntNames } from '../utils/config_to_integration_names';\nimport CookieConsentFactory from '../features/core/cookieConsent/CookieConsentFactory';\nimport { UserSession } from '../features/core/session';\nimport { mergeContext, mergeTopLevelElementsMutator } from '../utils/eventProcessorUtils';\nimport {\n  getMergedClientSuppliedIntegrations,\n  constructMessageIntegrationsObj,\n} from '../utils/IntegrationsData';\nimport { getIntegrationsCDNPath } from '../utils/cdnPaths';\nimport { ErrorReportingService } from '../features/core/metrics/errorReporting/ErrorReportingService';\nimport { getUserAgentClientHint } from '../utils/clientHint';\nimport { DeviceModeTransformations } from '../features/core/deviceModeTransformation/transformationHandler';\n\n/**\n * class responsible for handling core\n * event tracking functionalities\n */\nclass Analytics {\n  /**\n   * Creates an instance of Analytics.\n   * @memberof Analytics\n   */\n  constructor() {\n    this.initialized = false;\n    this.clientIntegrations = [];\n    this.loadOnlyIntegrations = {};\n    this.clientIntegrationObjects = undefined;\n    this.successfullyLoadedIntegration = [];\n    this.failedToBeLoadedIntegration = [];\n    this.toBeProcessedArray = [];\n    this.toBeProcessedByIntegrationArray = [];\n    this.storage = Storage;\n    this.eventRepository = EventRepository;\n    this.preProcessQueue = new PreProcessQueue();\n    this.sendAdblockPage = false;\n    this.sendAdblockPageOptions = {};\n    this.clientSuppliedCallbacks = {};\n    // Array to store the callback functions registered in the ready API\n    this.readyCallbacks = [];\n    this.methodToCallbackMapping = {\n      syncPixel: 'syncPixelCallback',\n    };\n    this.loaded = false;\n    this.loadIntegration = true;\n    this.bufferDataPlaneEventsUntilReady = false;\n    this.dataPlaneEventsBufferTimeout = DEFAULT_DATA_PLANE_EVENTS_BUFFER_TIMEOUT_MS;\n    this.integrationsData = {};\n    this.dynamicallyLoadedIntegrations = {};\n    this.destSDKBaseURL = DEST_SDK_BASE_URL;\n    this.cookieConsentOptions = {};\n    this.logLevel = undefined;\n    // flag to indicate client integrations` ready status\n    this.clientIntegrationsReady = false;\n    this.uSession = UserSession;\n    this.version = '__PACKAGE_VERSION__';\n    this.lockIntegrationsVersion = false;\n    this.errorReporting = new ErrorReportingService(logger);\n    this.deniedConsentIds = [];\n    this.transformationHandler = DeviceModeTransformations;\n  }\n\n  /**\n   * initialize the user after load config\n   */\n  initializeUser(anonymousIdOptions) {\n    // save once for storing older values to encrypted\n    this.userId = this.storage.getUserId() || '';\n    this.storage.setUserId(this.userId);\n\n    this.userTraits = this.storage.getUserTraits() || {};\n    this.storage.setUserTraits(this.userTraits);\n\n    this.groupId = this.storage.getGroupId() || '';\n    this.storage.setGroupId(this.groupId);\n\n    this.groupTraits = this.storage.getGroupTraits() || {};\n    this.storage.setGroupTraits(this.groupTraits);\n\n    this.anonymousId = this.getAnonymousId(anonymousIdOptions);\n    this.storage.setAnonymousId(this.anonymousId);\n  }\n\n  setInitialPageProperties() {\n    if (\n      this.storage.getInitialReferrer() == null &&\n      this.storage.getInitialReferringDomain() == null\n    ) {\n      const initialReferrer = getReferrer();\n      this.storage.setInitialReferrer(initialReferrer);\n      this.storage.setInitialReferringDomain(getReferringDomain(initialReferrer));\n    }\n  }\n\n  allModulesInitialized(time = 0) {\n    return new Promise((resolve) => {\n      if (\n        this.clientIntegrations.every(\n          (intg) =>\n            this.dynamicallyLoadedIntegrations[`${configToIntNames[intg.name]}${INTG_SUFFIX}`] !=\n            undefined,\n        )\n      ) {\n        // logger.debug(\n        //   \"All integrations loaded dynamically\",\n        //   this.dynamicallyLoadedIntegrations\n        // );\n        resolve(this);\n      } else if (time >= 2 * MAX_WAIT_FOR_INTEGRATION_LOAD) {\n        // logger.debug(\"Max wait for dynamically loaded integrations over\")\n        resolve(this);\n      } else {\n        this.pause(INTEGRATION_LOAD_CHECK_INTERVAL).then(() =>\n          // logger.debug(\"Check if all integration SDKs are loaded after pause\")\n          this.allModulesInitialized(time + INTEGRATION_LOAD_CHECK_INTERVAL).then(resolve),\n        );\n      }\n    });\n  }\n\n  /**\n   * Function to execute the ready method callbacks\n   * @param {Analytics} self\n   */\n  executeReadyCallback() {\n    this.readyCallbacks.forEach((callback) => callback());\n  }\n\n  /**\n   * A function to validate integration SDK is available in window\n   * and integration constructor is not undefined\n   * @param {string} pluginName\n   * @param {string} modName\n   * @returns boolean\n   */\n  integrationSDKLoaded(pluginName, modName) {\n    try {\n      return (\n        pluginName &&\n        modName &&\n        window[pluginName] &&\n        window.hasOwnProperty(pluginName) &&\n        window[pluginName][modName] &&\n        typeof window[pluginName][modName].prototype &&\n        typeof window[pluginName][modName].prototype.constructor !== 'undefined'\n      );\n    } catch (e) {\n      handleError(e, `While attempting to load ${pluginName} ${modName}`);\n      return false;\n    }\n  }\n\n  /**\n   * Process the response from control plane and\n   * call initialize for integrations\n   *\n   * @param {*} status\n   * @param {*} responseVal\n   * @memberof Analytics\n   */\n  processResponse(status, responseVal) {\n    try {\n      // logger.debug(`===in process response=== ${status}`);\n\n      let response = responseVal;\n      try {\n        if (typeof responseVal === 'string') {\n          response = JSON.parse(responseVal);\n        }\n\n        // Do not proceed if the ultimate response value is not an object\n        if (!response || typeof response !== 'object' || Array.isArray(response)) {\n          logger.error('Invalid source configuration');\n          return;\n        }\n      } catch (err) {\n        handleError(err);\n        return;\n      }\n\n      // Initialise error reporting provider if set in source config\n      try {\n        this.errorReporting.init(response.source.config, response.source.id);\n      } catch (err) {\n        handleError(err);\n      }\n\n      // determine the dataPlaneUrl\n      this.serverUrl = resolveDataPlaneUrl(response, this.serverUrl, this.options);\n\n      // Initialize event repository\n      this.eventRepository.initialize(this.writeKey, this.serverUrl, this.options);\n      this.loaded = true;\n      // Initialize transformation handler once we determine the dataPlaneUrl\n      this.transformationHandler.init(this.writeKey, this.serverUrl, this.storage.getAuthToken());\n\n      // Execute onLoaded callback if provided in load options\n      if (this.options && typeof this.options.onLoaded === 'function') {\n        this.options.onLoaded(this);\n      }\n\n      // Execute any pending buffered requests\n      // (needed if the load call was not previously buffered)\n      processDataInAnalyticsArray(this);\n\n      response.source.destinations.forEach(function (destination) {\n        // logger.debug(\n        //   `Destination ${index} Enabled? ${destination.enabled} Type: ${destination.destinationDefinition.name} Use Native SDK? true`\n        // );\n        if (destination.enabled) {\n          this.clientIntegrations.push({\n            name: destination.destinationDefinition.name,\n            config: destination.config,\n            destinationInfo: {\n              areTransformationsConnected: destination.areTransformationsConnected || false,\n              destinationId: destination.id,\n            },\n          });\n        }\n      }, this);\n\n      // intersection of config-plane native sdk destinations with sdk load time destination list\n      this.clientIntegrations = findAllEnabledDestinations(\n        this.loadOnlyIntegrations,\n        this.clientIntegrations,\n      );\n      // Check if cookie consent manager is being set through load options\n      if (Object.keys(this.cookieConsentOptions).length > 0) {\n        // Call the cookie consent factory to initialise and return the type of cookie\n        // consent being set. For now we only support OneTrust.\n        try {\n          const cookieConsent = CookieConsentFactory.initialize(this.cookieConsentOptions);\n          // Fetch denied consent group Ids and pass it to cloud mode\n          this.deniedConsentIds = cookieConsent && cookieConsent.getDeniedList();\n          // If cookie consent object is return we filter according to consents given by user\n          // else we do not consider any filtering for cookie consent.\n          this.clientIntegrations = this.clientIntegrations.filter(\n            (intg) =>\n              !cookieConsent || // check if cookieconsent object is present and then do filtering\n              (cookieConsent && cookieConsent.isEnabled(intg.config)),\n          );\n        } catch (e) {\n          handleError(e);\n        }\n      }\n\n      // filter destination that doesn't have mapping config-->Integration names\n      this.clientIntegrations = this.clientIntegrations.filter((intg) => {\n        if (configToIntNames[intg.name]) {\n          return true;\n        }\n        logger.error(`[Analytics] Integration:: ${intg.name} not available for initialization`);\n        return false;\n      });\n\n      let suffix = ''; // default suffix\n\n      // Get the CDN base URL is rudder staging url\n      const { isStaging } = getSDKUrlInfo();\n      if (isStaging) {\n        suffix = '-staging'; // stagging suffix\n      }\n\n      if (this.bufferDataPlaneEventsUntilReady) {\n        // Fallback logic to process buffered cloud mode events if integrations are failed to load in given interval\n        setTimeout(() => {\n          this.processBufferedCloudModeEvents();\n        }, this.dataPlaneEventsBufferTimeout);\n      }\n\n      this.errorReporting.leaveBreadcrumb('Starting device-mode initialization');\n      // logger.debug(\"this.clientIntegrations: \", this.clientIntegrations)\n      // Load all the client integrations dynamically\n      this.clientIntegrations.forEach((intg) => {\n        const modName = configToIntNames[intg.name]; // script URL can be constructed from this\n        const pluginName = `${modName}${INTG_SUFFIX}`; // this is the name of the object loaded on the window\n        const modURL = `${this.destSDKBaseURL}/${modName}${suffix}.min.js`;\n\n        if (!window.hasOwnProperty(pluginName)) {\n          ScriptLoader(pluginName, modURL, { isNonNativeSDK: true });\n        }\n\n        const self = this;\n        const interval = setInterval(() => {\n          if (self.integrationSDKLoaded(pluginName, modName)) {\n            const intMod = window[pluginName];\n            clearInterval(interval);\n\n            // logger.debug(pluginName, \" dynamically loaded integration SDK\");\n\n            let intgInstance;\n            try {\n              const msg = `[Analytics] processResponse :: trying to initialize integration name:: ${pluginName}`;\n              // logger.debug(msg);\n              this.errorReporting.leaveBreadcrumb(msg);\n              intgInstance = new intMod[modName](intg.config, self, intg.destinationInfo);\n              intgInstance.init();\n\n              // logger.debug(pluginName, \" initializing destination\");\n\n              self.isInitialized(intgInstance).then(() => {\n                // logger.debug(pluginName, \" module init sequence complete\");\n                self.dynamicallyLoadedIntegrations[pluginName] = intMod[modName];\n              });\n            } catch (e) {\n              const message = `[Analytics] 'integration.init()' failed :: ${pluginName} :: ${e.message}`;\n              handleError(e, message);\n              self.failedToBeLoadedIntegration.push(intgInstance);\n            }\n          }\n        }, 100);\n\n        setTimeout(() => {\n          clearInterval(interval);\n        }, MAX_WAIT_FOR_INTEGRATION_LOAD);\n      });\n\n      const self = this;\n      this.allModulesInitialized().then(() => {\n        if (!self.clientIntegrations || self.clientIntegrations.length === 0) {\n          // If no integrations are there to be loaded\n          // set clientIntegrationsReady to be true\n          this.clientIntegrationsReady = true;\n          // Execute the callbacks if any\n          this.executeReadyCallback();\n          this.toBeProcessedByIntegrationArray = [];\n          return;\n        }\n\n        self.replayEvents(self);\n      });\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  /**\n   * A function to send single event to a destination\n   * @param {instance} destination\n   * @param {Object} rudderElement\n   * @param {String} methodName\n   */\n  sendDataToDestination(destination, rudderElement, methodName) {\n    try {\n      if (destination[methodName]) {\n        const clonedRudderElement = R.clone(rudderElement);\n        destination[methodName](clonedRudderElement);\n      }\n    } catch (err) {\n      const message = `[sendToNative]:: [Destination: ${destination.name}]:: `;\n      handleError(err, message);\n    }\n  }\n\n  sendTransformedDataToDestination(destWithTransformation, rudderElement, methodName) {\n    try {\n      // convert integrations object to server identified names, kind of hack now!\n      transformToServerNames(rudderElement.message.integrations);\n\n      // Process Transformation\n      this.transformationHandler.enqueue(\n        rudderElement,\n        ({ transformedPayload, transformationServerAccess }) => {\n          if (transformedPayload) {\n            destWithTransformation.forEach((intg) => {\n              try {\n                let transformedEvents = [];\n                if (transformationServerAccess) {\n                  // filter the transformed event for that destination\n                  const destTransformedResult = transformedPayload.find(\n                    (e) => e.id === intg.destinationId,\n                  );\n                  if (!destTransformedResult) {\n                    logger.error(\n                      `[DMT]::Transformed data for destination \"${intg.name}\" was not sent from the server`,\n                    );\n                    return;\n                  }\n\n                  destTransformedResult?.payload.forEach((tEvent) => {\n                    if (tEvent.status === '200') {\n                      transformedEvents.push(tEvent);\n                    } else {\n                      logger.error(\n                        `[DMT]::Event transformation unsuccessful for destination \"${intg.name}\". Dropping the event. Status: \"${tEvent.status}\". Error Message: \"${tEvent.error}\"`,\n                      );\n                    }\n                  });\n                } else {\n                  transformedEvents = transformedPayload;\n                }\n                // send transformed event to destination\n                transformedEvents?.forEach((tEvent) => {\n                  if (tEvent.event) {\n                    this.sendDataToDestination(intg, { message: tEvent.event }, methodName);\n                  }\n                });\n              } catch (e) {\n                if (e instanceof Error) {\n                  e.message = `[DMT]::[Destination:${intg.name}]:: ${e.message}`;\n                }\n                handleError(e);\n              }\n            });\n          }\n        },\n      );\n    } catch (e) {\n      if (e instanceof Error) {\n        e.message = `[DMT]:: ${e.message}`;\n      }\n      handleError(e);\n    }\n  }\n\n  /**\n   * A function to process and send events to device mode destinations\n   * @param {instance} destinations\n   * @param {Object} rudderElement\n   * @param {String} methodName\n   */\n  processAndSendEventsToDeviceMode(destinations, rudderElement, methodName) {\n    const destWithoutTransformation = [];\n    const destWithTransformation = [];\n\n    // Depending on transformation is connected or not\n    // create two sets of destinations\n    destinations.forEach((intg) => {\n      const sendEvent = !this.IsEventBlackListed(rudderElement.message.event, intg.name);\n\n      // Block the event if it is blacklisted for the device-mode destination\n      if (sendEvent) {\n        if (intg.areTransformationsConnected) {\n          destWithTransformation.push(intg);\n        } else {\n          destWithoutTransformation.push(intg);\n        }\n      }\n    });\n    // loop through destinations that doesn't have\n    // transformation connected with it and send events\n    destWithoutTransformation.forEach((intg) => {\n      this.sendDataToDestination(intg, rudderElement, methodName);\n    });\n\n    if (destWithTransformation.length > 0) {\n      this.sendTransformedDataToDestination(destWithTransformation, rudderElement, methodName);\n    }\n  }\n\n  /**\n   *\n   * @param {*} type\n   * @param {*} rudderElement\n   * Sends cloud mode events to server\n   */\n  queueEventForDataPlane(type, rudderElement) {\n    // if not specified at event level, All: true is default\n    const clientSuppliedIntegrations = rudderElement.message.integrations || { All: true };\n    rudderElement.message.integrations = getMergedClientSuppliedIntegrations(\n      this.integrationsData,\n      clientSuppliedIntegrations,\n    );\n    // self analytics process, send to rudder\n    this.eventRepository.enqueue(rudderElement, type);\n  }\n\n  /**\n   * Processes the buffered cloud mode events and sends it to server\n   */\n  processBufferedCloudModeEvents() {\n    if (this.bufferDataPlaneEventsUntilReady) {\n      this.preProcessQueue.activateProcessor();\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  replayEvents(object) {\n    // logger.debug(\n    //   \"===replay events called====\",\n    //   \" successfully loaded count: \",\n    //   object.successfullyLoadedIntegration.length,\n    //   \" failed loaded count: \",\n    //   object.failedToBeLoadedIntegration.length\n    // );\n    this.errorReporting.leaveBreadcrumb(`Started replaying buffered events`);\n    // eslint-disable-next-line no-param-reassign\n    object.clientIntegrationObjects = [];\n    // eslint-disable-next-line no-param-reassign\n    object.clientIntegrationObjects = object.successfullyLoadedIntegration;\n\n    // logger.debug(\n    //   \"==registering after callback===\",\n    //   \" after to be called after count : \",\n    //   object.clientIntegrationObjects.length\n    // );\n\n    if (object.clientIntegrationObjects.every((intg) => !intg.isReady || intg.isReady())) {\n      // Integrations are ready\n      // set clientIntegrationsReady to be true\n      this.integrationsData = constructMessageIntegrationsObj(\n        this.integrationsData,\n        object.clientIntegrationObjects,\n      );\n      object.clientIntegrationsReady = true;\n      // Execute the callbacks if any\n      object.executeReadyCallback();\n    }\n\n    this.processBufferedCloudModeEvents();\n\n    // send the queued events to the fetched integration\n    object.toBeProcessedByIntegrationArray.forEach((event) => {\n      const methodName = event[0];\n      event.shift();\n\n      // convert common names to sdk identified name\n      if (Object.keys(event[0].message.integrations).length > 0) {\n        transformToRudderNames(event[0].message.integrations);\n      }\n\n      // if not specified at event level, All: true is default\n      const clientSuppliedIntegrations = event[0].message.integrations;\n\n      // get intersection between config plane native enabled destinations\n      // (which were able to successfully load on the page) vs user supplied integrations\n      const successfulLoadedIntersectClientSuppliedIntegrations = findAllEnabledDestinations(\n        clientSuppliedIntegrations,\n        object.clientIntegrationObjects,\n      );\n\n      // send to all integrations now from the 'toBeProcessedByIntegrationArray' replay queue\n      this.processAndSendEventsToDeviceMode(\n        successfulLoadedIntersectClientSuppliedIntegrations,\n        event[0],\n        methodName,\n      );\n    });\n    object.toBeProcessedByIntegrationArray = [];\n  }\n\n  pause(time) {\n    return new Promise((resolve) => {\n      setTimeout(resolve, time);\n    });\n  }\n\n  isInitialized(instance, time = 0) {\n    return new Promise((resolve) => {\n      if (instance.isLoaded()) {\n        // logger.debug(\"===integration loaded successfully====\", instance.name)\n        this.successfullyLoadedIntegration.push(instance);\n        resolve(this);\n      } else if (time >= MAX_WAIT_FOR_INTEGRATION_LOAD) {\n        // logger.debug(\"====max wait over====\")\n        this.failedToBeLoadedIntegration.push(instance);\n        resolve(this);\n      } else {\n        this.pause(INTEGRATION_LOAD_CHECK_INTERVAL).then(() =>\n          // logger.debug(\"====after pause, again checking====\")\n          this.isInitialized(instance, time + INTEGRATION_LOAD_CHECK_INTERVAL).then(resolve),\n        );\n      }\n    });\n  }\n\n  /**\n   * Process page params and forward to page call\n   *\n   * @param {*} category\n   * @param {*} name\n   * @param {*} properties\n   * @param {*} options\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  page(category, name, properties, options, callback) {\n    this.errorReporting.leaveBreadcrumb(`Page event`);\n    if (!this.loaded) {\n      this.toBeProcessedArray.push(['page', ...arguments]);\n      return;\n    }\n    if (typeof options === 'function') (callback = options), (options = null);\n    if (typeof properties === 'function') (callback = properties), (options = properties = null);\n    if (typeof name === 'function') (callback = name), (options = properties = name = null);\n    if (typeof category === 'function')\n      (callback = category), (options = properties = name = category = null);\n    if (typeof category === 'object' && category != null && category != undefined)\n      (options = name), (properties = category), (name = category = null);\n    if (typeof name === 'object' && name != null && name != undefined)\n      (options = properties), (properties = name), (name = null);\n    if (typeof category === 'string' && typeof name !== 'string')\n      (name = category), (category = null);\n    if (this.sendAdblockPage && category != 'RudderJS-Initiated') {\n      this.sendSampleRequest();\n    }\n    let clonedProperties = R.clone(properties);\n    const clonedOptions = R.clone(options);\n\n    const rudderElement = new RudderElementBuilder().setType('page').build();\n    if (!clonedProperties) {\n      clonedProperties = {};\n    }\n    if (name) {\n      rudderElement.message.name = clonedProperties.name = name;\n    }\n    if (category) {\n      rudderElement.message.category = clonedProperties.category = category;\n    }\n\n    rudderElement.message.properties = this.getPageProperties(clonedProperties);\n\n    this.processAndSendDataToDestinations('page', rudderElement, clonedOptions, callback);\n  }\n\n  /**\n   * Process track params and forward to track call\n   *\n   * @param {*} event\n   * @param {*} properties\n   * @param {*} options\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  track(event, properties, options, callback) {\n    this.errorReporting.leaveBreadcrumb(`Track event`);\n    if (!this.loaded) {\n      this.toBeProcessedArray.push(['track', ...arguments]);\n      return;\n    }\n    if (typeof options === 'function') (callback = options), (options = null);\n    if (typeof properties === 'function')\n      (callback = properties), (options = null), (properties = null);\n\n    const clonedProperties = R.clone(properties);\n    const clonedOptions = R.clone(options);\n\n    const rudderElement = new RudderElementBuilder().setType('track').build();\n    if (event) {\n      rudderElement.setEventName(event);\n    }\n    rudderElement.setProperty(clonedProperties || {});\n\n    this.processAndSendDataToDestinations('track', rudderElement, clonedOptions, callback);\n  }\n\n  /**\n   * Process identify params and forward to identify  call\n   *\n   * @param {*} userId\n   * @param {*} traits\n   * @param {*} options\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  identify(userId, traits, options, callback) {\n    this.errorReporting.leaveBreadcrumb(`Identify event`);\n    if (!this.loaded) {\n      this.toBeProcessedArray.push(['identify', ...arguments]);\n      return;\n    }\n    if (typeof options === 'function') (callback = options), (options = null);\n    if (typeof traits === 'function') (callback = traits), (options = null), (traits = null);\n    if (typeof userId === 'object') (options = traits), (traits = userId), (userId = this.userId);\n\n    if (userId && this.userId && userId !== this.userId) {\n      this.reset();\n    }\n    this.userId = getStringId(userId);\n    this.storage.setUserId(this.userId);\n\n    const clonedTraits = R.clone(traits);\n    const clonedOptions = R.clone(options);\n\n    if (clonedTraits) {\n      for (const key in clonedTraits) {\n        this.userTraits[key] = clonedTraits[key];\n      }\n      this.storage.setUserTraits(this.userTraits);\n    }\n    const rudderElement = new RudderElementBuilder().setType('identify').build();\n\n    this.processAndSendDataToDestinations('identify', rudderElement, clonedOptions, callback);\n  }\n\n  /**\n   *\n   * @param {*} to\n   * @param {*} from\n   * @param {*} options\n   * @param {*} callback\n   */\n  alias(to, from, options, callback) {\n    this.errorReporting.leaveBreadcrumb(`Alias event`);\n    if (!this.loaded) {\n      this.toBeProcessedArray.push(['alias', ...arguments]);\n      return;\n    }\n    if (typeof options === 'function') (callback = options), (options = null);\n    if (typeof from === 'function') (callback = from), (options = null), (from = null);\n    if (typeof to === 'function') (callback = to), (options = null), (from = null), (to = null);\n    if (typeof from === 'object') (options = from), (from = null);\n    if (typeof to === 'object') (options = to), (from = null), (to = null);\n\n    const rudderElement = new RudderElementBuilder().setType('alias').build();\n\n    rudderElement.message.previousId =\n      getStringId(from) || (this.userId ? this.userId : this.getAnonymousId());\n    rudderElement.message.userId = getStringId(to);\n    const clonedOptions = R.clone(options);\n\n    this.processAndSendDataToDestinations('alias', rudderElement, clonedOptions, callback);\n  }\n\n  /**\n   *\n   * @param {*} to\n   * @param {*} from\n   * @param {*} options\n   * @param {*} callback\n   */\n  group(groupId, traits, options, callback) {\n    this.errorReporting.leaveBreadcrumb(`Group event`);\n    if (!this.loaded) {\n      this.toBeProcessedArray.push(['group', ...arguments]);\n      return;\n    }\n    if (arguments.length === 0) return;\n\n    if (typeof options === 'function') (callback = options), (options = null);\n    if (typeof traits === 'function') (callback = traits), (options = null), (traits = null);\n    if (typeof groupId === 'object')\n      (options = traits), (traits = groupId), (groupId = this.groupId);\n    if (typeof groupId === 'function')\n      (callback = groupId), (options = null), (traits = null), (groupId = this.groupId);\n\n    this.groupId = getStringId(groupId);\n    this.storage.setGroupId(this.groupId);\n    const clonedTraits = R.clone(traits);\n    const clonedOptions = R.clone(options);\n\n    const rudderElement = new RudderElementBuilder().setType('group').build();\n\n    if (clonedTraits) {\n      for (const key in clonedTraits) {\n        this.groupTraits[key] = clonedTraits[key];\n      }\n    } else {\n      this.groupTraits = {};\n    }\n    this.storage.setGroupTraits(this.groupTraits);\n\n    this.processAndSendDataToDestinations('group', rudderElement, clonedOptions, callback);\n  }\n\n  IsEventBlackListed(eventName, intgName) {\n    if (!eventName || !(typeof eventName === 'string')) {\n      return false;\n    }\n    const sdkIntgName = commonNames[intgName];\n    const intg = this.clientIntegrations.find(\n      (clientIntegration) => clientIntegration.name === sdkIntgName,\n    );\n\n    const { blacklistedEvents, whitelistedEvents, eventFilteringOption } = intg.config;\n\n    if (!eventFilteringOption) {\n      return false;\n    }\n\n    const formattedEventName = eventName.trim().toUpperCase();\n    switch (eventFilteringOption) {\n      // disabled filtering\n      case 'disable':\n        return false;\n      // Blacklist is chosen for filtering events\n      case 'blacklistedEvents':\n        if (Array.isArray(blacklistedEvents)) {\n          return blacklistedEvents.some(\n            (eventObj) => eventObj.eventName.trim().toUpperCase() === formattedEventName,\n          );\n        }\n        return false;\n\n      // Whitelist is chosen for filtering events\n      case 'whitelistedEvents':\n        if (Array.isArray(whitelistedEvents)) {\n          return !whitelistedEvents.some(\n            (eventObj) => eventObj.eventName.trim().toUpperCase() === formattedEventName,\n          );\n        }\n        return true;\n\n      default:\n        return false;\n    }\n  }\n\n  /**\n   * A function to determine whether SDK should use the integration option provided in load call\n   * @returns boolean\n   */\n  shouldUseGlobalIntegrationsConfigInEvents() {\n    return (\n      this.useGlobalIntegrationsConfigInEvents &&\n      this.loadOnlyIntegrations &&\n      Object.keys(this.loadOnlyIntegrations).length > 0\n    );\n  }\n\n  /**\n   * Process and send data to destinations along with rudder BE\n   *\n   * @param {*} type\n   * @param {*} rudderElement\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  processAndSendDataToDestinations(type, rudderElement, options, callback) {\n    try {\n      if (!this.anonymousId) {\n        this.setAnonymousId();\n      }\n\n      // assign page properties to context\n      // rudderElement.message.context.page = getDefaultPageProperties();\n      this.errorReporting.leaveBreadcrumb('Started sending data to destinations');\n      rudderElement.message.context.traits = {\n        ...this.userTraits,\n      };\n\n      // logger.debug(\"anonymousId: \", this.anonymousId)\n      rudderElement.message.anonymousId = this.anonymousId;\n      rudderElement.message.userId = rudderElement.message.userId\n        ? rudderElement.message.userId\n        : this.userId;\n\n      if (type == 'group') {\n        if (this.groupId) {\n          rudderElement.message.groupId = this.groupId;\n        }\n        if (this.groupTraits) {\n          rudderElement.message.traits = {\n            ...this.groupTraits,\n          };\n        }\n      }\n      // If auto/manual session tracking is enabled sessionId will be sent in the context\n      try {\n        const { sessionId, sessionStart } = this.uSession.getSessionInfo();\n        rudderElement.message.context.sessionId = sessionId;\n        if (sessionStart) rudderElement.message.context.sessionStart = true;\n      } catch (e) {\n        handleError(e);\n      }\n      // If cookie consent is enabled attach the denied consent group Ids to the context\n      if (fetchCookieConsentState(this.cookieConsentOptions)) {\n        rudderElement.message.context.consentManagement = {\n          deniedConsentIds: this.deniedConsentIds || [],\n        };\n      }\n\n      this.processOptionsParam(rudderElement, options);\n      // logger.debug(JSON.stringify(rudderElement))\n\n      // check for reserved keys and log\n      checkReservedKeywords(rudderElement.message, type);\n\n      let clientSuppliedIntegrations = rudderElement.message.integrations;\n\n      if (clientSuppliedIntegrations) {\n        // structure user supplied integrations object to rudder format\n        transformToRudderNames(clientSuppliedIntegrations);\n      } else if (this.shouldUseGlobalIntegrationsConfigInEvents()) {\n        // when useGlobalIntegrationsConfigInEvents load option is set to true and integration object provided in load\n        // is not empty use it at event level\n        clientSuppliedIntegrations = this.loadOnlyIntegrations;\n      } else {\n        // if not specified at event level, use default integration option\n        clientSuppliedIntegrations = DEFAULT_INTEGRATIONS_CONFIG;\n      }\n\n      rudderElement.message.integrations = clientSuppliedIntegrations;\n\n      try {\n        rudderElement.message.context['ua-ch'] = this.uach;\n      } catch (err) {\n        handleError(err);\n      }\n\n      // config plane native enabled destinations, still not completely loaded\n      // in the page, add the events to a queue and process later\n      if (!this.clientIntegrationObjects) {\n        // logger.debug(\"pushing in replay queue\")\n        // new event processing after analytics initialized  but integrations not fetched from BE\n        this.toBeProcessedByIntegrationArray.push([type, rudderElement]);\n      } else {\n        // get intersection between config plane native enabled destinations\n        // (which were able to successfully load on the page) vs user supplied integrations\n        const successfulLoadedIntersectClientSuppliedIntegrations = findAllEnabledDestinations(\n          clientSuppliedIntegrations,\n          this.clientIntegrationObjects,\n        );\n\n        // try to first send to all integrations, if list populated from BE\n        this.processAndSendEventsToDeviceMode(\n          successfulLoadedIntersectClientSuppliedIntegrations,\n          rudderElement,\n          type,\n        );\n      }\n\n      const clonedRudderElement = R.clone(rudderElement);\n      // convert integrations object to server identified names, kind of hack now!\n      transformToServerNames(clonedRudderElement.message.integrations);\n\n      // Holding the cloud mode events based on flag and integrations load check\n      const shouldNotBufferDataPlaneEvents =\n        !this.bufferDataPlaneEventsUntilReady || this.clientIntegrationObjects;\n      if (shouldNotBufferDataPlaneEvents) {\n        this.queueEventForDataPlane(type, clonedRudderElement);\n      } else {\n        this.preProcessQueue.enqueue(type, clonedRudderElement);\n      }\n\n      // logger.debug(`${type} is called `)\n      if (callback && typeof callback === 'function') {\n        callback(clonedRudderElement);\n      }\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  utm(url) {\n    const result = {};\n    try {\n      const urlObj = new URL(url);\n      const UTM_PREFIX = 'utm_';\n      urlObj.searchParams.forEach((value, sParam) => {\n        if (sParam.startsWith(UTM_PREFIX)) {\n          let utmParam = sParam.substring(UTM_PREFIX.length);\n          // Not sure why we're doing this\n          if (utmParam === 'campaign') {\n            utmParam = 'name';\n          }\n          result[utmParam] = value;\n        }\n      });\n    } catch (error) {\n      // Do nothing\n    }\n    return result;\n  }\n\n  /**\n   * add campaign parsed details under context\n   * @param {*} rudderElement\n   */\n  addCampaignInfo(rudderElement) {\n    const msgContext = rudderElement.message.context;\n    if (msgContext && typeof msgContext === 'object') {\n      const { url } = getDefaultPageProperties();\n      rudderElement.message.context.campaign = this.utm(url);\n    }\n  }\n\n  /**\n   * process options parameter\n   * Apart from top level keys merge everything under context\n   * context.page's default properties are overridden by same keys of\n   * provided properties in case of page call\n   *\n   * @param {*} rudderElement\n   * @param {*} options\n   * @memberof Analytics\n   */\n  processOptionsParam(rudderElement, options) {\n    const { type, properties } = rudderElement.message;\n\n    this.addCampaignInfo(rudderElement);\n\n    // assign page properties to context.page\n    // eslint-disable-next-line unicorn/consistent-destructuring\n    rudderElement.message.context.page = this.getContextPageProperties(\n      type === 'page' ? properties : undefined,\n    );\n    mergeTopLevelElementsMutator(rudderElement.message, options);\n    rudderElement.message.context = mergeContext(rudderElement.message, options);\n  }\n\n  getPageProperties(properties, options) {\n    const defaultPageProperties = getDefaultPageProperties();\n    const optionPageProperties = (options && options.page) || {};\n    for (const key in defaultPageProperties) {\n      if (properties[key] === undefined) {\n        properties[key] = optionPageProperties[key] || defaultPageProperties[key];\n      }\n    }\n    return properties;\n  }\n\n  // Assign page properties to context.page if the same property is not provided under context.page\n  getContextPageProperties(properties) {\n    const defaultPageProperties = getDefaultPageProperties();\n    const contextPageProperties = {};\n    for (const key in defaultPageProperties) {\n      contextPageProperties[key] =\n        properties && properties[key] ? properties[key] : defaultPageProperties[key];\n    }\n    return contextPageProperties;\n  }\n\n  /**\n   * Clear user information\n   *\n   * @memberof Analytics\n   */\n  reset(flag) {\n    this.errorReporting.leaveBreadcrumb(`reset API :: flag: ${flag}`);\n\n    if (!this.loaded) {\n      this.toBeProcessedArray.push(['reset', flag]);\n      return;\n    }\n    if (flag) {\n      this.anonymousId = '';\n    }\n    this.userId = '';\n    this.userTraits = {};\n    this.groupId = '';\n    this.groupTraits = {};\n    this.uSession.reset();\n    this.storage.clear(flag);\n  }\n\n  getAnonymousId(anonymousIdOptions) {\n    // if (!this.loaded) return;\n    this.anonymousId = this.storage.getAnonymousId(anonymousIdOptions);\n    if (!this.anonymousId) {\n      this.setAnonymousId();\n    }\n    return this.anonymousId;\n  }\n\n  getUserId() {\n    return this.userId;\n  }\n\n  getSessionId() {\n    return this.uSession.getSessionId();\n  }\n\n  getUserTraits() {\n    return this.userTraits;\n  }\n\n  getGroupId() {\n    return this.groupId;\n  }\n\n  getGroupTraits() {\n    return this.groupTraits;\n  }\n\n  /**\n   * Sets anonymous id in the following precedence:\n   * 1. anonymousId: Id directly provided to the function.\n   * 2. rudderAmpLinkerParm: value generated from linker query parm (rudderstack)\n   *    using praseLinker util.\n   * 3. generateUUID: A new unique id is generated and assigned.\n   *\n   * @param {string} anonymousId\n   * @param {string} rudderAmpLinkerParm\n   */\n  setAnonymousId(anonymousId, rudderAmpLinkerParm) {\n    // if (!this.loaded) return;\n    const parsedAnonymousIdObj = rudderAmpLinkerParm ? parseLinker(rudderAmpLinkerParm) : null;\n    const parsedAnonymousId = parsedAnonymousIdObj ? parsedAnonymousIdObj.rs_amp_id : null;\n    this.anonymousId = anonymousId || parsedAnonymousId || generateUUID();\n    this.storage.setAnonymousId(this.anonymousId);\n  }\n\n  isValidWriteKey(writeKey) {\n    return writeKey && typeof writeKey === 'string' && writeKey.trim().length > 0;\n  }\n\n  isValidServerUrl(serverUrl) {\n    return serverUrl && typeof serverUrl === 'string' && serverUrl.trim().length > 0;\n  }\n\n  isDatasetAvailable() {\n    const t = document.createElement('div');\n    return t.setAttribute('data-a-b', 'c'), t.dataset ? t.dataset.aB === 'c' : false;\n  }\n\n  /**\n   * Load after polyfills are loaded\n   * @param {*} writeKey\n   * @param {*} serverUrl\n   * @param {*} options\n   * @returns\n   */\n  loadAfterPolyfill(writeKey, serverUrl, options) {\n    if (typeof serverUrl === 'object' && serverUrl !== null) {\n      options = serverUrl;\n      serverUrl = null;\n    }\n    if (options && options.logLevel) {\n      this.logLevel = options.logLevel;\n      logger.setLogLevel(options.logLevel);\n    }\n    if (!this.isValidWriteKey(writeKey)) {\n      throw Error('Unable to load the SDK due to invalid writeKey');\n    }\n    if (!this.storage || Object.keys(this.storage).length === 0) {\n      throw Error('Cannot proceed as no storage is available');\n    }\n    if (options && options.cookieConsentManager)\n      this.cookieConsentOptions = options.cookieConsentManager;\n\n    this.writeKey = writeKey;\n    this.serverUrl = serverUrl;\n    this.options = options;\n\n    let storageOptions = {};\n\n    if (options && options.setCookieDomain) {\n      storageOptions = { ...storageOptions, domain: options.setCookieDomain };\n    }\n\n    if (options && typeof options.secureCookie === 'boolean') {\n      storageOptions = { ...storageOptions, secure: options.secureCookie };\n    }\n\n    if (options && SAMESITE_COOKIE_OPTS.indexOf(options.sameSiteCookie) !== -1) {\n      storageOptions = { ...storageOptions, samesite: options.sameSiteCookie };\n    }\n    this.storage.options(storageOptions);\n\n    const isUACHOptionAvailable =\n      options &&\n      typeof options.uaChTrackLevel === 'string' &&\n      UA_CH_LEVELS.includes(options.uaChTrackLevel);\n\n    if (isUACHOptionAvailable) {\n      this.uaChTrackLevel = options.uaChTrackLevel;\n    }\n\n    if (navigator.userAgentData) {\n      getUserAgentClientHint((uach) => {\n        this.uach = uach;\n      }, this.uaChTrackLevel);\n    }\n\n    if (options && options.integrations) {\n      Object.assign(this.loadOnlyIntegrations, options.integrations);\n      transformToRudderNames(this.loadOnlyIntegrations);\n    }\n\n    this.useGlobalIntegrationsConfigInEvents =\n      options && options.useGlobalIntegrationsConfigInEvents === true;\n\n    if (options && options.sendAdblockPage) {\n      this.sendAdblockPage = true;\n    }\n    if (\n      options &&\n      options.sendAdblockPageOptions &&\n      typeof options.sendAdblockPageOptions === 'object'\n    ) {\n      this.sendAdblockPageOptions = options.sendAdblockPageOptions;\n    }\n    // Session initialization\n    this.uSession.initialize(options);\n\n    if (options && options.clientSuppliedCallbacks) {\n      // convert to rudder recognized method names\n      const transformedCallbackMapping = {};\n      Object.keys(this.methodToCallbackMapping).forEach((methodName) => {\n        if (\n          this.methodToCallbackMapping.hasOwnProperty(methodName) &&\n          options.clientSuppliedCallbacks[this.methodToCallbackMapping[methodName]]\n        ) {\n          transformedCallbackMapping[methodName] =\n            options.clientSuppliedCallbacks[this.methodToCallbackMapping[methodName]];\n        }\n      });\n      Object.assign(this.clientSuppliedCallbacks, transformedCallbackMapping);\n      this.registerCallbacks(true);\n    }\n\n    if (options && options.loadIntegration != undefined) {\n      this.loadIntegration = !!options.loadIntegration;\n    }\n\n    if (options && typeof options.bufferDataPlaneEventsUntilReady === 'boolean') {\n      this.bufferDataPlaneEventsUntilReady = options.bufferDataPlaneEventsUntilReady === true;\n      if (this.bufferDataPlaneEventsUntilReady) {\n        this.preProcessQueue.init(this.options, this.queueEventForDataPlane.bind(this));\n      }\n    }\n\n    if (options && typeof options.dataPlaneEventsBufferTimeout === 'number') {\n      this.dataPlaneEventsBufferTimeout = options.dataPlaneEventsBufferTimeout;\n    }\n\n    if (options && options.lockIntegrationsVersion !== undefined) {\n      this.lockIntegrationsVersion = options.lockIntegrationsVersion === true;\n    }\n\n    this.initializeUser(options ? options.anonymousIdOptions : undefined);\n    this.setInitialPageProperties();\n\n    this.destSDKBaseURL = getIntegrationsCDNPath(\n      this.version,\n      this.lockIntegrationsVersion,\n      options && options.destSDKBaseURL,\n    );\n\n    if (options && options.getSourceConfig) {\n      if (typeof options.getSourceConfig !== 'function') {\n        handleError(new Error('option \"getSourceConfig\" must be a function'));\n      } else {\n        const res = options.getSourceConfig();\n\n        if (res instanceof Promise) {\n          res.then((pRes) => this.processResponse(200, pRes)).catch(handleError);\n        } else {\n          this.processResponse(200, res);\n        }\n      }\n      return;\n    }\n\n    let configUrl = getConfigUrl(writeKey);\n    if (options && options.configUrl) {\n      configUrl = getUserProvidedConfigUrl(options.configUrl, configUrl);\n    }\n\n    try {\n      getJSONTrimmed(this, configUrl, writeKey, this.processResponse);\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  arePolyfillsRequired(options) {\n    // check if the below features are available in the browser or not\n    // If not present dynamically load from the polyfill cdn, unless\n    // the options are configured not to.\n    const polyfillIfRequired =\n      options && typeof options.polyfillIfRequired === 'boolean'\n        ? options.polyfillIfRequired\n        : true;\n    return (\n      polyfillIfRequired &&\n      (!String.prototype.endsWith ||\n        !String.prototype.startsWith ||\n        !String.prototype.includes ||\n        !Array.prototype.find ||\n        !Array.prototype.includes ||\n        typeof window.URL !== 'function' ||\n        typeof Promise === 'undefined' ||\n        !Object.entries ||\n        !Object.values ||\n        !String.prototype.replaceAll ||\n        !this.isDatasetAvailable())\n    );\n  }\n\n  /**\n   * Call control pane to get client configs\n   *\n   * @param {*} writeKey\n   * @memberof Analytics\n   */\n  load(writeKey, serverUrl, options) {\n    // logger.debug(\"inside load \");\n    if (this.loaded) return;\n\n    // clone options\n    const clonedOptions = R.clone(options);\n    if (this.arePolyfillsRequired(clonedOptions)) {\n      const id = 'polyfill';\n      ScriptLoader(id, POLYFILL_URL, { skipDatasetAttributes: true });\n      const self = this;\n      const interval = setInterval(() => {\n        // check if the polyfill is loaded\n        // In chrome 83 and below versions ID of a script is not part of window's scope\n        // even though it is loaded and returns false for <window.hasOwnProperty(\"polyfill\")> this.\n        // So, added another checking to fulfill that purpose.\n        if (\n          (window.hasOwnProperty(id) || document.getElementById(id) !== null) &&\n          typeof Promise !== 'undefined'\n        ) {\n          clearInterval(interval);\n          self.loadAfterPolyfill(writeKey, serverUrl, clonedOptions);\n        }\n      }, 100);\n\n      setTimeout(() => {\n        clearInterval(interval);\n      }, MAX_WAIT_FOR_INTEGRATION_LOAD);\n    } else {\n      this.loadAfterPolyfill(writeKey, serverUrl, clonedOptions);\n    }\n  }\n\n  ready(callback) {\n    if (!this.loaded) {\n      this.toBeProcessedArray.push(['ready', callback]);\n      return;\n    }\n    if (typeof callback === 'function') {\n      /**\n       * If integrations are loaded or no integration is available for loading\n       * execute the callback immediately\n       * else push the callbacks to a queue that will be executed after loading completes\n       */\n      if (this.clientIntegrationsReady) {\n        callback();\n      } else {\n        this.readyCallbacks.push(callback);\n      }\n      return;\n    }\n    logger.error('ready callback is not a function');\n  }\n\n  initializeCallbacks() {\n    Object.keys(this.methodToCallbackMapping).forEach((methodName) => {\n      if (this.methodToCallbackMapping.hasOwnProperty(methodName)) {\n        this.on(methodName, () => {});\n      }\n    });\n  }\n\n  registerCallbacks(calledFromLoad) {\n    if (!calledFromLoad) {\n      Object.keys(this.methodToCallbackMapping).forEach((methodName) => {\n        if (\n          this.methodToCallbackMapping.hasOwnProperty(methodName) &&\n          window.rudderanalytics &&\n          typeof window.rudderanalytics[this.methodToCallbackMapping[methodName]] === 'function'\n        ) {\n          this.clientSuppliedCallbacks[methodName] =\n            window.rudderanalytics[this.methodToCallbackMapping[methodName]];\n        }\n        // let callback =\n        //   ? typeof window.rudderanalytics[\n        //       this.methodToCallbackMapping[methodName]\n        //     ] == \"function\"\n        //     ? window.rudderanalytics[this.methodToCallbackMapping[methodName]]\n        //     : () => {}\n        //   : () => {};\n\n        // logger.debug(\"registerCallbacks\", methodName, callback);\n\n        // this.on(methodName, callback);\n      });\n    }\n\n    Object.keys(this.clientSuppliedCallbacks).forEach((methodName) => {\n      if (this.clientSuppliedCallbacks.hasOwnProperty(methodName)) {\n        // logger.debug(\n        //   \"registerCallbacks\",\n        //   methodName,\n        //   this.clientSuppliedCallbacks[methodName]\n        // );\n        this.on(methodName, this.clientSuppliedCallbacks[methodName]);\n      }\n    });\n  }\n\n  sendSampleRequest() {\n    ScriptLoader('ad-block', '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js');\n  }\n\n  /**\n   * A public method to start a session\n   * @param {string} sessionId     session identifier\n   * @returns\n   */\n  startSession(sessionId) {\n    this.uSession.start(sessionId);\n  }\n\n  /**\n   * A public method to end an ongoing session.\n   */\n  endSession() {\n    this.uSession.end();\n  }\n\n  setAuthToken(token) {\n    if (typeof token !== 'string') {\n      logger.error('Provided input should be in string format');\n      return;\n    }\n    this.storage.setAuthToken(token);\n    this.transformationHandler.setAuthToken(token);\n  }\n}\n\nconst instance = new Analytics();\n\nfunction processDataInAnalyticsArray(analytics) {\n  if (analytics.toBeProcessedArray.length > 0) {\n    while (analytics.toBeProcessedArray.length > 0) {\n      const event = [...analytics.toBeProcessedArray[0]];\n\n      // remove the element from the queue\n      analytics.toBeProcessedArray.shift();\n\n      const method = event[0];\n      event.shift();\n      // logger.debug(\"=====from analytics array, calling method:: \", method)\n      analytics[method](...event);\n    }\n  }\n}\n\n/**\n * parse the given url into usable Rudder object\n * @param {*} query\n */\nfunction retrieveEventsFromQueryString(url) {\n  const queryDefaults = {\n    trait: 'ajs_trait_',\n    prop: 'ajs_prop_',\n  };\n\n  function getDataFromQueryObj(qObj, dataType) {\n    const data = {};\n    Object.keys(qObj).forEach((key) => {\n      if (key.startsWith(dataType)) {\n        data[key.substr(dataType.length)] = qObj[key];\n      }\n    });\n    return data;\n  }\n\n  const queryObject = parseQueryString(url);\n  if (queryObject.ajs_aid) {\n    instance.toBeProcessedArray.push(['setAnonymousId', queryObject.ajs_aid]);\n  }\n\n  if (queryObject.ajs_uid) {\n    instance.toBeProcessedArray.push([\n      'identify',\n      queryObject.ajs_uid,\n      getDataFromQueryObj(queryObject, queryDefaults.trait),\n    ]);\n  }\n\n  if (queryObject.ajs_event) {\n    instance.toBeProcessedArray.push([\n      'track',\n      queryObject.ajs_event,\n      getDataFromQueryObj(queryObject, queryDefaults.prop),\n    ]);\n  }\n}\n\nEmitter(instance);\n\nwindow.addEventListener(\n  'error',\n  (e) => {\n    handleError(e, undefined, instance);\n  },\n  true,\n);\n\n// initialize supported callbacks\ninstance.initializeCallbacks();\n\n// register supported callbacks\ninstance.registerCallbacks(false);\n\nconst defaultMethod = 'load';\nconst argumentsArray = window.rudderanalytics;\nconst isValidArgsArray = Array.isArray(argumentsArray);\nlet defaultEvent;\nif (isValidArgsArray) {\n  /**\n   * Iterate the buffered API calls until we find load call and\n   * queue it first for processing\n   */\n  let i = 0;\n  while (i < argumentsArray.length) {\n    if (argumentsArray[i] && argumentsArray[i][0] === defaultMethod) {\n      defaultEvent = argumentsArray[i];\n      argumentsArray.splice(i, 1);\n      break;\n    }\n    i += 1;\n  }\n}\n\n// parse querystring of the page url to send events\nretrieveEventsFromQueryString(window.location.href);\n\nif (isValidArgsArray) argumentsArray.forEach((x) => instance.toBeProcessedArray.push(x));\n\n// Process load method if present in the buffered requests\nif (defaultEvent && defaultEvent.length > 0) {\n  defaultEvent.shift();\n  instance[defaultMethod](...defaultEvent);\n}\n\nconst ready = instance.ready.bind(instance);\nconst identify = instance.identify.bind(instance);\nconst page = instance.page.bind(instance);\nconst track = instance.track.bind(instance);\nconst alias = instance.alias.bind(instance);\nconst group = instance.group.bind(instance);\nconst reset = instance.reset.bind(instance);\nconst load = instance.load.bind(instance);\nconst initialized = (instance.initialized = true);\nconst getUserId = instance.getUserId.bind(instance);\nconst getSessionId = instance.getSessionId.bind(instance);\nconst getUserTraits = instance.getUserTraits.bind(instance);\nconst getAnonymousId = instance.getAnonymousId.bind(instance);\nconst setAnonymousId = instance.setAnonymousId.bind(instance);\nconst getGroupId = instance.getGroupId.bind(instance);\nconst getGroupTraits = instance.getGroupTraits.bind(instance);\nconst startSession = instance.startSession.bind(instance);\nconst endSession = instance.endSession.bind(instance);\nconst setAuthToken = instance.setAuthToken.bind(instance);\n\nexport {\n  initialized,\n  ready,\n  page,\n  track,\n  load,\n  identify,\n  reset,\n  alias,\n  group,\n  getUserId,\n  getSessionId,\n  getUserTraits,\n  getAnonymousId,\n  setAnonymousId,\n  getGroupId,\n  getGroupTraits,\n  startSession,\n  endSession,\n  setAuthToken,\n};\n","import * as R from 'ramda';\nimport logger from \"./logUtil\";\nimport {mergeDeepRight} from \"./ObjectUtils\";\n\n/**\n * Prepares the data for integrationsObj\n *\n * @param {*} integrationsData\n * @param {*} integrationInstances\n *\n */\nconst constructMessageIntegrationsObj = (integrationsData, integrationInstances) => {\n    let enhancedIntegrationsData = R.clone(integrationsData);\n\n    integrationInstances.forEach((integrationInstance) => {\n        if (integrationInstance.getDataForIntegrationsObject) {\n            try {\n                enhancedIntegrationsData = mergeDeepRight(\n                    enhancedIntegrationsData,\n                    integrationInstance.getDataForIntegrationsObject()\n                );\n            } catch (error) {\n                logger.debug('[Analytics: prepareDataForIntegrationsObj]', error);\n            }\n        }\n    });\n\n    return enhancedIntegrationsData;\n};\n\n/**\n * Prepares the data for integrationsObj\n *\n * @param {*} integrationsData\n * @param {*} clientSuppliedIntegrations\n *\n */\nconst getMergedClientSuppliedIntegrations = (integrationsData, clientSuppliedIntegrations) => {\n    const clonedIntegrationsData = R.clone(integrationsData);\n\n    // Filtering the integrations which are not a part of integrationsData object or value set to false\n    const activeClientSuppliedIntegrations = Object.keys(clientSuppliedIntegrations)\n        .filter((integration) => !(\n            clientSuppliedIntegrations[integration] === true && clonedIntegrationsData[integration]\n        ))\n        .reduce((obj, key) => {\n            // eslint-disable-next-line no-param-reassign\n            obj[key] = clientSuppliedIntegrations[key];\n            return obj;\n        }, {});\n\n    return mergeDeepRight(\n        clonedIntegrationsData,\n        activeClientSuppliedIntegrations,\n    );\n};\n\nexport {\n    constructMessageIntegrationsObj,\n    getMergedClientSuppliedIntegrations\n}","const getUserAgentClientHint = (callback, level = 'none') => {\n  if (level === 'none') {\n    callback(undefined);\n  }\n  if (level === 'default') {\n    callback(navigator.userAgentData);\n  }\n  if (level === 'full') {\n    navigator.userAgentData\n      .getHighEntropyValues([\n        'architecture',\n        'bitness',\n        'brands',\n        'mobile',\n        'model',\n        'platform',\n        'platformVersion',\n        'uaFullVersion',\n        'fullVersionList',\n        'wow64',\n      ])\n      .then((ua) => {\n        callback(ua);\n      });\n  }\n};\n\nexport { getUserAgentClientHint };\n","import { getSDKUrlInfo, removeTrailingSlashes } from './utils';\nimport { handleError } from './errorHandler';\nimport { CDN_ARCH_VERSION_DIR, CDN_INT_DIR, DEST_SDK_BASE_URL } from './constants';\n\nconst getIntegrationsCDNPath = (\n  currentVersion,\n  lockIntegrationsVersion,\n  customIntegrationsCDNPath,\n) => {\n  let integrationsCDNPath = '';\n\n  // Get the CDN base URL from the user provided URL if any\n  if (customIntegrationsCDNPath) {\n    integrationsCDNPath = removeTrailingSlashes(customIntegrationsCDNPath);\n\n    // TODO: add proper url validation\n    if (!integrationsCDNPath) {\n      const errorMsg = 'CDN base URL for integrations is not valid';\n\n      handleError({\n        message: `[Analytics] load:: ${errorMsg}`,\n      });\n      throw Error(`Failed to load Rudder SDK: ${errorMsg}`);\n    }\n\n    return integrationsCDNPath;\n  }\n\n  // Get the base path from the SDK script tag src attribute or use the default path\n  const { sdkURL } = getSDKUrlInfo();\n  integrationsCDNPath = sdkURL\n    ? sdkURL.split('/').slice(0, -1).concat(CDN_INT_DIR).join('/')\n    : DEST_SDK_BASE_URL;\n\n  // If version is not locked it will always get the latest version of the integrations\n  if (lockIntegrationsVersion) {\n    integrationsCDNPath = integrationsCDNPath.replace(CDN_ARCH_VERSION_DIR, currentVersion);\n  }\n\n  return integrationsCDNPath;\n};\n\nexport { getIntegrationsCDNPath };\n"],"names":["Emitter","obj","key","prototype","mixin","module","exports","on","addEventListener","event","fn","this","_callbacks","push","once","off","apply","arguments","removeListener","removeAllListeners","removeEventListener","length","cb","callbacks","i","splice","emit","args","Array","len","slice","listeners","hasListeners","_isPlaceholder","a","_typeof","_curry1","f1","_curry2","f2","b","_b","_a","_curry3","f3","c","_c","_has","prop","Object","hasOwnProperty","call","type","val","undefined","toString","_isObject","x","_clone","value","deep","map","_ObjectMap","param","_isPrimitive","pattern","copy","copiedValue","cachedCopy","get","set","create","getPrototypeOf","Date","valueOf","RegExp","source","flags","global","ignoreCase","multiline","sticky","unicode","dotAll","hashedKey","hash","bucket","join","p","element","clone","mergeWithKey","l","r","k","result","mergeDeepWithKey","lObj","rObj","lVal","rVal","mergeDeepWith$1","isObject","isArray","getValue","target","path","options","default","isValidObject","String","isString","splitChar","separator","joinChar","isValid","segs","split","idx","hasProp","n","BUFFER","IDX","HEX","substring","v4","crypto","getRandomValues","Uint8Array","tmp","out","_CNameMapping","LOG_LEVEL","logger","setLogLevel","logLevel","toUpperCase","info","_console","console","debug","_console2","log","warn","_console3","error","_console4","NAME","CNameMapping","ADOBEANALYTICS","_defineProperty","commonNames","_objectSpread","All","AdobeAnalytics","Amplitude","Appcues","BingAds","Braze","Bugsnag","Chartbeat","Clevertap","Comscore","Criteo","CustomerIO","Drip","FacebookPixel","Fullstory","GA","GA4","GA360","GoogleAds","GoogleOptimize","GoogleTagManager","Heap","Hotjar","HubSpot","INTERCOM","Keen","Kissmetrics","Klaviyo","LaunchDarkly","LinkedInInsightTag","Lotame","Lytics","Mixpanel","MoEngage","Optimizely","Pendo","PinterestTag","PostAffiliatePro","Posthog","ProfitWell","Qualtrics","QuantumMetric","RedditPixel","Sentry","SnapPixel","TVSquared","VWO","Adroll","DCMFloodlight","Matomo","Vero","Mouseflow","ConvertFlow","SnapEngage","LiveChat","Shynet","Woopra","RollBar","QuoraPixel","June","Engage","Iterable","Rockerbox","YandexMetrica","Refiner","Qualaroo","Podsights","Axeptio","SatisMeter","MicrosoftClarity","Sendinblue","Olark","Lemnisk","TiktokAds","clientToServerNames","GOOGLEADS","BRAZE","CHARTBEAT","COMSCORE","CUSTOMERIO","DCM_Floodlight","FACEBOOK_PIXEL","GTM","HOTJAR","HS","KEEN","KISSMETRICS","LOTAME","OPTIMIZELY","FULLSTORY","TVSQUARED","MOENGAGE","AM","PENDO","LYTICS","APPCUES","POSTHOG","PROFITWELL","KLAVIYO","CLEVERTAP","BINGADS","PINTEREST_TAG","SNAP_PIXEL","LINKEDIN_INSIGHT_TAG","REDDIT_PIXEL","DRIP","HEAP","CRITEO","MP","QUALTRICS","SENTRY","GOOGLE_OPTIMIZE","POST_AFFILIATE_PRO","LAUNCHDARKLY","ADROLL","VERO","MATOMO","MOUSEFLOW","ROCKERBOX","CONVERTFLOW","SNAPENGAGE","LIVECHAT","SHYNET","WOOPRA","ROLLBAR","QUORA_PIXEL","JUNE","ENGAGE","ITERABLE","YANDEX_METRICA","REFINER","QUALAROO","PODSIGHTS","AXEPTIO","SATISMETER","MICROSOFT_CLARITY","SENDINBLUE","OLARK","LEMNISK","TIKTOK_ADS","RESERVED_KEYS","CONFIG_URL","CDN_ARCH_VERSION_DIR","CDN_INT_DIR","DEST_SDK_BASE_URL","concat","MAX_WAIT_FOR_INTEGRATION_LOAD","INTEGRATION_LOAD_CHECK_INTERVAL","INTG_SUFFIX","SAMESITE_COOKIE_OPTS","RESIDENCY_SERVERS","SUPPORTED_CONSENT_MANAGERS","SYSTEM_KEYWORDS","UA_CH_LEVELS","DEFAULT_INTEGRATIONS_CONFIG","FAILED_REQUEST_ERR_MSG_PREFIX","ERROR_MESSAGES_TO_BE_FILTERED","notifyError","errorReportingClient","window","rudderanalytics","Error","notify","mergeDeepRightObjectArrays","leftValue","rightValue","R","mergedArray","forEach","index","mergeDeepRight","leftObject","rightObject","stringifyWithoutCircular","excludeNull","JSON","stringify","ancestors","pop","includes","getCircularReplacer","normalizeError","customMessage","analyticsInstance","errorMessage","message","e","localName","dataset","loader","isNonNativeSDK","src","id","page","title","sendAdblockPageOptions","handleError","err","some","isAllowedToBeNotified","removeTrailingSlashes","inURL","endsWith","replace","generateUUID","uuidSecure","num","Math","random","uuid","getCurrentTimeFormatted","toISOString","transformNamesCore","integrationObject","namesObj","keys","transformToRudderNames","transformToServerNames","findAllEnabledDestinations","sdkSuppliedIntegrations","configPlaneEnabledIntegrations","enabledList","allValue","intgData","intg","intgName","intObj","name","_ref","intgValue","getSDKUrlInfo","sdkURL","scripts","document","getElementsByTagName","isStaging","curScriptSrc","getAttribute","urlMatches","match","getStringId","isValidServerUrl","serverUrl","trim","resolveDataPlaneUrl","response","dataPlanes","dataplanes","inputRegion","region","residencyServer","getResidencyServer","regionUrlArr","defaultUrl","urls","find","elem","url","getDefaultUrlofRegion","CryptoJS","F","subtype","C","C_lib","lib","Base","extend","overrides","mixIn","init","$super","instance","properties","propertyName","WordArray","words","sigBytes","encoder","Hex","wordArray","thisWords","thatWords","thisSigBytes","thatSigBytes","clamp","thatByte","ceil","nBytes","rcache","m_w","m_z","mask","_r","C_enc","enc","hexChars","bite","parse","hexStr","hexStrLength","parseInt","substr","Latin1","latin1Chars","fromCharCode","latin1Str","latin1StrLength","charCodeAt","Utf8","decodeURIComponent","escape","utf8Str","unescape","encodeURIComponent","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","data","_process","doFlush","dataWords","dataSigBytes","blockSize","nBlocksReady","nWordsReady","max","_minBufferSize","nBytesReady","min","offset","_doProcessBlock","processedWords","Hasher","cfg","_doReset","update","messageUpdate","finalize","_doFinalize","_createHelper","hasher","_createHmacHelper","C_algo","HMAC","algo","require$$0","parseLoop","base64Str","base64StrLength","reverseMap","bits1","bits2","Base64","_map","base64Chars","triplet","j","charAt","paddingChar","_reverseMap","paddingIndex","indexOf","T","abs","sin","MD5","_hash","M","offset_i","M_offset_i","H","M_offset_0","M_offset_1","M_offset_2","M_offset_3","M_offset_4","M_offset_5","M_offset_6","M_offset_7","M_offset_8","M_offset_9","M_offset_10","M_offset_11","M_offset_12","M_offset_13","M_offset_14","M_offset_15","d","FF","GG","HH","II","nBitsTotal","nBitsLeft","nBitsTotalH","floor","nBitsTotalL","H_i","s","t","HmacMD5","W","SHA1","HmacSHA1","EvpKDF","keySize","iterations","compute","password","salt","derivedKey","derivedKeyWords","block","factory","require$$1","_hasher","hasherBlockSize","hasherBlockSizeBytes","oKey","_oKey","iKey","_iKey","oKeyWords","iKeyWords","innerHash","BlockCipher","SBOX","INV_SBOX","SUB_MIX_0","SUB_MIX_1","SUB_MIX_2","SUB_MIX_3","INV_SUB_MIX_0","INV_SUB_MIX_1","INV_SUB_MIX_2","INV_SUB_MIX_3","xi","sx","x2","x4","x8","RCON","AES","_nRounds","_keyPriorReset","_key","keyWords","ksRows","keySchedule","_keySchedule","ksRow","invKeySchedule","_invKeySchedule","invKsRow","encryptBlock","_doCryptBlock","decryptBlock","nRounds","s0","s1","s2","s3","round","t0","t1","t2","t3","require$$2","require$$3","Cipher","createEncryptor","_ENC_XFORM_MODE","createDecryptor","_DEC_XFORM_MODE","xformMode","_xformMode","process","dataUpdate","ivSize","selectCipherStrategy","PasswordBasedCipher","SerializableCipher","cipher","encrypt","decrypt","ciphertext","StreamCipher","C_mode","mode","BlockCipherMode","iv","Encryptor","Decryptor","_cipher","_iv","CBC","xorBlock","_prevBlock","processBlock","thisBlock","Pkcs7","pad","blockSizeBytes","nPaddingBytes","paddingWord","paddingWords","padding","unpad","modeCreator","_mode","__creator","finalProcessedBlocks","CipherParams","cipherParams","formatter","OpenSSLFormatter","format","OpenSSL","openSSLStr","ciphertextWords","encryptor","cipherCfg","algorithm","_parse","OpenSSLKdf","kdf","execute","derivedParams","m","h","w","y","plural","ms","msAbs","isPlural","str","exec","parseFloat","toLowerCase","isFinite","long","fmtLong","fmtShort","common","env","createDebug","namespace","prevTime","namespacesCache","enabledCache","enableOverride","_len","enabled","self","curr","Number","diff","prev","coerce","unshift","formatters","formatArgs","logFn","useColors","color","selectColor","destroy","defineProperty","enumerable","configurable","namespaces","v","delimiter","newDebug","toNamespace","regexp","stack","disable","_toConsumableArray","names","skips","enable","save","test","humanize","colors","load","warned","lastC","storage","setItem","removeItem","getItem","DEBUG","__nwjs","navigator","userAgent","documentElement","style","WebkitAppearance","firebug","exception","table","$1","localStorage","localstorage","rudderComponentCookie","all","encode","maxage","expires","domain","toUTCString","samesite","secure","cookie","pair","pairs","decode","drop_1","count","collection","toDrop","resultsLength","results","rest_1","drop","rest","has","objToString","Boolean","isPlainObject","shallowCombiner","deepCombiner","defaultsDeep","defaultsWith","combiner","sources","defaultsModule","componentCookie","levels","cname","opts","href","parts","URL","createElement","hostname","last","CookieLocal","_classCallCheck","cOpts","isSupportAvailable","checkSupportAvailability","_createClass","inOpts","topDomain","location","defaults","remove","Cookie","isJSON","deserialize","isFunction","dealIncognito","_KEY","_VALUE","inMemoryStorage","Store","ret","dt","clear","callback","search","arr","_Store","store","argm","StoreLocal","sOpts","anonymousIdKeyMap","segment","decryptValue","Storage","encryptValue","setStringItem","anonId","anonymousIdOptions","rlAnonymousId","fetchExternalAnonymousId","flag","getReferrer","referrer","getReferringDomain","getCanonicalUrl","tags","tag","getDefaultPageProperties","canonicalUrl","pathname","_window$location","hashIndex","getUrl","tab_url","referring_domain","initial_referrer","getInitialReferrer","initial_referring_domain","getInitialReferringDomain","RudderApp","version","RudderLibraryInfo","RudderOSInfo","RudderScreenInfo","density","width","height","innerWidth","innerHeight","RudderContext","screenDetails","app","traits","library","brave","isBrave","matchedArr","getUserAgent","device","network","os","locale","language","browserLanguage","screen","devicePixelRatio","RudderMessage","channel","context","messageId","originalTimestamp","anonymousId","userId","RudderElement","rudderProperty","rudderUserProperty","user_properties","eventName","RudderElementBuilder","eventType","setUserId","setType","setEventName","setProperty","setUserProperty","dist","hop","strCharAt","toStr","indexKeys","pred","keys_1","isArrayLike","objectKeys","inMemoryStore","engine","defaultEngine","isSupportedNatively","inMemoryEngine","isNumber","arrayEach","iterator","array","baseEach","object","ks","each_1","each","json","optionalEngine","originalEngine","compoundKey","_createValidKey","quotaExceeded","code","number","isQuotaExceeded","_swapEngine","getOriginalEngine","each$2","defaultClock","setTimeout","clearTimeout","clock","modes","ASAP","RESCHEDULE","ABANDON","Schedule","tasks","nextId","now","run","task","timeout","_handle","cancel","cancelAll","start","setClock","newClock","resetClock","Modes","schedule","require$$4","bind","func","Queue","maxItems","Infinity","maxAttempts","backoff","MIN_RETRY_DELAY","minRetryDelay","MAX_RETRY_DELAY","maxRetryDelay","FACTOR","backoffFactor","JITTER","backoffJitter","timeouts","ACK_TIMER","RECLAIM_TIMER","RECLAIM_TIMEOUT","RECLAIM_WAIT","IN_PROGRESS","QUEUE","RECLAIM_START","RECLAIM_END","ACK","_schedule","_processId","_store","_ack","_checkReclaim","_processHead","_running","require$$5","stop","shouldRetry","_","attemptNumber","getDelay","pow","rand","deviation","toPrecision","addItem","item","_enqueue","time","requeue","entry","queue","sort","inProgress","toRun","enqueue","el","done","res","inProgressSize","shift","_reclaim","tryReclaim","findOtherQueues","_this","other","our","their","trackMessageIds","addConcatQueue","incrementAttemptNumberBy","queueOptions","XHRQueue","writeKey","_extends","payloadQueue","sentAt","processQueueElement","headers","queueFn","xhr","XMLHttpRequest","open","setRequestHeader","ontimeout","onerror","onreadystatechange","readyState","status","errMessage","statusText","send","Authorization","btoa","AnonymousId","BeaconQueue","flushQueueTimeOut","timeOutActive","flushQueueTimeOutInterval","writekey","queueName","sendDataFromQueueAndDestroyQueue","flushQueueInterval","sendQueueData","sendQueueDataForBeacon","getQueue","batch","flushQueue","setQueue","setTimer","sendDataFromQueue","payload","blob","Blob","targetUrl","sendBeacon","clearTimer","EventRepository","useBeacon","beaconQueueOptions","rudderElement","getElementContent","eventRepository","PreProcessQueue","processQueueElements","setPrototypeOf","LOAD_ORIGIN","ScriptLoader","exists","getElementById","js","async","skipDatasetAttributes","setAttribute","headElmColl","insertBefore","firstChild","parentNode","USER_INTERFACE","b64DecodeUnicode","atob","KEY_VALIDATOR","DELIMITER","getCheckSum","serializedIds","optOffsetMin","fingerprint","getTimezoneOffset","getFingerprint","crc","crcTable","makeCRCTable","crc32","parseLinker","linkerObj","isEven","checksum","parseLinkerParamValue","isCheckSumValid","keyValuePairs","params","configToIntNames","BUGSNAG","ADOBE_ANALYTICS","QUANTUMMETRIC","DCM_FLOODLIGHT","OneTrust","isInitialized","OnetrustActiveGroups","userSetConsentGroupIds","filter","oneTrustAllGroupsInfo","GetDomainData","Groups","userSetConsentGroupNames","userDeniedConsentGroupIds","group","CustomGroupId","GroupName","destConfig","_this2","oneTrustCookieCategories","oneTrustConsentGroupArr","oneTrustCookieCategory","every","CookieConsentFactory","cookieConsentOptions","_cookieConsentOptions","oneTrust","UserSession","sessionInfo","getSessionInfo","autoTrack","_options$sessions","sessions","manualTrack","isNaN","startAutoTracking","end","timestamp","expiresAt","isValidSession","sessionStart","setSessionInfo","sessionId","validateSessionId","generateSessionId","removeSessionInfo","session","_this$sessionInfo","userSession","defaultTopLevelElements","ERROR_REPORT_PROVIDER_NAME_BUGSNAG","BUGSNAG_LIB_INSTANCE_GLOBAL_KEY_NAME","GLOBAL_LIBRARY_OBJECT_NAMES","API_KEY","SDK_FILE_NAMES","isValidVersion","globalLibInstance","_client","_notifier","tempInstance","apiKey","releaseStage","beforeSend","notifier","loadBugsnagSDKScript","globalKeyName","_objectHasOwn","BugsnagProvider","sourceId","onClientReady","pluginName","initClientOnLibReadyInterval","globalBugsnagLibInstance","setInterval","globalBugsnagLibInstanceOnInterval","initClient","clearInterval","host","client","appVersion","metaData","SDK","installType","onError","autoTrackSessions","collectUserIp","enabledBreadcrumbTypes","maxEvents","metadataSource","errorOrigin","srcFileName","lastIndexOf","isRudderSDKError","updateMetaData","severity","enhanceErrorEventMutator","_unused","leaveBreadcrumb","DEFAULT_ERROR_REPORT_PROVIDER","AVAILABLE_ERROR_REPORT_PROVIDERS","ErrorReportingService","isEnabled","providerName","provider","exposeToGlobal","sourceConfig","getErrorCollectionEnabledFromConfig","setProviderName","getProviderNameFromConfig","initProvider","breadcrumb","DeviceModeTransformations","TransformationsHandler","retryAttempt","isTransformationProcessing","authToken","dataPlaneUrl","Promise","resolve","reject","transformedPayload","transformedBatch","transformationServerAccess","newRetryAttempt","sendEventForTransformation","then","catch","RETRY_INTERVAL","firstElement","metadata","orderNo","outcome","checkQueueLengthAndProcess","_this3","token","Analytics","initialized","clientIntegrations","loadOnlyIntegrations","clientIntegrationObjects","successfullyLoadedIntegration","failedToBeLoadedIntegration","toBeProcessedArray","toBeProcessedByIntegrationArray","preProcessQueue","sendAdblockPage","clientSuppliedCallbacks","readyCallbacks","methodToCallbackMapping","syncPixel","loaded","loadIntegration","bufferDataPlaneEventsUntilReady","dataPlaneEventsBufferTimeout","integrationsData","dynamicallyLoadedIntegrations","destSDKBaseURL","clientIntegrationsReady","uSession","lockIntegrationsVersion","errorReporting","deniedConsentIds","transformationHandler","getUserId","userTraits","getUserTraits","setUserTraits","groupId","getGroupId","setGroupId","groupTraits","getGroupTraits","setGroupTraits","getAnonymousId","setAnonymousId","initialReferrer","setInitialReferrer","setInitialReferringDomain","pause","allModulesInitialized","modName","constructor","responseVal","config","initialize","getAuthToken","onLoaded","analytics","method","processDataInAnalyticsArray","destinations","destination","destinationDefinition","destinationInfo","areTransformationsConnected","destinationId","cookieConsent","getDeniedList","suffix","processBufferedCloudModeEvents","modURL","interval","integrationSDKLoaded","intgInstance","intMod","msg","executeReadyCallback","replayEvents","methodName","clonedRudderElement","destWithTransformation","integrations","_transformedEvents","transformedEvents","destTransformedResult","tEvent","sendDataToDestination","_this4","destWithoutTransformation","IsEventBlackListed","sendTransformedDataToDestination","clientSuppliedIntegrations","clonedIntegrationsData","activeClientSuppliedIntegrations","integration","reduce","getMergedClientSuppliedIntegrations","activateProcessor","_this5","integrationInstances","enhancedIntegrationsData","isReady","integrationInstance","getDataForIntegrationsObject","successfulLoadedIntersectClientSuppliedIntegrations","processAndSendEventsToDeviceMode","_this6","isLoaded","category","sendSampleRequest","clonedProperties","clonedOptions","build","getPageProperties","processAndSendDataToDestinations","clonedTraits","to","from","previousId","sdkIntgName","_intg$config","clientIntegration","blacklistedEvents","whitelistedEvents","eventFilteringOption","formattedEventName","eventObj","useGlobalIntegrationsConfigInEvents","_this$uSession$getSes","consentManagement","processOptionsParam","messageType","property","trait","contextualTraits","contextTrait","checkReservedKeywords","shouldUseGlobalIntegrationsConfigInEvents","uach","queueEventForDataPlane","urlObj","UTM_PREFIX","searchParams","sParam","startsWith","utmParam","msgContext","campaign","utm","_rudderElement$messag","addCampaignInfo","getContextPageProperties","rudderElementMessage","mergeTopLevelElementsMutator","tempContext","mergeContext","defaultPageProperties","optionPageProperties","contextPageProperties","getSessionId","rudderAmpLinkerParm","parsedAnonymousIdObj","parsedAnonymousId","rs_amp_id","aB","_this7","isValidWriteKey","cookieConsentManager","storageOptions","setCookieDomain","secureCookie","sameSiteCookie","uaChTrackLevel","userAgentData","level","getHighEntropyValues","ua","getUserAgentClientHint","transformedCallbackMapping","registerCallbacks","initializeUser","setInitialPageProperties","currentVersion","customIntegrationsCDNPath","integrationsCDNPath","errorMsg","getIntegrationsCDNPath","getSourceConfig","pRes","processResponse","configUrl","getConfigUrl","defConfigUrl","defQueryParams","urlSplitItems","getUserProvidedConfigUrl","cb_","onload","responseText","getJSONTrimmed","polyfillIfRequired","entries","values","replaceAll","isDatasetAvailable","arePolyfillsRequired","loadAfterPolyfill","_this8","calledFromLoad","_this9","setAuthToken","initializeCallbacks","defaultEvent","defaultMethod","argumentsArray","isValidArgsArray","queryDefaults","getDataFromQueryObj","qObj","dataType","queryObject","qParam","parseQueryString","ajs_aid","ajs_uid","ajs_event","retrieveEventsFromQueryString","ready","identify","track","alias","startSession","endSession"],"mappings":"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AC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,ICpJCC,GAAsB,CAC1B1E,IAAK,MACLe,GAAI,mBACJ4D,UAAW,aACXC,MAAO,QACPC,UAAW,YACXC,SAAU,WACVC,WAAY,cACZC,eAAgB,iBAChBC,eAAgB,iBAChBC,IAAK,qBACLC,OAAQ,SACRC,GAAI,UACJ5D,SAAU,WACV6D,KAAM,OACNC,YAAa,eACbC,OAAQ,SACRzC,IAAK,MACL0C,WAAY,iBACZC,UAAW,YACXC,UAAW,YACX1E,IAAK,qBACL2E,SAAU,WACVC,GAAI,YACJC,MAAO,QACPC,OAAQ,SACRC,QAAS,UACTC,QAAS,UACTC,WAAY,aACZC,QAAS,UACTC,UAAW,YACXC,QAAS,WACTC,cAAe,gBACfC,WAAY,aACZC,qBAAsB,uBACtBC,aAAc,eACdC,KAAM,OACNC,KAAM,UACNC,OAAQ,SACRC,GAAI,WACJC,UAAW,YACXC,OAAQ,SACRC,gBAAiB,kBACjBC,mBAAoB,qBACpBC,aAAc,eACdhG,MAAO,uBACPiG,OAAQ,SACRC,KAAM,OACNC,OAAQ,SACRC,UAAW,YACXC,UAAW,YACXC,YAAa,cACbC,WAAY,aACZC,SAAU,WACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,UACTC,YAAa,cACbC,KAAM,OACNC,OAAQ,SACRC,SAAU,WACVC,eAAgB,iBAChBC,QAAS,UACTC,SAAU,WACVC,UAAW,YACXC,QAAS,UACTC,WAAY,aACZC,kBAAmB,oBACnBC,WAAY,aACZC,MAAO,QACPC,QAAS,UACTC,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"}